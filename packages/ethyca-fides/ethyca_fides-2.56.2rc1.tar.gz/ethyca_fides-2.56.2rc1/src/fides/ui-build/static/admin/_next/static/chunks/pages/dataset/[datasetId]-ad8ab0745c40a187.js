(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9340],{66070:function(e){e.exports=function(e,t){for(var n=-1,o=null==e?0:e.length,r=Array(o);++n<o;)r[n]=t(e[n],n,e);return r}},79867:function(e,t,n){var o=n(76747),r=n(37948);e.exports=function(e,t){t=o(t,e);for(var n=0,i=t.length;null!=e&&n<i;)e=e[r(t[n++])];return n&&n==i?e:void 0}},34282:function(e,t,n){var o=n(96539),r=n(66070),i=n(19785),l=n(55193),a=1/0,c=o?o.prototype:void 0,s=c?c.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(i(t))return r(t,e)+"";if(l(t))return s?s.call(t):"";var n=t+"";return"0"==n&&1/t==-a?"-0":n}},76747:function(e,t,n){var o=n(19785),r=n(40318),i=n(23419),l=n(65567);e.exports=function(e,t){return o(e)?e:r(e,t)?[e]:i(l(e))}},40318:function(e,t,n){var o=n(19785),r=n(55193),i=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,l=/^\w*$/;e.exports=function(e,t){if(o(e))return!1;var n=typeof e;return!!("number"==n||"symbol"==n||"boolean"==n||null==e||r(e))||l.test(e)||!i.test(e)||null!=t&&e in Object(t)}},2941:function(e,t,n){var o=n(16651);e.exports=function(e){var t=o(e,function(e){return 500===n.size&&n.clear(),e}),n=t.cache;return t}},23419:function(e,t,n){var o=n(2941),r=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,i=/\\(\\)?/g,l=o(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(r,function(e,n,o,r){t.push(o?r.replace(i,"$1"):n||e)}),t});e.exports=l},37948:function(e,t,n){var o=n(55193),r=1/0;e.exports=function(e){if("string"==typeof e||o(e))return e;var t=e+"";return"0"==t&&1/e==-r?"-0":t}},99729:function(e,t,n){var o=n(79867);e.exports=function(e,t,n){var r=null==e?void 0:o(e,t);return void 0===r?n:r}},19785:function(e){var t=Array.isArray;e.exports=t},92360:function(e){e.exports=function(e){return null!=e&&"object"==typeof e}},55193:function(e,t,n){var o=n(99736),r=n(92360);e.exports=function(e){return"symbol"==typeof e||r(e)&&"[object Symbol]"==o(e)}},16651:function(e,t,n){var o=n(74554);function r(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw TypeError("Expected a function");var n=function(){var o=arguments,r=t?t.apply(this,o):o[0],i=n.cache;if(i.has(r))return i.get(r);var l=e.apply(this,o);return n.cache=i.set(r,l)||i,l};return n.cache=new(r.Cache||o),n}r.Cache=o,e.exports=r},65567:function(e,t,n){var o=n(34282);e.exports=function(e){return null==e?"":o(e)}},33187:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dataset/[datasetId]",function(){return n(61659)}])},61659:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return w}});var o=n(24246),r=n(92222),i=n(59003),l=n(96013),a=n(86677),c=n(27378),s=n(43124),u=n(87162),d=n(37541),f=n(8540),p=n(8339),h=n(52987),x=n(16781),m=n(57311),v=n(435),y=n(17823),g=n(5067),j=e=>{let{dataset:t,collection:n,isOpen:r,onClose:i}=e,a=(0,c.useMemo)(()=>null==t?void 0:t.collections.indexOf(n),[]),[s]=(0,v.TG)(),u=(0,l.pmc)(),{isOpen:d,onOpen:f,onClose:p}=(0,l.qY0)(),h=async e=>{let o={...n,...e},r=(0,g.jC)(t,o,a);try{await s(r),u((0,x.t5)("Successfully modified collection"))}catch(e){u((0,x.Vo)(e))}i()},j=async()=>{if(t&&void 0!==a){let e=(0,g.qe)(t,a);try{await s(e),u((0,x.t5)("Successfully deleted collection"))}catch(e){u((0,x.Vo)(e))}i(),p()}};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(m.ZP,{isOpen:r,onClose:i,description:"Collections are an array of objects that describe the Dataset's collections. Provide additional context to this collection by filling out the fields below.",header:(0,o.jsx)(m.zR,{title:"Collection Name: ".concat(null==n?void 0:n.name)}),footer:(0,o.jsx)(m.Gn,{onClose:i,onDelete:f,formId:y.e}),children:(0,o.jsx)(y.Z,{values:n,onSubmit:h,dataType:"collection",showDataCategories:!1})}),(0,o.jsx)(l.cVQ,{isOpen:d,onClose:p,onConfirm:j,title:"Delete Collection",message:(0,o.jsxs)(l.xvT,{children:["You are about to permanently delete the collection named"," ",(0,o.jsx)(l.xvT,{color:"complimentary.500",as:"span",fontWeight:"bold",children:null==n?void 0:n.name})," ","from this dataset. Are you sure you would like to continue?"]})})]})};let C=(0,r.Cl)(),b=()=>(0,o.jsx)(l.gCW,{mt:6,p:10,spacing:4,borderRadius:"base",maxW:"70%","data-testid":"no-results-notice",alignSelf:"center",margin:"auto",textAlign:"center",children:(0,o.jsx)(l.gCW,{children:(0,o.jsx)(l.xvT,{fontSize:"md",fontWeight:"600",children:"No collections found."})})});var w=()=>{let e=(0,a.useRouter)(),t=decodeURIComponent(e.query.datasetId),{isLoading:n,data:x}=(0,h.oM)(t),m=(0,c.useMemo)(()=>(null==x?void 0:x.collections)||[],[x]),[v,y]=(0,c.useState)(!1),[g,w]=(0,c.useState)(),[R,S]=(0,c.useState)(),_=(0,c.useMemo)(()=>[C.accessor(e=>e.name,{id:"name",cell:e=>(0,o.jsx)(f.G3,{value:e.getValue(),fontWeight:"semibold"}),header:e=>(0,o.jsx)(f.Rr,{value:"Collection Name",...e}),size:180}),C.accessor(e=>e.description,{id:"description",cell:e=>(0,o.jsx)(f.G3,{value:e.getValue(),cellProps:e}),header:e=>(0,o.jsx)(f.Rr,{value:"Description",...e}),size:300,meta:{showHeaderMenu:!0}}),C.display({id:"actions",header:"Actions",cell:e=>{let{row:t}=e,n=t.original;return(0,o.jsx)(l.Ugi,{spacing:0,"data-testid":"collection-".concat(n.name),children:(0,o.jsx)(l.wpx,{size:"small",icon:(0,o.jsx)(l.dY8,{}),onClick:()=>{w(n),y(!0)},children:"Edit"})})},meta:{disableRowClick:!0}})],[]),M=(0,c.useMemo)(()=>R?m.filter(e=>e.name.toLowerCase().includes(R.toLowerCase())):m,[m,R]),I=(0,i.b7)({getCoreRowModel:(0,r.sC)(),getFilteredRowModel:(0,r.vL)(),getSortedRowModel:(0,r.tj)(),columns:_,data:M,columnResizeMode:"onChange"}),N=(0,c.useMemo)(()=>[{title:"All datasets",href:u.$m},{title:t,icon:p.Y[1]}],[t]);return(0,o.jsxs)(s.Z,{title:"Dataset - ".concat(t),children:[(0,o.jsx)(d.Z,{heading:"Datasets",breadcrumbItems:N}),n?(0,o.jsx)(f.I4,{rowHeight:36,numRows:15}):(0,o.jsxs)(l.xuv,{"data-testid":"collections-table",children:[(0,o.jsx)(f.Q$,{children:(0,o.jsx)(f.HO,{globalFilter:R,setGlobalFilter:S,placeholder:"Search",testid:"collections-search"})}),(0,o.jsx)(f.ZK,{tableInstance:I,emptyTableNotice:(0,o.jsx)(b,{}),onRowClick:n=>{e.push({pathname:u.RF,query:{datasetId:encodeURIComponent(t),collectionName:encodeURIComponent(n.name)}})}})]}),x&&g&&(0,o.jsx)(j,{dataset:x,collection:g,isOpen:v,onClose:()=>y(!1)})]})}}},function(e){e.O(0,[8033,5559,4554,8540,4981,2888,9774,179],function(){return e(e.s=33187)}),_N_E=e.O()}]);