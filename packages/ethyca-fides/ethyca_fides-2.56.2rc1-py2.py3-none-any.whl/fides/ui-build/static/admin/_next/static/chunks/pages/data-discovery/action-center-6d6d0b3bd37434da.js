(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8443],{96539:function(t,e,n){var r=n(77400).Symbol;t.exports=r},99736:function(t,e,n){var r=n(96539),i=n(34840),s=n(21258),o=r?r.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":o&&o in Object(t)?i(t):s(t)}},74833:function(t,e,n){var r=n(56127),i=/^\s+/;t.exports=function(t){return t?t.slice(0,r(t)+1).replace(i,""):t}},39120:function(t,e,n){var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;t.exports=r},34840:function(t,e,n){var r=n(96539),i=Object.prototype,s=i.hasOwnProperty,o=i.toString,a=r?r.toStringTag:void 0;t.exports=function(t){var e=s.call(t,a),n=t[a];try{t[a]=void 0;var r=!0}catch(t){}var i=o.call(t);return r&&(e?t[a]=n:delete t[a]),i}},21258:function(t){var e=Object.prototype.toString;t.exports=function(t){return e.call(t)}},77400:function(t,e,n){var r=n(39120),i="object"==typeof self&&self&&self.Object===Object&&self,s=r||i||Function("return this")();t.exports=s},56127:function(t){var e=/\s/;t.exports=function(t){for(var n=t.length;n--&&e.test(t.charAt(n)););return n}},66726:function(t,e,n){var r=n(11611),i=n(82846),s=n(91936),o=Math.max,a=Math.min;t.exports=function(t,e,n){var c,l,u,d,p,f,m=0,v=!1,g=!1,y=!0;if("function"!=typeof t)throw TypeError("Expected a function");function x(e){var n=c,r=l;return c=l=void 0,m=e,d=t.apply(r,n)}function h(t){var n=t-f,r=t-m;return void 0===f||n>=e||n<0||g&&r>=u}function j(){var t,n,r,s=i();if(h(s))return b(s);p=setTimeout(j,(t=s-f,n=s-m,r=e-t,g?a(r,u-n):r))}function b(t){return(p=void 0,y&&c)?x(t):(c=l=void 0,d)}function _(){var t,n=i(),r=h(n);if(c=arguments,l=this,f=n,r){if(void 0===p)return m=t=f,p=setTimeout(j,e),v?x(t):d;if(g)return clearTimeout(p),p=setTimeout(j,e),x(f)}return void 0===p&&(p=setTimeout(j,e)),d}return e=s(e)||0,r(n)&&(v=!!n.leading,u=(g="maxWait"in n)?o(s(n.maxWait)||0,e):u,y="trailing"in n?!!n.trailing:y),_.cancel=function(){void 0!==p&&clearTimeout(p),m=0,c=f=l=p=void 0},_.flush=function(){return void 0===p?d:b(i())},_}},11611:function(t){t.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},92360:function(t){t.exports=function(t){return null!=t&&"object"==typeof t}},55193:function(t,e,n){var r=n(99736),i=n(92360);t.exports=function(t){return"symbol"==typeof t||i(t)&&"[object Symbol]"==r(t)}},82846:function(t,e,n){var r=n(77400);t.exports=function(){return r.Date.now()}},91936:function(t,e,n){var r=n(74833),i=n(11611),s=n(55193),o=0/0,a=/^[-+]0x[0-9a-f]+$/i,c=/^0b[01]+$/i,l=/^0o[0-7]+$/i,u=parseInt;t.exports=function(t){if("number"==typeof t)return t;if(s(t))return o;if(i(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=i(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=r(t);var n=c.test(t);return n||l.test(t)?u(t.slice(2),n?2:8):a.test(t)?o:+t}},40741:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/data-discovery/action-center",function(){return n(58401)}])},43124:function(t,e,n){"use strict";n.d(e,{Z:function(){return p}});var r=n(24246),i=n(96013),s=n(88038),o=n.n(s),a=n(86677);n(27378);var c=n(11596),l=n(72247),u=n(87162),d=()=>{let t=(0,a.useRouter)();return(0,r.jsx)(i.xuv,{bg:"gray.50",border:"1px solid",borderColor:"blue.400",borderRadius:"md",justifyContent:"space-between",p:5,mb:5,mt:5,children:(0,r.jsxs)(i.xuv,{children:[(0,r.jsxs)(i.Kqy,{direction:{base:"column",sm:"row"},justifyContent:"space-between",children:[(0,r.jsx)(i.xvT,{fontWeight:"semibold",children:"Configure your storage and messaging provider"}),(0,r.jsx)(i.wpx,{onClick:()=>{t.push(u.fz)},children:"Configure"})]}),(0,r.jsxs)(i.xvT,{children:["Before Fides can process your privacy requests we need two simple steps to configure your storage and email client."," "]})]})})},p=t=>{let{children:e,title:n,padded:s=!0,mainProps:u}=t,p=(0,c.hz)(),f=(0,a.useRouter)(),m="/privacy-requests"===f.pathname||"/datastore-connection"===f.pathname,v=!(p.flags.privacyRequestsConfiguration&&m),{data:g}=(0,l.JE)(void 0,{skip:v}),{data:y}=(0,l.PW)(void 0,{skip:v}),x=p.flags.privacyRequestsConfiguration&&(!g||!y)&&m;return(0,r.jsxs)(i.kCb,{"data-testid":n,direction:"column",h:"100vh",children:[(0,r.jsxs)(o(),{children:[(0,r.jsxs)("title",{children:["Fides Admin UI - ",n]}),(0,r.jsx)("meta",{name:"description",content:"Privacy Engineering Platform"}),(0,r.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,r.jsxs)(i.kCb,{as:"main",direction:"column",py:s?6:0,px:s?10:0,h:s?"calc(100% - 48px)":"full",flex:1,minWidth:0,overflow:"auto",...u,children:[x?(0,r.jsx)(d,{}):null,e]})]})}},37541:function(t,e,n){"use strict";var r=n(24246),i=n(96013),s=n(53614);e.Z=t=>{let{heading:e,breadcrumbItems:n,isSticky:o=!0,children:a,rightContent:c,style:l,...u}=t;return(0,r.jsxs)("div",{...u,style:o?{position:"sticky",top:"-24px",paddingTop:"24px",paddingBottom:"24px",paddingLeft:"40px",marginLeft:"-40px",paddingRight:"40px",marginRight:"-40px",marginTop:"-24px",left:0,zIndex:20,backgroundColor:"white",...l}:{paddingBottom:"24px",...l},children:[(0,r.jsxs)(i.jqI,{justify:"space-between",children:["string"==typeof e?(0,r.jsx)(i.X6q,{className:n||a?"pb-4":void 0,fontSize:"2xl","data-testid":"page-heading",children:e}):e,c&&(0,r.jsx)("div",{"data-testid":"page-header-right-content",children:c})]}),!!n&&(0,r.jsx)(s.m,{className:a?"pb-4":void 0,items:n,"data-testid":"page-breadcrumb"}),a]})}},53614:function(t,e,n){"use strict";n.d(e,{m:function(){return l}});var r=n(24246),i=n(96013),s=n(79894),o=n.n(s),a=n(27378);let{Text:c}=i.AntTypography,l=t=>{let{items:e,...n}=t,s=(0,a.useMemo)(()=>null==e?void 0:e.map((t,n)=>{let s=n===e.length-1,a={...t},l=a.onClick&&!a.href;return("string"==typeof a.title&&(a.title=(0,r.jsx)(c,{style:{color:"inherit",maxWidth:s?void 0:400},ellipsis:!s,children:a.title})),l)?a.title=(0,r.jsx)(i.wpx,{type:"text",size:"small",icon:a.icon,onClick:a.onClick,className:"ant-breadcrumb-link -mt-px px-1 text-inherit",children:a.title}):(a.icon&&(a.title=(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{className:"anticon align-text-bottom",children:a.icon}),a.title]})),a.href&&a.title&&(a.title=(0,r.jsx)(o(),{href:a.href,className:"ant-breadcrumb-link",children:a.title}),delete a.href)),a}),[e]);return(0,r.jsx)(i.zrq,{items:s,...n})}},22770:function(t,e,n){"use strict";n.d(e,{M:function(){return c}});var r=n(24246),i=n(66726),s=n.n(i),o=n(27378),a=n(33312);let c=t=>{let{value:e,onChange:n}=t,[i,c]=(0,o.useState)(e),l=s()(n,500),u=(0,o.useCallback)(t=>{c(t),l(t)},[]);return(0,r.jsx)(a.Z,{search:i,onChange:u,onClear:()=>{c(""),n("")}})}},83543:function(t,e,n){"use strict";n.d(e,{Ak:function(){return f},EY:function(){return u},Ud:function(){return s},Vr:function(){return m},WJ:function(){return a},nP:function(){return l},nS:function(){return d},rs:function(){return c},sX:function(){return p},wi:function(){return o}});var r=n(21618),i=n(36768);let{useGetAggregateMonitorResultsQuery:s,useGetDiscoveredSystemAggregateQuery:o,useGetDiscoveredAssetsQuery:a,useAddMonitorResultSystemsMutation:c,useIgnoreMonitorResultSystemsMutation:l,useAddMonitorResultAssetsMutation:u,useIgnoreMonitorResultAssetsMutation:d,useUpdateAssetsSystemMutation:p,useUpdateAssetsDataUseMutation:f,useUpdateAssetsMutation:m}=r.u.injectEndpoints({endpoints:t=>({getAggregateMonitorResults:t.query({query:t=>{let{page:e=1,size:n=20,search:r}=t;return{url:"/plus/discovery-monitor/aggregate-results",params:{page:e,size:n,search:r,diff_status:"addition"}}},providesTags:["Discovery Monitor Results"]}),getDiscoveredSystemAggregate:t.query({query:t=>{let{key:e,page:n=1,size:r=20,search:i}=t;return{url:"/plus/discovery-monitor/system-aggregate-results",params:{monitor_config_id:e,page:n,size:r,search:i,diff_status:"addition"}}},providesTags:["Discovery Monitor Results"]}),getDiscoveredAssets:t.query({query:t=>{let{key:e,system:n,page:r=1,size:i=20,search:s}=t;return{url:"/plus/discovery-monitor/".concat(e,"/results"),params:{resolved_system_id:n,page:r,size:i,search:s,diff_status:"addition"}}},providesTags:()=>["Discovery Monitor Results"]}),addMonitorResultSystems:t.mutation({query:t=>{let{monitor_config_key:e,resolved_system_ids:n}=t,r=(0,i.du)(n,"resolved_system_ids");return{method:"POST",url:"/plus/discovery-monitor/".concat(e,"/promote?").concat(r)}},invalidatesTags:["Discovery Monitor Results"]}),ignoreMonitorResultSystems:t.mutation({query:t=>{let{monitor_config_key:e,resolved_system_ids:n}=t,r=(0,i.du)(n,"resolved_system_ids");return{method:"POST",url:"/plus/discovery-monitor/".concat(e,"/mute?").concat(r)}},invalidatesTags:["Discovery Monitor Results"]}),addMonitorResultAssets:t.mutation({query:t=>{var e;let n=new URLSearchParams;return null===(e=t.urnList)||void 0===e||e.forEach(t=>n.append("staged_resource_urns",t)),{method:"POST",url:"/plus/discovery-monitor/promote?".concat(n)}},invalidatesTags:["Discovery Monitor Results"]}),ignoreMonitorResultAssets:t.mutation({query:t=>{var e;let n=new URLSearchParams;return null===(e=t.urnList)||void 0===e||e.forEach(t=>n.append("staged_resource_urns",t)),{method:"POST",url:"/plus/discovery-monitor/mute?".concat(n)}},invalidatesTags:["Discovery Monitor Results"]}),updateAssetsSystem:t.mutation({query:t=>({method:"PATCH",url:"/plus/discovery-monitor/".concat(t.monitorId,"/results"),body:t.urnList.map(e=>({urn:e,system_key:t.systemKey}))}),invalidatesTags:["Discovery Monitor Results","System Assets"]}),updateAssetsDataUse:t.mutation({query:t=>({method:"PATCH",url:"/plus/discovery-monitor/".concat(t.monitorId,"/results"),body:t.urnList.map(e=>({urn:e,data_uses:t.dataUses}))}),invalidatesTags:["Discovery Monitor Results"]}),updateAssets:t.mutation({query:t=>({method:"PATCH",url:"/plus/discovery-monitor/".concat(t.monitorId,"/results"),body:t.assets}),invalidatesTags:["Discovery Monitor Results"]})})})},58401:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return b}});var r=n(24246),i=n(96013),s=n(79894),o=n.n(s),a=n(27378),c=n(43124),l=n(87162),u=n(37541),d=n(8540),p=n(83543);let f=t=>{let{isConfigLoading:e}=t;return(0,r.jsx)(c.Z,{title:"Action center",mainProps:{className:"h-full"},children:(0,r.jsx)(i.jqI,{justify:"center",align:"center",className:"h-full",children:e?(0,r.jsx)(i.$jN,{color:"primary.900"}):(0,r.jsx)(i.DUx,{message:"Coming soon...",description:"Action center is currently disabled.",type:"info",showIcon:!0})})})},m=()=>(0,r.jsx)(i.oj8,{image:i.oj8.PRESENTED_IMAGE_SIMPLE,description:"All caught up! Set up an integration monitor to track your infrastructure in greater detail.",children:(0,r.jsx)(o(),{href:l.KH,passHref:!0,legacyBehavior:!0,children:(0,r.jsx)(i.wpx,{type:"primary",children:"Visit integrations"})})});var v=n(7195),g=n(36768);let{Text:y}=i.AntTypography,x=t=>{let{monitorSummary:e,showSkeleton:n,...s}=t,[c,u]=(0,a.useState)(void 0),{name:d,property:p,total_updates:f,updates:m,last_monitored:x,warning:h,key:j}=e,b=Object.entries(m).map(t=>"".concat(t[1]," ").concat(t[0],"s")).join(", "),_=x?(0,v.B)(new Date(x),new Date,{addSuffix:!0}):void 0;return(0,a.useEffect)(()=>{p&&u((0,g.tl)(p))},[p]),(0,r.jsx)(i.krs.Item,{"data-testid":"monitor-result-".concat(j),...s,children:(0,r.jsxs)(i.N_L,{avatar:!0,title:!1,loading:n,active:!0,children:[(0,r.jsx)(i.krs.Item.Meta,{avatar:(0,r.jsx)(i.t3Z,{src:c,size:"small",icon:(0,r.jsx)(i.PJP.huD,{}),style:{backgroundColor:"transparent",color:"var(--ant-color-text)"}}),title:(0,r.jsxs)(o(),{href:"".concat(l.vi,"/").concat(j),className:"whitespace-nowrap",children:["".concat(f," assets detected").concat(p?" on ".concat(p):""),!!h&&(0,r.jsx)(i.esZ,{title:"string"==typeof h?h:void 0,children:(0,r.jsx)(i.PJP.OdJ,{className:"ml-1 inline-block align-middle",style:{color:"var(--fidesui-error)"}})})]}),description:"".concat(b," detected.")}),(0,r.jsxs)(i.jqI,{className:"gap-12",children:[(0,r.jsx)(y,{style:{maxWidth:300},ellipsis:{tooltip:d},children:d}),!!_&&(0,r.jsx)(i.esZ,{title:(0,g.p6)(x),children:(0,r.jsx)(y,{"data-testid":"monitor-date",children:_})})]})]})})};var h=n(22770),j=n(27365),b=()=>{var t;let e=(0,i.pmc)(),{PAGE_SIZES:n,pageSize:s,setPageSize:v,onPreviousPageClick:g,isPreviousPageDisabled:y,onNextPageClick:b,isNextPageDisabled:_,startRange:w,endRange:T,pageIndex:k,setTotalPages:S,resetPageIndexToDefault:P}=(0,d.oi)(),[C,R]=(0,a.useState)(""),{data:A,isLoading:q}=(0,j.tB)({api_set:!1}),M=!!(null==A?void 0:null===(t=A.detection_discovery)||void 0===t?void 0:t.website_monitor_enabled);(0,a.useEffect)(()=>{P()},[C,P]);let{data:N,isError:E,isLoading:D,isFetching:O}=(0,p.Ud)({page:k,size:s,search:C},{skip:q||!M});(0,a.useEffect)(()=>{E&&e&&M&&e({title:"Error fetching data",description:"Please try again later",status:"error"})},[E,e,M]),(0,a.useEffect)(()=>{N&&S(N.total||1)},[N,S]);let I=(null==N?void 0:N.items)||[],L=O?Array.from({length:s},(t,e)=>({key:e.toString(),updates:[],last_monitored:null})):[],z=(0,a.useCallback)(t=>[(0,r.jsx)(o(),{href:"".concat(l.vi,"/").concat(t),passHref:!0,legacyBehavior:!0,children:(0,r.jsx)(i.wpx,{type:"link",className:"p-0","data-testid":"review-button-".concat(t),children:"Review"})},"review")],[]);return M?(0,r.jsxs)(c.Z,{title:"Action center",children:[(0,r.jsx)(u.Z,{heading:"Action center",breadcrumbItems:[{title:"All activity"}]}),(0,r.jsx)(i.jqI,{className:"justify-between py-6",children:(0,r.jsx)(h.M,{value:C,onChange:R})}),(0,r.jsx)(i.krs,{loading:D,dataSource:I||L,locale:{emptyText:(0,r.jsx)(m,{})},renderItem:t=>!!t&&(0,r.jsx)(x,{showSkeleton:O,monitorSummary:t,actions:z(t.key)},t.key)}),!!I&&!!(null==N?void 0:N.total)&&N.total>s&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i.htM,{className:"mb-6 mt-0"}),(0,r.jsx)(d.s8,{totalRows:(null==N?void 0:N.total)||0,pageSizes:n,setPageSize:v,onPreviousPageClick:g,isPreviousPageDisabled:y||O,onNextPageClick:b,isNextPageDisabled:_||O,startRange:w,endRange:T})]})]}):(0,r.jsx)(f,{isConfigLoading:q})}}},function(t){t.O(0,[8033,5559,8540,2888,9774,179],function(){return t(t.s=40741)}),_N_E=t.O()}]);