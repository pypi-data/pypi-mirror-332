#!/bin/sh
VERSION_PART=${1:-patch}
uv run bump-my-version bump "$VERSION_PART" && git push
if echo "$VERSION_PART" | grep -qE '^[0-9]+\.[0-9]+\.[0-9]+$'; then
    uv run bump-my-version bump --new-version "$VERSION_PART"
else
    uv run bump-my-version bump "$VERSION_PART" && git push
fi