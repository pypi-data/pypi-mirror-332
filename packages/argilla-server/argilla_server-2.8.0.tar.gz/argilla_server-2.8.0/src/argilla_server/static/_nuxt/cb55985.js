(window.webpackJsonp=window.webpackJsonp||[]).push([[70,34,74,79,202],{1057:function(t,e,n){t.exports={}},1058:function(t,e,n){"use strict";n.r(e);n(11),n(34),n(4);var o={props:{value:{type:[Object,String]},options:{type:Array,required:!0}},model:{prop:"value",event:"onValueChange"},data:function data(){return{dropdownIsVisible:!1}},computed:{filteredOptions:function filteredOptions(){var t=this;return this.options.filter((function(e){return JSON.stringify(e)!==JSON.stringify(t.value)}))}},methods:{onVisibility:function onVisibility(t){this.dropdownIsVisible=t},selectOption:function selectOption(t){this.$emit("onValueChange",t),this.dropdownIsVisible=!1}}},i=(n(1103),n(26)),a=Object(i.a)(o,(function render(){var t,e,n,o=this,i=o._self._c;return o.options.length?i("BaseDropdown",{staticClass:"selector",attrs:{visible:o.dropdownIsVisible},on:{visibility:o.onVisibility}},[i("template",{slot:"dropdown-header"},[o._v("\n    "+o._s(null!==(t=null!==(e=null===(n=o.value)||void 0===n?void 0:n.name)&&void 0!==e?e:o.value)&&void 0!==t?t:o.$t("datasetCreation.select"))+"\n    "),i("svgicon",{attrs:{name:"chevron-down",height:"8"}})],1),o._v(" "),i("template",{slot:"dropdown-content"},[o._t("optionsIntro"),o._v(" "),i("ul",{staticClass:"selector__options"},o._l(o.filteredOptions,(function(t,e){var n;return i("li",{key:e,class:t===o.value?"selector__option--selected":"selector__option",on:{click:function click(e){return o.selectOption(t)}}},[o._v("\n        "+o._s(null!==(n=null==t?void 0:t.name)&&void 0!==n?n:t)+"\n      ")])})),0)],2)],2):o._e()}),[],!1,null,"561883d2",null);e.default=a.exports;installComponents(a,{BaseDropdown:n(780).default})},1103:function(t,e,n){"use strict";n(973)},1106:function(t,e,n){"use strict";n(976)},1131:function(t,e,n){"use strict";n.r(e);var o={props:{value:{type:String,required:!0},placeholder:{type:String,default:""}},model:{prop:"value",event:"on-value-change"},methods:{onInput:function onInput(t){this.$emit("on-value-change",t)}}},i=(n(1106),n(26)),a=Object(i.a)(o,(function render(){var t=this,e=t._self._c;return e("div",{staticClass:"dataset-config__input-container"},[e("input",{staticClass:"dataset-config__input",attrs:{type:"text",placeholder:t.placeholder},domProps:{value:t.value},on:{input:function input(e){return t.onInput(e.target.value)},focus:function focus(e){return t.$emit("is-focused",!0)},blur:function blur(e){return t.$emit("is-focused",!1)}}})])}),[],!1,null,"0b27347f",null);e.default=a.exports},1150:function(t,e,n){"use strict";n(1057)},1158:function(t,e,n){"use strict";n.r(e);n(11),n(23);var o=n(790),i=(n(10),n(4),n(62)),a=n(8),s=n(85),r=n(270),__awaiter=function(t,e,n,o){return new(n||(n=Promise))((function(i,a){function fulfilled(t){try{step(o.next(t))}catch(t){a(t)}}function rejected(t){try{step(o.throw(t))}catch(t){a(t)}}function step(t){t.done?i(t.value):function adopt(t){return t instanceof n?t:new n((function(e){e(t)}))}(t.value).then(fulfilled,rejected)}step((o=o.apply(t,e||[])).next())}))},l={components:{Validation:o.default},props:{dataset:{type:Object,required:!0},isLoading:{type:Boolean,default:!1}},watch:{firstWorkspace:{handler:function handler(t){t&&this.$set(this.dataset,"workspace",this.firstWorkspace)},deep:!0}},computed:{firstTranslatedValidation:function firstTranslatedValidation(){return[this.translatedValidations[0]]},translatedValidations:function translatedValidations(){var t=this;return this.dataset.validate().question.map((function(e){return t.$t(e)}))},firstWorkspace:function firstWorkspace(){if(this.workspaces.length&&!this.dataset.workspace)return this.workspaces[0]}},methods:{closeDialog:function closeDialog(){this.$emit("close-dialog")},createDataset:function createDataset(){this.dataset.isValid&&this.$emit("create-dataset")},selectWorkspace:function selectWorkspace(t){this.$set(this.dataset,"workspace",t)}},setup:function setup(){return function useDatasetConfigurationNameAndWorkspace(){var t=Object(s.f)([]),e=Object(a.useResolve)(r.a);return Object(i.g)((function(){return __awaiter(void 0,void 0,void 0,regeneratorRuntime.mark((function _callee(){return regeneratorRuntime.wrap((function _callee$(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.execute();case 2:t.value=n.sent;case 3:case"end":return n.stop()}}),_callee)})))})),{workspaces:t}}()}},d=(n(1150),n(26)),c=Object(d.a)(l,(function render(){var t,e=this,n=e._self._c;return n("transition",{attrs:{name:"fade",appear:""}},[n("dialog",{directives:[{name:"click-outside",rawName:"v-click-outside",value:e.closeDialog,expression:"closeDialog"}],staticClass:"dataset-config-dialog"},[n("form",{staticClass:"dataset-config-dialog__content",on:{submit:function submit(t){return t.preventDefault(),e.createDataset.apply(null,arguments)}}},[n("h1",{staticClass:"dataset-config-dialog__title",domProps:{textContent:e._s(e.$t("datasetCreation.createDataset"))}}),e._v(" "),n("div",{staticClass:"dataset-config-dialog__row"},[n("label",{staticClass:"dataset-config-dialog__label",attrs:{for:"datasetName"},domProps:{textContent:e._s(e.$t("datasetCreation.datasetName"))}}),e._v(" "),n("DatasetConfigurationInput",{attrs:{id:"datasetName",placeholder:e.$t("datasetCreation.datasetName")},model:{value:e.dataset.name,callback:function callback(t){e.$set(e.dataset,"name",t)},expression:"dataset.name"}})],1),e._v(" "),n("div",{staticClass:"dataset-config-dialog__row"},[n("label",{staticClass:"dataset-config-dialog__label",domProps:{textContent:e._s(e.$t("datasetCreation.assignWorkspace"))}}),e._v(" "),e.workspaces.length?1===e.workspaces.length?n("span",{staticClass:"dataset-config-dialog__unique-workspace",domProps:{textContent:e._s(e.dataset.workspace.name)}}):n("DatasetConfigurationSelector",{attrs:{options:e.workspaces},model:{value:e.dataset.workspace,callback:function callback(t){e.$set(e.dataset,"workspace",t)},expression:"dataset.workspace"}}):[n("span",{staticClass:"dataset-config-dialog__unique-workspace",domProps:{textContent:e._s(e.$t("datasetCreation.none"))}}),e._v(" "),n("Validation",{attrs:{validations:[e.$t("datasetCreation.noWorkspaces")]}})]],2),e._v(" "),(null===(t=e.dataset.selectedSubset.splits)||void 0===t?void 0:t.length)>1?n("div",{staticClass:"dataset-config-dialog__row"},[n("label",{staticClass:"dataset-config-dialog__label",domProps:{textContent:e._s(e.$t("datasetCreation.selectSplit"))}}),e._v(" "),n("DatasetConfigurationSelector",{staticClass:"config-form__selector",attrs:{options:e.dataset.selectedSubset.splits},model:{value:e.dataset.selectedSubset.selectedSplit,callback:function callback(t){e.$set(e.dataset.selectedSubset,"selectedSplit",t)},expression:"dataset.selectedSubset.selectedSplit"}})],1):e._e(),e._v(" "),n("p",{staticClass:"dataset-config-dialog__info",domProps:{textContent:e._s(e.$t("datasetCreation.recordWarning"))}}),e._v(" "),n("BaseButton",{staticClass:"dataset-config-dialog__button primary full",attrs:{disabled:!e.dataset.name||!e.dataset.workspace||!e.dataset.isValid,loading:e.isLoading,type:"submit"}},[e._v(e._s(e.$t("datasetCreation.button")))]),e._v(" "),e.dataset.isValid?e._e():n("Validation",{attrs:{validations:e.firstTranslatedValidation}})],1)])])}),[],!1,null,"3b80d03e",null);e.default=c.exports;installComponents(c,{DatasetConfigurationInput:n(1131).default,Validation:n(790).default,DatasetConfigurationSelector:n(1058).default,BaseButton:n(259).default})},780:function(t,e,n){"use strict";n.r(e);n(48),n(118),n(4);var o=n(260),i={directives:{clickOutside:n.n(o).a.directive},props:{visible:{type:Boolean,default:!1},boundary:{type:String,default:"parent",validator:function validator(t){return["parent","viewport"].includes(t)}},freezingPage:{type:Boolean,default:!1},gap:{type:Number,default:8}},data:function data(){return{dropdownTop:0,dropdownLeft:0,inViewport:!0,frozenScrollParent:null}},computed:{isViewportBoundary:function isViewportBoundary(){return"viewport"===this.boundary}},watch:{visible:function visible(){var t=this;this.$nextTick((function(){t.setViewportPosition()}))},freezingPage:function freezingPage(t){t?(this.frozenScrollParent=this.getScrollableParent(this.$refs.dropdown),this.frozenScrollParent.style.overflow="hidden"):this.frozenScrollParent.style.overflow="auto"}},methods:{onClose:function onClose(){this.$emit("visibility",!1)},onToggle:function onToggle(){this.$emit("visibility",!this.visible)},onClick:function onClick(){this.onToggle()},setViewportPosition:function setViewportPosition(){if(this.isViewportBoundary&&this.visible&&(this.inViewport=this.isInViewport(this.$refs.dropdown),this.inViewport)){var t=this.$refs.dropdown.getBoundingClientRect(),e=t.top,n=t.left,o=t.height;this.dropdownTop=e+o+this.gap,this.dropdownLeft=n}},getScrollableParent:function getScrollableParent(t){if(t){for(var e=t.parentElement;e;){if(window.getComputedStyle(e).overflow.split(" ").every((function(t){return"auto"===t||"scroll"===t})))return e;e=e.parentElement}return document.documentElement}},isInViewport:function isInViewport(t){var e=t.getBoundingClientRect(),n=t.offsetHeight,o=document.documentElement;return e.top>=n&&e.left>=0&&e.bottom<=(window.innerHeight||o.clientHeight)&&e.right<=(window.innerWidth||o.clientWidth)}},mounted:function mounted(){this.isViewportBoundary&&(window.addEventListener("resize",this.setViewportPosition),this.getScrollableParent(this.$refs.dropdown).addEventListener("scroll",this.setViewportPosition),this.setViewportPosition())},beforeDestroy:function beforeDestroy(){this.isViewportBoundary&&(window.removeEventListener("resize",this.setViewportPosition),this.getScrollableParent(this.$refs.dropdown).removeEventListener("scroll",this.setViewportPosition))}},a=(n(782),n(26)),s=Object(a.a)(i,(function render(){var t=this,e=t._self._c;return e("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:{events:["mousedown"],handler:t.onClose},expression:"{\n    events: ['mousedown'],\n    handler: onClose,\n  }"}],ref:"dropdown",staticClass:"dropdown",attrs:{role:"button","aria-haspopup":"menu"}},[e("div",{staticClass:"dropdown__header",on:{click:t.onClick}},[t._t("dropdown-header")],2),t._v(" "),e("transition",{attrs:{appear:"",name:"fade"}},[t.visible&&t.inViewport?e("div",{staticClass:"dropdown__content",style:t.isViewportBoundary&&{top:"".concat(t.dropdownTop,"px"),left:"".concat(t.dropdownLeft,"px"),position:"fixed"}},[t._t("dropdown-content")],2):t._e()]),t._v(" "),t.visible&&t.freezingPage?e("div",{staticClass:"dropdown--frozen-page",on:{click:t.onClose}}):t._e()],1)}),[],!1,null,"01548482",null);e.default=s.exports},781:function(t,e,n){t.exports={}},782:function(t,e,n){"use strict";n(781)},788:function(t,e,n){t.exports={}},790:function(t,e,n){"use strict";n.r(e);var o={props:{validations:{type:Array,required:!0}}},i=(n(808),n(26)),a=Object(i.a)(o,(function render(){var t=this,e=t._self._c;return e("div",{class:t.validations.length?"--has-error":null,attrs:{role:"alert"}},[t._t("default"),t._v(" "),t.validations.length?t._l(t.validations,(function(n){return e("span",{key:n,staticClass:"--error-message",domProps:{innerHTML:t._s(t.$t(n))}})})):t._e()],2)}),[],!1,null,"fb7ba698",null);e.default=a.exports},808:function(t,e,n){"use strict";n(788)},973:function(t,e,n){t.exports={}},976:function(t,e,n){t.exports={}}}]);