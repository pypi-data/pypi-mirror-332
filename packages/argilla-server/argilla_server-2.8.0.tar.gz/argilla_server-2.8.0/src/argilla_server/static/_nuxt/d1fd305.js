(window.webpackJsonp=window.webpackJsonp||[]).push([[187,30,38,76,121,157],{1040:function(e,t,i){"use strict";i(908)},1064:function(e,t,i){"use strict";i.r(t);i(11);var n=i(17),o=(i(10),i(34),i(4),i(32),i(8)),s=i(85),r=(i(76),i(1)),a=i(2),l=i(43),u=i(21),c=i(30),g=(i(60),i(48),i(23),i(145),i(27),i(53),i(16),i(923));function _callSuper(e,t,i){return t=Object(u.a)(t),Object(l.a)(e,_isNativeReflectConstruct()?Reflect.construct(t,i||[],Object(u.a)(e).constructor):t.apply(e,i))}function _isNativeReflectConstruct(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(_isNativeReflectConstruct=function _isNativeReflectConstruct(){return!!e})()}var d=function(e){function ConfigurationValues(e){var t;return Object(r.a)(this,ConfigurationValues),(t=_callSuper(this,ConfigurationValues)).question=e,t.operator="and",t.isTerms?t.options=new g.b(t.name,e.settings.options.map((function(e){var t=e.value,i=e.text;return{selected:!1,value:t.toString(),text:i}}))):t.rangeValue=new g.c(t.name,t.question.settings.options[0].value,t.question.settings.options[t.question.settings.options.length-1].value,!0),t}return Object(c.a)(ConfigurationValues,e),Object(a.a)(ConfigurationValues,[{key:"filterByText",value:function filterByText(e){return this.options.filterByText(e)}},{key:"selectedOptions",get:function get(){return this.options.selectedOptions}},{key:"isAnswered",get:function get(){return this.isTerms?this.options.isAnswered:this.rangeValue.isAnswered}},{key:"name",get:function get(){return"value"}},{key:"isTerms",get:function get(){return!this.question.isRatingType}},{key:"complete",value:function complete(e){if(this.isTerms){var t=e.values,i=e.operator;this.options.complete(t),this.operator=i}else this.rangeValue.complete(e)}},{key:"hasOperator",get:function get(){return this.question.isMultiLabelType}},{key:"value",get:function get(){return this.isTerms?this.hasOperator?{values:this.options.value,operator:this.operator}:{values:this.options.value}:this.rangeValue.value}},{key:"clear",value:function clear(){if(this.isTerms)return this.options.clear();this.rangeValue.clear()}}])}(g.a),f=function(e){function ConfigurationScore(e,t){var i;return Object(r.a)(this,ConfigurationScore),(i=_callSuper(this,ConfigurationScore,["score",e,t])).min=e,i.max=t,i}return Object(c.a)(ConfigurationScore,e),Object(a.a)(ConfigurationScore)}(g.c),h=function(e){function ConfigurationAgent(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Object(r.a)(this,ConfigurationAgent),(e=_callSuper(this,ConfigurationAgent,["agent",t.map((function(e){return{selected:!1,value:e}}))])).agents=t,e}return Object(c.a)(ConfigurationAgent,e),Object(a.a)(ConfigurationAgent,[{key:"canFilter",get:function get(){return this.agents.length>0}}])}(g.b),p=function(e){function SuggestionFilter(e){var t;return Object(r.a)(this,SuggestionFilter),(t=_callSuper(this,SuggestionFilter)).question=e,t.configurations=[],t.configurations.push(new d(e)),t.configurations.push(new f(0,1)),t}return Object(c.a)(SuggestionFilter,e),Object(a.a)(SuggestionFilter,[{key:"tooltip",get:function get(){return this.question.title}},{key:"name",get:function get(){return this.question.name}},{key:"isAnswered",get:function get(){return this.configurations.some((function(e){return e.isAnswered}))}},{key:"value",get:function get(){return this.configurations.filter((function(e){return e.isAnswered})).map((function(e){return{name:e.name,value:e.value}}))}},{key:"clear",value:function clear(){this.configurations.forEach((function(e){return e.clear()}))}},{key:"addAgents",value:function addAgents(e){this.configurations.push(new h(e))}},{key:"complete",value:function complete(e){var t=this;e.forEach((function(e){var i=e.name,n=e.value,o=t.configurations.find((function(e){return e.name===i}));o&&o.complete(n)}))}}])}(g.a),v=function(){return Object(a.a)((function SuggestionFilterList(e){Object(r.a)(this,SuggestionFilterList),this.filteredSuggestions=[],this.latestCommit=[],this.questions=e.map((function(e){return new p(e)}))}),[{key:"hasFilters",get:function get(){return this.questions.length>0}},{key:"filteredCategories",get:function get(){return this.filteredSuggestions}},{key:"filtered",get:function get(){return this.questions.filter((function(e){return e.isAnswered}))}},{key:"hasChangesSinceLatestCommit",get:function get(){var e=this;return this.filteredSuggestions.length!==this.filtered.length||(!!this.filtered.some((function(t){return!e.filteredSuggestions.includes(t)}))||this.hasChangesSinceLatestCommitWith(this.createCommit()))}},{key:"addAgents",value:function addAgents(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.questions.forEach((function(t){var i;t.addAgents(null===(i=e.find((function(e){return e.question.name===t.name})))||void 0===i?void 0:i.agents)})),this.onComplete(this.latestCommit)}},{key:"hasChangesSinceLatestCommitWith",value:function hasChangesSinceLatestCommitWith(e){return JSON.stringify(this.latestCommit)!==JSON.stringify(e)}},{key:"commit",value:function commit(){return this.synchronizeFiltered(),this.latestCommit=this.createCommit(),this.latestCommit}},{key:"complete",value:function complete(e){this.hasChangesSinceLatestCommitWith(e)&&(this.questions.forEach((function(e){return e.clear()})),e.length&&(this.onComplete(e),this.latestCommit=e))}},{key:"onComplete",value:function onComplete(e){var t=this;e.forEach((function(e){var i=e.name,n=e.value,o=t.findByCategory(i);if(o){if(o.complete(n),t.filteredSuggestions.includes(o))return;t.filteredSuggestions.push(o)}}))}},{key:"findByCategory",value:function findByCategory(e){return this.questions.find((function(t){return t.name===e}))}},{key:"synchronizeFiltered",value:function synchronizeFiltered(){var e=this;this.filtered.filter((function(t){return!e.filteredSuggestions.includes(t)})).forEach((function(t){e.filteredSuggestions.push(t)})),this.filteredSuggestions.filter((function(t){return!e.filtered.includes(t)})).forEach((function(t){var i=e.filteredSuggestions.indexOf(t);e.filteredSuggestions.splice(i,1)}))}},{key:"createCommit",value:function createCommit(){return this.filteredSuggestions.map((function(e){return{name:e.name,value:e.value}}))}}])}(),C=i(273),m=i(65),b=function useSuggestionFilterViewModel(e){var t=e.datasetQuestions,i=e.datasetId,n=Object(m.d)(500),r=Object(o.useResolve)(C.a),a=Object(s.f)(new v(t));return Object(s.b)((function(){!function loadFilterInformation(){r.execute(i).then((function(e){a.value.addAgents(e)}))}()})),{suggestionFilters:a,debounce:n}},y={props:{datasetId:{type:String,required:!0},datasetQuestions:{type:Array,required:!0},suggestionFiltered:{type:Array,required:!0}},model:{prop:"suggestionFiltered",event:"onSuggestionFilteredChanged"},data:function data(){return{visibleDropdown:!1,selectedSuggestion:null,selectedConfiguration:null,appliedCategoriesFilters:[]}},methods:{onToggleVisibility:function onToggleVisibility(e){this.visibleDropdown=e,this.selectedSuggestion=null,this.selectedConfiguration=null},selectSuggestion:function selectSuggestion(e){var t=this;this.selectedSuggestion=null,this.$nextTick((function(){t.selectedSuggestion=e,t.selectedConfiguration=null}))},selectConfiguration:function selectConfiguration(e){this.selectedConfiguration=e},applyFilter:function applyFilter(){this.visibleDropdown=!1,this.filter()},filter:function filter(){if(this.suggestionFilters.hasChangesSinceLatestCommit){var e=this.suggestionFilters.commit();this.$emit("onSuggestionFilteredChanged",e),this.appliedCategoriesFilters=this.suggestionFilters.filteredCategories}},openSuggestionFilter:function openSuggestionFilter(e){this.visibleDropdown=!this.visibleDropdown||e!==this.selectedSuggestion,this.selectSuggestion(e)},clearSuggestionFilter:function clearSuggestionFilter(e){e.clear(),this.applyFilter()},clearAllSuggestionFilter:function clearAllSuggestionFilter(e){e.forEach((function(e){e.clear()})),this.applyFilter()},updateAppliedCategoriesFromMetadataFilter:function updateAppliedCategoriesFromMetadataFilter(){this.suggestionFilters&&(this.suggestionFilters.complete(this.suggestionFiltered),this.appliedCategoriesFilters=this.suggestionFilters.filteredCategories)}},watch:{visibleDropdown:function visibleDropdown(){this.visibleDropdown||(this.debounce.stop(),this.filter())},"suggestionFilters.questions":{deep:!0,handler:function handler(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function _callee(){return regeneratorRuntime.wrap((function _callee$(t){for(;;)switch(t.prev=t.next){case 0:return e.debounce.stop(),t.next=3,e.debounce.wait();case 3:e.filter();case 4:case"end":return t.stop()}}),_callee)})))()}},suggestionFiltered:function suggestionFiltered(){this.updateAppliedCategoriesFromMetadataFilter()}},created:function created(){this.updateAppliedCategoriesFromMetadataFilter()},setup:function setup(e){return b(e)}},S=(i(1040),i(26)),k=Object(S.a)(y,(function render(){var e=this,t=e._self._c;return e.suggestionFilters.hasFilters?t("div",{staticClass:"suggestion-filter"},[t("BaseDropdown",{attrs:{boundary:"viewport",visible:e.visibleDropdown},on:{visibility:e.onToggleVisibility}},[t("span",{attrs:{slot:"dropdown-header"},slot:"dropdown-header"},[t("FilterButtonWithBadges",{attrs:{"is-active":e.visibleDropdown,badges:e.appliedCategoriesFilters,"active-badge":e.selectedSuggestion,name:e.$t("suggestion.plural")},on:{"click-on-badge":e.openSuggestionFilter,"click-on-clear":e.clearSuggestionFilter,"click-on-clear-all":e.clearAllSuggestionFilter}})],1),e._v(" "),t("span",{staticClass:"suggestion-filter__container",attrs:{slot:"dropdown-content"},slot:"dropdown-content"},[e.selectedSuggestion?[e.selectedConfiguration?e._e():t("div",{staticClass:"suggestion-filter__header",on:{click:function click(t){return e.selectSuggestion(null)}}},[t("span",{domProps:{textContent:e._s(e.selectedSuggestion.name)}}),e._v(" "),t("svgicon",{attrs:{name:"chevron-left",width:"12",height:"12","aria-hidden":"true"}})],1),e._v(" "),t("div",[e.selectedConfiguration?[t("div",{staticClass:"suggestion-filter__header",on:{click:function click(t){return e.selectConfiguration(null)}}},[t("span",[e._v(e._s(e.$t("suggestion.filter.".concat(e.selectedConfiguration.name)))+" /\n                "),t("strong",[e._v(e._s(e.selectedSuggestion.name))])]),e._v(" "),t("svgicon",{attrs:{name:"chevron-left",width:"12",height:"12"}})],1),e._v(" "),t("div",{staticClass:"suggestion-filter__content"},["value"===e.selectedConfiguration.name?t("div",[e.selectedConfiguration.isTerms?t("LabelsSelector",{attrs:{filter:e.selectedConfiguration}}):t("RangeSelector",{attrs:{filter:e.selectedConfiguration.rangeValue}})],1):e._e(),e._v(" "),"score"===e.selectedConfiguration.name?t("div",[t("RangeSelector",{attrs:{filter:e.selectedConfiguration}})],1):e._e(),e._v(" "),"agent"===e.selectedConfiguration.name?t("div",[t("LabelsSelector",{attrs:{filter:e.selectedConfiguration}})],1):e._e()])]:t("CategoriesSelector",{staticClass:"suggestion-filter__categories",attrs:{name:"suggestionsConfiguration","prefix-translation":"suggestion.filter.",categories:e.selectedSuggestion.configurations},on:{"select-category":e.selectConfiguration}})],2)]:t("CategoriesSelector",{staticClass:"suggestion-filter__categories",attrs:{name:"suggestions",categories:e.suggestionFilters.questions},on:{"select-category":e.selectSuggestion}})],2)])],1):e._e()}),[],!1,null,"20522160",null);t.default=k.exports;installComponents(k,{FilterButtonWithBadges:i(840).default,CategoriesSelector:i(841).default,LabelsSelector:i(863).default,RangeSelector:i(842).default,BaseDropdown:i(780).default})},783:function(e,t,i){i(144).register({"chevron-down":{width:41,height:40,viewBox:"0 0 41 40",data:'<path pid="0" d="M8.5 11l-3 3 15 15 15-15-3-3-12 12-12-12z" _fill="#000"/>'}})},787:function(e,t,i){"use strict";i.r(t);var n={props:{url:{type:String},icon:{type:String},iconColor:{type:String,default:function _default(){return"white"}},tooltip:{type:String},showBadge:{type:Boolean,default:!1},badgeVerticalPosition:{type:String},badgeHorizontalPosition:{type:String},badgeBorderColor:{type:String},badgeSize:{type:String,default:"22"}},methods:{onClickIcon:function onClickIcon(){this.$emit("click-icon")}}},o=i(26),s=Object(o.a)(n,(function render(){var e=this,t=e._self._c;return t("BaseButton",{staticClass:"icon-with-badge",attrs:{"data-title":e.tooltip,tabIndex:-1},on:{"on-click":e.onClickIcon}},[t("i",{directives:[{name:"badge",rawName:"v-badge",value:{showBadge:e.showBadge,verticalPosition:e.badgeVerticalPosition,horizontalPosition:e.badgeHorizontalPosition,borderColor:e.badgeBorderColor},expression:"{\n      showBadge: showBadge,\n      verticalPosition: badgeVerticalPosition,\n      horizontalPosition: badgeHorizontalPosition,\n      borderColor: badgeBorderColor,\n    }"}],key:e.showBadge,staticClass:"icon-wrapper"},[t("svgicon",{attrs:{name:e.icon,width:e.badgeSize,height:e.badgeSize,color:e.iconColor,"aria-label":e.icon+" icon"}})],1)])}),[],!1,null,null,null);t.default=s.exports;installComponents(s,{BaseButton:i(259).default})},799:function(e,t,i){i(144).register({check:{width:40,height:40,viewBox:"0 0 40 40",data:'<path pid="0" d="M16.25 23.75l-7.5-7.5L5 20l11.25 11.25L35 12.5l-3.75-3.75-15 15z" _fill="#000"/>'}})},800:function(e,t,i){e.exports={}},801:function(e,t,i){e.exports={}},803:function(e,t,i){"use strict";i.r(t);var n={name:"SearchLabelComponent",props:{value:{type:String,default:function _default(){return""}},searchRef:{type:String,required:!0},placeholder:{type:String,default:function _default(){return""}}},computed:{searchInputRef:function searchInputRef(){return this.$refs[this.searchRef]}},methods:{looseFocus:function looseFocus(){this.searchInputRef.blur()},focusInSearch:function focusInSearch(){this.searchInputRef.focus()},resetValue:function resetValue(){this.value.length&&this.$emit("input","")}}},o=(i(835),i(26)),s=Object(o.a)(n,(function render(){var e=this,t=e._self._c;return t("div",{staticClass:"search-area",attrs:{"aria-label":"Search Labels"},on:{click:e.focusInSearch}},[t("BaseIconWithBadge",{ref:"iconSearchRef",staticClass:"search-area__icon --search",attrs:{icon:"search","show-badge":!1,iconColor:"#acacac","badge-vertical-position":"top","badge-horizontal-position":"right","badge-border-color":"white",tabindex:"-1","aria-hidden":"true"}}),e._v(" "),t("input",{ref:e.searchRef,staticClass:"search-input",attrs:{id:"searchLabel",type:"text",placeholder:e.placeholder,role:"search"},domProps:{value:e.value},on:{input:function input(t){return e.$emit("input",t.target.value)},keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"arrow-up",void 0,t.key,void 0)?null:(t.preventDefault(),e.looseFocus.apply(null,arguments))},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"arrow-down",void 0,t.key,void 0)?null:(t.preventDefault(),e.looseFocus.apply(null,arguments))},function(e){e.stopPropagation()}]}}),e._v(" "),e.value?t("BaseIconWithBadge",{ref:"iconCloseRef",staticClass:"search-area__icon --close",attrs:{icon:"close","show-badge":!1,iconColor:"#acacac","badge-vertical-position":"top","badge-horizontal-position":"right","badge-border-color":"white","aria-hidden":"true"},on:{"click-icon":e.resetValue}}):e._e()],1)}),[],!1,null,"13d36fde",null);t.default=s.exports;installComponents(s,{BaseIconWithBadge:i(787).default})},806:function(e,t,i){"use strict";i.r(t);i(60),i(261),i(48),i(39),i(145),i(118),i(4),i(53),i(799);var n=i(216),o=i.n(n),s={model:{prop:"areChecked",event:"change"},props:{id:{type:String},disabled:{type:Boolean,default:!1},value:{type:[String,Number,Boolean,Object],default:!1},areChecked:{type:[Array,Boolean],default:!1},decorationCircle:{type:Boolean,default:!1}},data:function data(){return{checked:this.value||!1}},computed:{classes:function classes(){return{checked:Array.isArray(this.areChecked)?Array.isArray(this.areChecked)?this.areChecked.includes(this.value):o.a.find(this.areChecked,this.value):this.checked,disabled:this.disabled,"decoration-circle":this.decorationCircle}}},watch:{value:function value(){this.checked=!!this.value},areChecked:function areChecked(e){"boolean"==typeof e&&(this.checked=e)}},methods:{toggleCheck:function toggleCheck(){if(!this.disabled)if(Array.isArray(this.areChecked)){var e=this.areChecked.slice(),t="string"==typeof this.value?e.indexOf(this.value):o.a.findIndex(e,this.value);-1!==t?e.splice(t,1):e.push(this.value),this.$emit("change",e)}else{this.checked=!this.checked;var i=this.areChecked;i=this.checked,this.$emit("change",i),this.$emit("input",i)}}}},r=(i(834),i(26)),a=Object(r.a)(s,(function render(){var e=this,t=e._self._c;return t("div",{staticClass:"checkbox",class:[e.classes],on:{click:function click(t){return t.preventDefault(),e.toggleCheck.apply(null,arguments)}}},[e.$slots.default?t("label",{staticClass:"checkbox__label",attrs:{for:e.id}},[e._t("default")],2):e._e(),e._v(" "),t("div",{staticClass:"checkbox__container",attrs:{tabindex:"0"}},[t("input",{attrs:{id:e.id,type:"checkbox",disabled:e.disabled},domProps:{value:e.value,checked:e.checked}}),e._v(" "),t("svgicon",{attrs:{color:"#fffff",width:"12",name:"check"}})],1)])}),[],!1,null,"d69d744a",null);t.default=a.exports},834:function(e,t,i){"use strict";i(800)},835:function(e,t,i){"use strict";i(801)},908:function(e,t,i){e.exports={}}}]);