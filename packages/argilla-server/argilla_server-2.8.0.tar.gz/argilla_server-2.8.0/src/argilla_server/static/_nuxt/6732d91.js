(window.webpackJsonp=window.webpackJsonp||[]).push([[3,181],{1119:function(t,i,o){"use strict";o(1140)},1140:function(t,i,o){"use strict";var r=o(5),a=o(18),l=o(13),c=o(61),u=o(28),h=o(68),d=o(276),p=o(45),g=o(108),y=o(275),v=o(436),m=o(29),S=o(56),b=m("replace"),w=TypeError,C=l("".indexOf),_=l("".replace),O=l("".slice),k=Math.max;r({target:"String",proto:!0},{replaceAll:function replaceAll(t,i){var o,r,l,m,E,x,j,T,A,H=c(this),P=0,I=0,L="";if(!h(t)){if((o=d(t))&&(r=p(c(y(t))),!~C(r,"g")))throw new w("`.replaceAll` does not allow non-global regexes");if(l=g(t,b))return a(l,t,H,i);if(S&&o)return _(p(H),t,i)}for(m=p(H),E=p(t),(x=u(i))||(i=p(i)),j=E.length,T=k(1,j),P=C(m,E);-1!==P;)A=x?p(i(E,P,m)):v(E,m,P,[],void 0,i),L+=O(m,I,P)+A,I=P+j,P=P+T>m.length?-1:C(m,E,P+T);return I<m.length&&(L+=O(m,I)),L}})},1151:function(t,i,o){"use strict";o.r(i);o(60),o(4),o(81),o(34),o(23),o(32);var r=o(0),a=o(85),l=o(888),c=o(283),u=o(12),h=o(49),d=o(1),p=o(2),g=(o(25),o(35),o(42),o(41),o(1362),o(44),o(1363),o(98),o(39),o(11),o(24),o(20),o(27),o(119),o(16),o(48),o(53),function(){function SpanSelection(){Object(d.a)(this,SpanSelection),this.selections=[]}return Object(p.a)(SpanSelection,[{key:"spans",get:function get(){return Object(h.a)(this.selections)}},{key:"crateSpan",value:function crateSpan(t,i){if(t&&!this.isOutOfRange(t)){var o=Object.assign({},t);if(!(null==i?void 0:i.allowCharacter)){if(this.isEmpty(o.text))return;this.completeLeftSide(o),this.completeRightSide(o)}var r=o.from,a=o.to,l=o.entity,c=o.text,u=o.node;return{from:r,to:a,entity:l,text:c,node:{element:u.element,id:u.id}}}}},{key:"addSpan",value:function addSpan(t,i){var o=this.crateSpan(t,i);if(o){var r=this.selections.filter((function(t){return t.node.id===o.node.id})),a=this.selections.filter((function(t){return o.from<=t.from&&o.to>=t.to||o.from>=t.from&&o.to<=t.to||o.from<t.from&&o.to>t.from||o.from<t.to&&o.to>t.to}));(null==i?void 0:i.allowOverlap)||(this.selections=[].concat(Object(h.a)(this.selections.filter((function(t){return t.node.id!==o.node.id}))),Object(h.a)(r.filter((function(t){return!a.includes(t)}))))),this.select(o)}}},{key:"select",value:function select(t){if(!this.exists(t)){this.completeOutOfBoundaries(t);var i=this.selections.filter((function(i){return i.node.id===t.node.id})).filter((function(i){return t.from<=i.from&&t.to>=i.to||t.from>=i.from&&t.to<=i.to||t.from<i.from&&t.to>i.from||t.from<i.to&&t.to>i.to})).reduce((function(t,i){return Math.max(t,i.overlap.level)}),0)+1,o=Object.assign(Object.assign({},t),{overlap:{level:i,index:i-1}});this.selections.push(o)}}},{key:"loadSpans",value:function loadSpans(t){var i=this;t.forEach((function(t){return i.select(t)}))}},{key:"replaceEntity",value:function replaceEntity(t,i){var o=this,r=this.selections.find((function(i){return o.createId(i)===o.createId(t)}));r&&(r.entity=i)}},{key:"clear",value:function clear(){this.selections=[]}},{key:"removeSpan",value:function removeSpan(t){var i=this;this.remove(t);var o=this.spans.filter((function(i){return i.node.id===t.node.id}));o.forEach((function(t){i.remove(t)})),this.loadSpans(o)}},{key:"remove",value:function remove(t){var i=this;this.selections=this.selections.filter((function(o){return i.createId(o)!==i.createId(t)}))}},{key:"completeOutOfBoundaries",value:function completeOutOfBoundaries(t){t.from=Math.max(0,t.from),t.to=Math.min(t.node.element.textContent.length,t.to)}},{key:"isOutOfRange",value:function isOutOfRange(t){return t.from<0||t.to<0}},{key:"exists",value:function exists(t){var i=this;return this.selections.some((function(o){return i.createId(o)===i.createId(t)}))}},{key:"completeLeftSide",value:function completeLeftSide(t){for(;;){var i=t.node.text.charAt(t.from-1);if(this.isEmpty(i)||this.isSymbol(i)||0===t.to)break;var o=t.text.charAt(0);if(this.isEmpty(o)){t.from++,t.text=t.text.slice(1);break}t.from--,t.text="".concat(i).concat(t.text)}}},{key:"completeRightSide",value:function completeRightSide(t){for(;;){var i=t.node.text.charAt(t.to);if(this.isEmpty(i)||this.isSymbol(i)||t.to===t.node.text.length)break;var o=t.text.charAt(t.text.length-1);if(this.isEmpty(o)){t.to--,t.text=t.text.slice(0,-1);break}t.to++,t.text="".concat(t.text).concat(i)}}},{key:"isEmpty",value:function isEmpty(t){return" "===t||"\n"===t}},{key:"isSymbol",value:function isSymbol(t){return!["0","1","2","3","4","5","6","7","8","9"].includes(t)&&t.toLowerCase()===t.toUpperCase()}},{key:"createId",value:function createId(t){return"".concat(t.from,"-").concat(t.to,"-").concat(t.entity.id,"-").concat(t.node.id)}}],[{key:"getInstance",value:function getInstance(){return this.instance||(this.instance=new SpanSelection),this.instance}}])}());function _createForOfIteratorHelper(t,i){var o="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!o){if(Array.isArray(t)||(o=function _unsupportedIterableToArray(t,i){if(t){if("string"==typeof t)return _arrayLikeToArray(t,i);var o={}.toString.call(t).slice(8,-1);return"Object"===o&&t.constructor&&(o=t.constructor.name),"Map"===o||"Set"===o?Array.from(t):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?_arrayLikeToArray(t,i):void 0}}(t))||i&&t&&"number"==typeof t.length){o&&(t=o);var r=0,a=function F(){};return{s:a,n:function n(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function e(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,c=!0,u=!1;return{s:function s(){o=o.call(t)},n:function n(){var t=o.next();return c=t.done,t},e:function e(t){u=!0,l=t},f:function f(){try{c||null==o.return||o.return()}finally{if(u)throw l}}}}function _arrayLikeToArray(t,i){(null==i||i>t.length)&&(i=t.length);for(var o=0,r=Array(i);o<i;o++)r[o]=t[o];return r}var y=function(){return Object(p.a)((function Highlighting(t,i,o,r){var a=this;Object(d.a)(this,Highlighting),this.nodeId=t,this.EntityComponentConstructor=i,this.spanSelection=g.getInstance(),this.entity=null,this.scroll=function(){a.applyEntityStyle()},this.styles=Object.assign({entitiesGap:16,lineHeight:o.allowOverlap?48:32,spanContainerId:"entity-span-container-".concat(t),entityCssKey:"hl"},r),this.config=Object.assign({allowOverlap:!1,allowCharacter:!1,lineHeight:this.styles.lineHeight},o)}),[{key:"spans",get:function get(){return Object(h.a)(this.spanSelection.spans)}},{key:"nodeSpans",get:function get(){var t=this;return this.spans.filter((function(i){return i.node.id===t.nodeId}))}},{key:"entitySpanContainer",get:function get(){var t=this.styles.spanContainerId,i=document.getElementById(t);return i||((i=document.createElement("div")).id=t),i}},{key:"mount",value:function mount(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(!CSS.highlights)throw new Error("The CSS Custom Highlight API is not supported in this browser!");var i=document.getElementById(this.nodeId);if(!i)throw new Error("Node with id ".concat(this.nodeId," not found"));this.attachNode(i),this.loadHighlights(t)}},{key:"unmount",value:function unmount(){this.removeAllHighlights()}},{key:"changeSelectedEntity",value:function changeSelectedEntity(t){this.entity=t}},{key:"allowCharacterAnnotation",value:function allowCharacterAnnotation(t){this.config.allowCharacter=t,this.showPreSelection()}},{key:"replaceEntity",value:function replaceEntity(t,i){this.spanSelection.replaceEntity(t,i),this.applyStyles()}},{key:"removeAllHighlights",value:function removeAllHighlights(){this.spanSelection.clear(),this.applyStyles()}},{key:"loadHighlights",value:function loadHighlights(t){var i=this;if(!this.node)throw new Error("Node not attached, use `attachNode` method with HTMLElement that contains the text to select");var o=t.map((function(t){return Object.assign(Object.assign({},t),{text:"",node:{element:i.node.firstChild,id:i.nodeId}})}));this.spanSelection.loadSpans(o),this.applyStyles()}},{key:"updateLineHeight",value:function updateLineHeight(){var t=this.nodeSpans.reduce((function(t,i){return Math.max(t,i.overlap.level)}),0),i=t>2?this.styles.lineHeight+this.styles.entitiesGap*Math.max(0,t-2):this.styles.lineHeight;this.config.lineHeight=i}},{key:"attachNode",value:function attachNode(t){var i=this;this.node=t,t.parentNode.appendChild(this.entitySpanContainer.cloneNode(!0)),this.node.addEventListener("click",(function(){i.highlightUserSelection(),i.applyStyles()})),document.addEventListener("selectionchange",(function(){i.showSelection(),i.showPreSelection()})),new ResizeObserver((function(){return i.applyStyles()})).observe(t),this.applyStylesOnScroll()}},{key:"showSelection",value:function showSelection(){if(this.entity){var t="".concat(this.styles.entityCssKey,"-").concat(this.entity.id,"-selection"),i=this.createTextSelection();if(!i)return CSS.highlights.delete(t);if((null==i?void 0:i.node.id)===this.nodeId){var o=this.createRange(i);o&&CSS.highlights.set(t,new Highlight(o))}}}},{key:"showPreSelection",value:function showPreSelection(){if(this.entity){var t="".concat(this.styles.entityCssKey,"-").concat(this.entity.id,"-pre-selection"),i=this.createTextSelection();if(!i)return CSS.highlights.delete(t);if(i.node.id===this.nodeId){var o=this.spanSelection.crateSpan(i,this.config);if(o){var r=this.createRange(Object.assign(Object.assign({},o),{from:o.from,to:i.from})),a=this.createRange(Object.assign(Object.assign({},o),{from:i.to,to:o.to}));r&&a&&CSS.highlights.set(t,new Highlight(r,a))}}}}},{key:"applyStylesOnScroll",value:function applyStylesOnScroll(){var t;this.scrollingElement&&this.scrollingElement.removeEventListener("scroll",this.scroll),this.scrollingElement=this.getScrollParent(this.entitySpanContainer),this.scrollingElement&&(this.scrollingElement.removeEventListener("scroll",this.scroll),null===(t=this.scrollingElement)||void 0===t||t.addEventListener("scroll",this.scroll))}},{key:"highlightUserSelection",value:function highlightUserSelection(){var t=this.createTextSelection(!0);this.spanSelection.addSpan(t,this.config)}},{key:"getSelectedText",value:function getSelectedText(){if(window.getSelection)return window.getSelection()}},{key:"applyStyles",value:function applyStyles(){CSS.highlights&&(this.applyHighlightStyle(),this.applyEntityStyle())}},{key:"applyHighlightStyle",value:function applyHighlightStyle(){var t,i=this,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(t){return"".concat(i.styles.entityCssKey,"-").concat(t.entity.id)},r={},a=_createForOfIteratorHelper(this.spans);try{for(a.s();!(t=a.n()).done;){var l=t.value,d=o(l);r[d]||(r[d]=[]);var p=this.createRange(l);r[d].push(p)}}catch(t){a.e(t)}finally{a.f()}var g,y=this.styles.entityCssKey,v=_createForOfIteratorHelper(CSS.highlights.entries());try{for(v.s();!(g=v.n()).done;){var m=Object(u.a)(g.value,1)[0];m.startsWith(y)&&CSS.highlights.delete(m)}}catch(t){v.e(t)}finally{v.f()}for(var S=0,b=Object.entries(r);S<b.length;S++){var w=Object(u.a)(b[S],2),C=w[0],_=w[1];CSS.highlights.set(C,Object(c.a)(Highlight,Object(h.a)(_.flat())))}}},{key:"hoverSpan",value:function hoverSpan(t,i){var o=this;this.applyHighlightStyle((function(r){return t===r&&i?"".concat(o.styles.entityCssKey,"-").concat(r.entity.id,"-hover"):"".concat(o.styles.entityCssKey,"-").concat(r.entity.id)}))}},{key:"applyEntityStyle",value:function applyEntityStyle(){for(var t=this;this.entitySpanContainer.firstChild;)this.entitySpanContainer.removeChild(this.entitySpanContainer.firstChild);this.updateLineHeight();var i,o=_createForOfIteratorHelper(this.nodeSpans);try{var r=function _loop(){var o=i.value,r=t.createPosition(o),a=t.EntityComponentConstructor(o,r,(function(i){return t.hoverSpan(o,i)}),(function(i){return t.removeSpan(i)}),(function(i){return t.replaceEntity(o,i)}),(function(i,o){return t.addSpanBaseOn(i,o)}));t.entitySpanContainer.appendChild(a)};for(o.s();!(i=o.n()).done;)r()}catch(t){o.e(t)}finally{o.f()}}},{key:"addSpanBaseOn",value:function addSpanBaseOn(t,i){if(t.entity.id!==i.id){var o=Object.assign(Object.assign({},t),{entity:i});this.spanSelection.select(o),this.applyStyles()}}},{key:"createPosition",value:function createPosition(t){var i=this.createRange(Object.assign(Object.assign({},t),{to:t.from+1})).getBoundingClientRect(),o=this.createRange(Object.assign(Object.assign({},t),{from:t.to-1})).getBoundingClientRect(),r=this.createRange(t).getBoundingClientRect(),a=this.entitySpanContainer.getBoundingClientRect(),l=this.entitySpanContainer.scrollTop,c=i.left,u=i.top,h=o.right,d=o.top,p=r.width,g={left:c,top:u+window.scrollY+this.styles.entitiesGap/10,width:p,right:h+window.scrollX,topEnd:d+window.scrollY};return t.overlap.level>0&&(g.top+=this.styles.entitiesGap*t.overlap.index,g.topEnd+=this.styles.entitiesGap*t.overlap.index),{top:g.top-a.top+l,left:g.left-a.left,width:g.width,topEnd:g.topEnd-a.top+l,right:g.right-a.left,lineHeight:this.config.lineHeight,baseEntityGap:this.styles.entitiesGap}}},{key:"removeSpan",value:function removeSpan(t){this.spanSelection.removeSpan(t),this.applyStyles()}},{key:"createRange",value:function createRange(t){var i=t.from,o=t.to,r=t.node;try{var a=new Range;return a.setStart(r.element,i),a.setEnd(r.element,o),a}catch(t){}}},{key:"createTextSelection",value:function createTextSelection(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],i=this.getSelectedText();if("Range"===(null==i?void 0:i.type)&&this.entity){var o=i.toString(),r=i.anchorOffset,a=i.focusOffset,l={from:Math.min(r,a),to:Math.max(r,a),text:o,entity:this.entity,node:{id:this.nodeId,element:i.focusNode,text:i.focusNode.textContent}};return t&&i.empty(),l}}},{key:"getScrollParent",value:function getScrollParent(t){return null==t?null:t.scrollHeight>t.clientHeight?t:this.getScrollParent(t.parentNode)}}])}(),v=o(1412),m=function useSpanAnnotationTextFieldViewModel(t){var i=t.spanQuestion,o=t.id,c=Object(l.a)(o),u=Object(a.f)(!0),h=i.answer,d={allowOverlap:i.settings.allow_overlapping},p=function selectEntity(t){h.options.forEach((function(i){i.isSelected=i.id===(null==t?void 0:t.id)})),g.value.changeSelectedEntity(t)},g=Object(a.f)(new y(o,(function entityComponentFactory(t,o,a,l,c,u){var d,y=r.default.extend(v.default),m=h.options.find((function(i){return i.id===t.entity.id})),S=null===(d=i.suggestion)||void 0===d?void 0:d.getSuggestion({start:t.from,end:t.to,label:null==m?void 0:m.value}),b=g.value.spans.filter((function(i){return i.from===t.from&&i.to===t.to})),w=new y({propsData:{span:t,spanInRange:b,entity:m,spanQuestion:i,entityPosition:o,suggestion:S}});return w.$on("on-remove-span",l),w.$on("on-hover-span",a),w.$on("on-add-span-base-on",u),w.$on("on-replace-entity",(function(t){p(t),c(t)})),w.$mount(),w.$el}),d));return Object(a.g)((function(){return h.options}),(function(){!function updateSelectedEntity(){var t=h.options.find((function(t){return t.isSelected}));p(t)}()}),{deep:!0}),Object(a.g)((function(){return g.value.spans}),(function(t){var r=function convertSpansToResponse(t){return t.map((function(t){var i=h.options.find((function(i){return i.id===t.entity.id}));if(i)return{start:t.from,end:t.to,label:i.value}})).filter(Boolean)}(t.filter((function(t){return t.node.id===o})));i.answer.response({value:r})}),{deep:!0}),Object(a.g)((function(){return t.searchText}),(function(t){c.highlightText(t)})),Object(a.d)((function(){var o=function convertResponseToSpans(t){return t.map((function(t){var i=h.options.find((function(i){return i.value===t.label}));if(i)return{entity:{id:i.id},from:t.start,to:t.end}})).filter(Boolean)}(i.answer.valuesAnswered);try{g.value.mount(o)}catch(t){u.value=!1}c.highlightText(t.searchText)})),Object(a.e)((function(){g.value.unmount()})),{spanAnnotationSupported:u,highlighting:g}},S={props:{id:{type:String,required:!0},title:{type:String,required:!0},fieldText:{type:String,required:!0},spanQuestion:{type:Object,required:!0},searchText:{type:String,default:""}},data:function data(){return{visibleShortcutsHelper:!1,alreadyUsedTheCharacterAnnotation:!1,mouseDown:!1,mouseTimeout:null,mouseEnter:!1,showCursorWithEntity:!1,timeOutShowEntity:null}},computed:{lineHeight:function lineHeight(){return"".concat(this.highlighting.config.lineHeight,"px")},selectedEntity:function selectedEntity(){return this.spanQuestion.answer.options.find((function(t){return t.isSelected}))},selectedEntityColor:function selectedEntityColor(){var t;return null===(t=this.selectedEntity)||void 0===t?void 0:t.color},hasSelectedEntity:function hasSelectedEntity(){return!!this.selectedEntity},allowOverlapping:function allowOverlapping(){return this.highlighting.config.allowOverlap}},watch:{mouseEnter:function mouseEnter(t,i){var o=this;t!==i&&(clearTimeout(this.timeOutShowEntity),this.showCursorWithEntity=!0,this.timeOutShowEntity=setTimeout((function(){o.showCursorWithEntity=!1}),3e3))}},methods:{allowCharacterAnnotation:function allowCharacterAnnotation(t){this.highlighting.allowCharacterAnnotation(t)},keyPressing:function keyPressing(t,i){"Shift"===t.key&&(t.preventDefault(),t.stopPropagation(),this.allowCharacterAnnotation(i),this.alreadyUsedTheCharacterAnnotation=!0,this.visibleShortcutsHelper=!1)},showShortcutsHelper:function showShortcutsHelper(t){this.spanQuestion.settings.allow_character_annotation&&(this.alreadyUsedTheCharacterAnnotation||(this.visibleShortcutsHelper=t))},onMouseDown:function onMouseDown(){this.mouseDown=!0},onMouseUp:function onMouseUp(){this.mouseDown=!1,this.mouseTimeout&&clearTimeout(this.mouseTimeout),this.showShortcutsHelper(!1)},onMouseMove:function onMouseMove(){var t=this,i=this.mouseDown;this.mouseTimeout=setTimeout((function(){t.mouseDown&&t.showShortcutsHelper(i)}),500)},onKeyDown:function onKeyDown(t){this.keyPressing(t,!0)},onKeyUp:function onKeyUp(t){this.keyPressing(t,!1)}},mounted:function mounted(){this.spanQuestion.settings.allow_character_annotation&&(document.addEventListener("keydown",this.onKeyDown),document.addEventListener("keyup",this.onKeyUp))},beforeDestroy:function beforeDestroy(){this.spanQuestion.settings.allow_character_annotation&&(document.removeEventListener("keydown",this.onKeyDown),document.removeEventListener("keyup",this.onKeyUp))},setup:function setup(t){return m(t)}},b=function __injectCSSVars__(){Object(r.useCssVars)((function(t,i){return{"5a3e220e":t.lineHeight}}))},w=S.setup;S.setup=w?function(t,i){return b(),w(t,i)}:b;var C=S,_=(o(1365),o(26)),O=Object(_.a)(C,(function render(){var t=this,i=t._self._c;return i("div",{key:t.id,staticClass:"text_field_component",attrs:{"aria-label":"Data Record Field"},on:{mouseenter:function mouseenter(i){i.stopPropagation(),t.mouseEnter=!0},mouseleave:function mouseleave(i){i.stopPropagation(),t.mouseEnter=!1}}},[i("div",{staticClass:"title-area --body2"},[i("span",{staticClass:"text_field_component__title-content",attrs:{"aria-label":"Field Name: "+t.title},domProps:{textContent:t._s(t.title)}}),t._v(" "),i("BaseActionTooltip",{staticClass:"text_field_component__tooltip",attrs:{tooltip:t.$t("copied"),"tooltip-position":"left"}},[i("BaseButton",{staticClass:"text_field_component__copy-button",attrs:{title:t.$t("button.tooltip.copyToClipboard"),"aria-label":t.$t("button.tooltip.copyToClipboard"),role:"button"},on:{click:function click(i){return i.preventDefault(),t.$copyToClipboard(t.fieldText)}}},[i("svgicon",{attrs:{color:"#acacac",name:"copy",width:"18",height:"18","aria-hidden":"true"}})],1)],1)],1),t._v(" "),i("div",{staticClass:"text_field_component__area --body1",attrs:{id:"fields-content-".concat(t.id),"aria-label":"Data entry for Field: "+t.title}},[i("p",{ref:"spanAnnotationField",class:[t.allowOverlapping?"span-annotation__field--overlapped":"span-annotation__field",t.hasSelectedEntity?"span-annotation__field--active":null],attrs:{id:t.id,tabindex:"0"},domProps:{innerHTML:t._s(t.fieldText)},on:{mousedown:t.onMouseDown,mouseup:t.onMouseUp,mousemove:t.onMouseMove}}),t._v(" "),t.hasSelectedEntity?i("SpanAnnotationCursor",{attrs:{"cursor-area-ref":"spanAnnotationField","cursor-color":t.selectedEntityColor,"show-message":t.visibleShortcutsHelper,"show-entity":t.showCursorWithEntity,"entity-name":t.selectedEntity.text,message:t.$t("spanAnnotation.shortcutHelper")}}):t._e(),t._v(" "),[t._l(t.spanQuestion.answer.options,(function(o){var r=o.id,a=o.color;return[i("style",{key:r,attrs:{scoped:""}},[t._v("\n          .span-annotation__field::highlight(hl-"+t._s(r)+"), .span-annotation__field::highlight(hl-"+t._s(r)+"-selection) {\n            background-color: "+t._s(a)+';\n          }\n          [data-theme="dark"] .span-annotation__field::highlight(hl-'+t._s(r)+'), [data-theme="dark"] .span-annotation__field::highlight(hl-'+t._s(r)+"-selection) {\n            background-color: "+t._s(a.palette.veryDark)+";\n          }\n          .span-annotation__field::highlight(hl-"+t._s(r)+"-pre-selection) {\n            background: "+t._s(a.palette.light)+';\n          }\n          [data-theme="dark"] .span-annotation__field::highlight(hl-'+t._s(r)+"-pre-selection) {\n            background: "+t._s(a.palette.dark)+";\n          }\n          .span-annotation__field--overlapped::highlight(hl-"+t._s(r)+"-selection) {\n            background: "+t._s(a)+';\n          }\n          [data-theme="dark"] .span-annotation__field--overlapped::highlight(hl-'+t._s(r)+"-selection) {\n            background: "+t._s(a.palette.veryDark)+";\n          }\n          .span-annotation__field--overlapped::highlight(hl-"+t._s(r)+"-pre-selection) {\n            background: "+t._s(a.palette.light)+';\n            color: inherit;\n          }\n          [data-theme="dark"] .span-annotation__field--overlapped::highlight(hl-'+t._s(r)+"-pre-selection) {\n            background: "+t._s(a.palette.dark)+";\n          }\n          .span-annotation__field--overlapped::highlight(hl-"+t._s(r)+"-hover) {\n            background: "+t._s(a)+';\n          }\n          [data-theme="dark"] .span-annotation__field--overlapped::highlight(hl-'+t._s(r)+"-hover) {\n            background: "+t._s(a.palette.veryDark)+";\n          }\n          ::highlight(search-text-highlight-"+t._s(r)+") {\n            color: #ff675f;\n          }\n        ")])]}))]],2)])}),[],!1,null,"12526bc6",null);i.default=O.exports;installComponents(O,{BaseButton:o(259).default,BaseActionTooltip:o(416).default,SpanAnnotationCursor:o(1345).default})},1157:function(t,i,o){"use strict";var r=o(148),a=o(86),l=o(284),c=o(47),flattenIntoArray=function(t,i,o,u,h,d,p,g){for(var y,v,m=h,S=0,b=!!p&&c(p,g);S<u;)S in o&&(y=b?b(o[S],S,i):o[S],d>0&&r(y)?(v=a(y),m=flattenIntoArray(t,i,y,v,m,d-1)-1):(l(m+1),t[m]=y),m++),S++;return m};t.exports=flattenIntoArray},1215:function(t,i,o){t.exports={}},1272:function(t,i,o){"use strict";o(1215)},1296:function(t,i,o){t.exports={}},1345:function(t,i,o){"use strict";o.r(i);o(25),o(34),o(66),o(67),o(46),o(4),o(32);var r=o(31),a=o(0);function ownKeys(t,i){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);i&&(r=r.filter((function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable}))),o.push.apply(o,r)}return o}var l={props:{cursorAreaRef:{type:String,required:!0},cursorColor:{type:String,default:"black"},showMessage:{type:Boolean,default:!1},showEntity:{type:Boolean,default:!1},entityName:{type:String,required:!0},message:{type:String,required:!0}},data:function data(){return{cursorPosition:{left:0,top:0},messagePosition:{left:0,top:0},cursorClass:void 0}},created:function created(){this.area=this.$parent.$refs[this.cursorAreaRef]},watch:{showMessage:function showMessage(){this.showMessage&&(this.messagePosition=function _objectSpread(t){for(var i=1;i<arguments.length;i++){var o=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(o),!0).forEach((function(i){Object(r.a)(t,i,o[i])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):ownKeys(Object(o)).forEach((function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(o,i))}))}return t}({},this.cursorPosition))}},methods:{addCursorClass:function addCursorClass(){this.cursorClass="textual"},removeCursorClass:function removeCursorClass(){this.cursorClass=""},updateCursorPosition:function updateCursorPosition(t){this.cursorPosition.left=t.clientX+"px",this.cursorPosition.top=t.clientY+"px"}},mounted:function mounted(){this.area&&(this.area.addEventListener("mouseover",this.addCursorClass),this.area.addEventListener("mouseleave",this.removeCursorClass),document.addEventListener("mousemove",this.updateCursorPosition))},destroyed:function destroyed(){this.area&&(this.area.removeEventListener("mouseover",this.addCursorClass),this.area.removeEventListener("mouseleave",this.removeCursorClass),document.removeEventListener("mousemove",this.updateCursorPosition))}},c=function __injectCSSVars__(){Object(a.useCssVars)((function(t,i){return{"2e5e2801":t.cursorColor,"4a5d1a2c":t.cursorColor.palette.veryDark}}))},u=l.setup;l.setup=u?function(t,i){return c(),u(t,i)}:c;var h=l,d=(o(1272),o(26)),p=Object(d.a)(h,(function render(){var t=this,i=t._self._c;return i("span",[t.showMessage?i("span",{staticClass:"custom-cursor__message",style:{left:t.messagePosition.left,top:t.messagePosition.top},domProps:{textContent:t._s(t.message)}}):t._e(),t._v(" "),i("span",{ref:"cursor",staticClass:"custom-cursor",class:[t.cursorClass,{entity:t.showEntity}],style:{left:t.cursorPosition.left,top:t.cursorPosition.top},attrs:{"data-message":t.message,"data-entity-name":t.entityName}})])}),[],!1,null,"36d3b6c3",null);i.default=p.exports},1362:function(t,i,o){"use strict";var r=o(5),a=o(1157),l=o(63),c=o(86),u=o(97),h=o(218);r({target:"Array",proto:!0},{flat:function flat(){var t=arguments.length?arguments[0]:void 0,i=l(this),o=c(i),r=h(i,0);return r.length=a(r,i,i,o,0,void 0===t?1:u(t)),r}})},1363:function(t,i,o){"use strict";o(147)("flat")},1365:function(t,i,o){"use strict";o(1296)},888:function(t,i,o){"use strict";o.d(i,"a",(function(){return c}));var r=o(283),a=o(49);o(25),o(35),o(42),o(34),o(44),o(23),o(39),o(11),o(4),o(281),o(24),o(27),o(20),o(75),o(93),o(1119),o(16);function _createForOfIteratorHelper(t,i){var o="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!o){if(Array.isArray(t)||(o=function _unsupportedIterableToArray(t,i){if(t){if("string"==typeof t)return _arrayLikeToArray(t,i);var o={}.toString.call(t).slice(8,-1);return"Object"===o&&t.constructor&&(o=t.constructor.name),"Map"===o||"Set"===o?Array.from(t):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?_arrayLikeToArray(t,i):void 0}}(t))||i&&t&&"number"==typeof t.length){o&&(t=o);var r=0,a=function F(){};return{s:a,n:function n(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function e(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,c=!0,u=!1;return{s:function s(){o=o.call(t)},n:function n(){var t=o.next();return c=t.done,t},e:function e(t){u=!0,l=t},f:function f(){try{c||null==o.return||o.return()}finally{if(u)throw l}}}}function _arrayLikeToArray(t,i){(null==i||i>t.length)&&(i=t.length);for(var o=0,r=Array(i);o<i;o++)r[o]=t[o];return r}var l=["|","+","-","*"],c=function useSearchTextHighlight(t){var i="fields-content-".concat(t),o="search-text-highlight-".concat(t),c=function createRangesToHighlight(t,i){CSS.highlights.delete(o);var r,c=[],u=function getAllCoincidences(t,i,o){var r=[];if("PARTIAL"===o)for(var a,l=0;(a=t.nodeValue.toLowerCase().indexOf(i.toLowerCase(),l))>-1;){var c={start:a,end:a+i.length};r.push(c),l=c.end}if("WORD"===o)for(var u,h=new RegExp("\\b".concat(i,"\\b"),"gi");u=h.exec(t.nodeValue.toLowerCase());)r.push({start:u.index,end:u.index+u[0].length});return r},h=function createRanges(t,i){var o,r=[],a=_createForOfIteratorHelper(i);try{for(a.s();!(o=a.n()).done;){var l=o.value,c=new Range;c.setStart(t,l.start),c.setEnd(t,l.end),r.push(c)}}catch(t){a.e(t)}finally{a.f()}return r},d=function getTextNodesUnder(t){for(var i=[],o=document.createTreeWalker(t,NodeFilter.SHOW_TEXT);o.nextNode();)i.push(o.currentNode);return i.filter((function(t){return t.nodeValue.trim().length>0}))}(t),p=function scapeDSLChars(t){for(var i=t,o=0,r=l;o<r.length;o++){var a=r[o];i=i.replaceAll(a," ")}return i.split(" ").map((function(t){return t.trim()})).filter(Boolean)}(i),g=_createForOfIteratorHelper(d);try{for(g.s();!(r=g.n()).done;){var y,v=r.value,m=_createForOfIteratorHelper(p);try{for(m.s();!(y=m.n()).done;){var S=h(v,u(v,y.value,"WORD"));c.push.apply(c,Object(a.a)(S))}}catch(t){m.e(t)}finally{m.f()}}}catch(t){g.e(t)}finally{g.f()}return c};return{highlightText:function highlightText(t){var l=document.getElementById(i);if(t&&l){var u=c(l,t);CSS.highlights.set(o,Object(r.a)(Highlight,Object(a.a)(u)))}else CSS.highlights.delete(o)}}}}}]);