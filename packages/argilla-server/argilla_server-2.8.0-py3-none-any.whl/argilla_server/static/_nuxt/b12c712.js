(window.webpackJsonp=window.webpackJsonp||[]).push([[191,62,127],{784:function(e,t,n){e.exports={}},786:function(e,t,n){"use strict";n.r(t);n(41),n(24),n(75);var i=n(868),o=n(869),s=n(262),a=n.n(s),r=n(870),u=n(871),c=n.n(u);r.addHook("beforeSanitizeAttributes",(function(e){if(e instanceof SVGElement){var t=e.getAttribute("width"),n=e.getAttribute("height");!e.getAttribute("viewBox")&&t&&n&&e.setAttribute("viewBox","0 0 ".concat(t," ").concat(n))}e instanceof HTMLAnchorElement&&e.setAttribute("target","_blank")})),i.marked.use(c()({throwOnError:!1})),i.marked.use({hooks:{preprocess:function preprocess(e){return e.replace(/[^\S\r\n]+$/gm,"")},postprocess:function postprocess(e){return r.sanitize(e,{ADD_TAGS:["embed","object"],ADD_ATTR:["data","target"],ADD_URI_SAFE_ATTR:["data"]})}}},Object(o.markedHighlight)({langPrefix:"hljs language-",highlight:function highlight(e,t){var n=a.a.getLanguage(t)?t:"plaintext";return a.a.highlight(e,{language:n}).value}}));var d={props:{markdown:{type:String,required:!0}},computed:{classes:function classes(){return this.$language.isRTL(this.markdown)?"--rtl":"--ltr"},markdownToHtml:function markdownToHtml(){return i.marked.parse(this.markdown,{headerIds:!1,mangle:!1,breaks:!0})}}},l=(n(798),n(26)),h=Object(l.a)(d,(function render(){var e=this;return(0,e._self._c)("div",{directives:[{name:"copy-code",rawName:"v-copy-code"}],staticClass:"markdown-render",class:e.classes,domProps:{innerHTML:e._s(e.markdownToHtml)}})}),[],!1,null,"7f5a43aa",null);t.default=h.exports},798:function(e,t,n){"use strict";n(784)},829:function(e,t,n){e.exports={}},854:function(e,t,n){e.exports={}},916:function(e,t,n){"use strict";n(829)},931:function(e,t,n){"use strict";n.r(t);var i={name:"ContentEditableFeedbackTask",props:{value:{type:String,required:!0},placeholder:{type:String,default:""},originalValue:{type:String,default:""},isFocused:{type:Boolean,default:function _default(){return!1}}},data:function data(){return{sanitizedCurrentValue:null,currentValue:null}},computed:{classes:function classes(){var classes=[];return this.textIsEdited&&classes.push("--edited-text"),this.$language.isRTL(this.value)?classes.push("--rtl"):classes.push("--ltr"),classes},textIsEdited:function textIsEdited(){return this.originalValue!==this.value}},watch:{isFocused:{immediate:!0,handler:function handler(e){var t=this;e&&this.$nextTick((function(){t.$refs.text.focus()}))}},value:function value(){this.value!==this.currentValue&&this.reset()}},mounted:function mounted(){this.reset()},methods:{reset:function reset(){var e=this;this.currentValue=this.value,this.sanitizedCurrentValue=" ",this.$nextTick((function(){e.sanitizedCurrentValue=e.currentValue}))},exitEditionMode:function exitEditionMode(){this.$refs.text.blur(),this.$emit("on-exit-edition-mode")},onInputText:function onInputText(e){this.currentValue=e.target.innerText,this.$emit("change-text",this.currentValue)},setFocus:function setFocus(e){this.$emit("on-change-focus",e)},pastePlainText:function pastePlainText(e){if(e.target.isContentEditable){var t,n;e.preventDefault();var i=null!==(t=null===(n=e.clipboardData)||void 0===n?void 0:n.getData("text/plain"))&&void 0!==t?t:"";document.execCommand("insertText",!1,i)}},onClickOutside:function onClickOutside(){this.setFocus(!1)}}},o=(n(916),n(26)),s=Object(o.a)(i,(function render(){var e=this,t=e._self._c;return t("span",[t("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:{events:["mousedown"],handler:e.onClickOutside},expression:"{\n      events: ['mousedown'],\n      handler: onClickOutside,\n    }"}],staticClass:"content__edition-area"},[t("p",{ref:"text",staticClass:"content__text",class:e.classes,attrs:{id:"contentId",contenteditable:!0,placeholder:e.placeholder},domProps:{textContent:e._s(e.sanitizedCurrentValue)},on:{input:e.onInputText,focus:function focus(t){return e.setFocus(!0)},blur:function blur(t){return e.setFocus(!1)},keydown:[function(e){e.stopPropagation()},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])||t.ctrlKey||t.shiftKey||t.altKey||t.metaKey?null:e.exitEditionMode.apply(null,arguments)}],paste:e.pastePlainText}})])])}),[],!1,null,"72ab37d0",null);t.default=s.exports},948:function(e,t,n){"use strict";n(854)},988:function(e,t,n){"use strict";n.r(t);var i={name:"TextAreaComponent",props:{question:{type:Object,required:!0},isFocused:{type:Boolean,default:function _default(){return!1}}},data:function data(){return{isEditionModeActive:!1,isExitedFromEditionModeWithKeyboard:!1}},watch:{isFocused:{immediate:!0,handler:function handler(e){var t=this;!this.question.isRequired||this.question.isAnswered?e&&this.$nextTick((function(){t.onExitEditionMode()})):this.onChangeFocus(e)}}},methods:{onEditMode:function onEditMode(){this.isExitedFromEditionModeWithKeyboard&&(this.isEditionModeActive=!0)},onExitEditionMode:function onExitEditionMode(){this.$refs.container.focus({preventScroll:!0}),this.isEditionModeActive=!1,this.isExitedFromEditionModeWithKeyboard=!0},onChangeTextArea:function onChangeTextArea(e){var t=null==e?void 0:e.length;this.question.answer.value=t?e:"",this.question.isRequired&&this.$emit("on-error",!t)},onChangeFocus:function onChangeFocus(e){this.isEditionModeActive=e,e&&this.$emit("on-focus")},onFocus:function onFocus(e){e.defaultPrevented||(this.isEditionModeActive=!0,this.isExitedFromEditionModeWithKeyboard=!1)}},computed:{classes:function classes(){return this.isEditionModeActive?"--editing":null}}},o=(n(948),n(26)),s=Object(o.a)(i,(function render(){var e=this,t=e._self._c;return t("div",{ref:"container",staticClass:"container",class:e.classes,attrs:{tabindex:e.isEditionModeActive?"-1":"0"},on:{focus:e.onFocus,keydown:function keydown(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:t.shiftKey?t.ctrlKey||t.altKey||t.metaKey?null:(t.preventDefault(),e.onEditMode.apply(null,arguments)):null}}},[e.question.settings.use_markdown&&!e.isEditionModeActive?t("MarkdownRenderer",{staticClass:"textarea--markdown",attrs:{markdown:e.question.answer.value,role:"textbox"},nativeOn:{click:function click(t){return e.onFocus.apply(null,arguments)}}}):t("ContentEditableFeedbackTask",{staticClass:"textarea",attrs:{value:e.question.answer.value,originalValue:e.question.answer.originalValue,placeholder:e.question.settings.placeholder,isFocused:e.isEditionModeActive,role:"textbox"},on:{"change-text":e.onChangeTextArea,"on-change-focus":e.onChangeFocus,"on-exit-edition-mode":e.onExitEditionMode}})],1)}),[],!1,null,"61f0c33a",null);t.default=s.exports;installComponents(s,{MarkdownRenderer:n(786).default,ContentEditableFeedbackTask:n(931).default})}}]);