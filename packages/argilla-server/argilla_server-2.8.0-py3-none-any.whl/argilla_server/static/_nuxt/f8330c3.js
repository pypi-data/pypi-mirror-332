(window.webpackJsonp=window.webpackJsonp||[]).push([[73,30,74,76,121],{1051:function(t,e,a){t.exports={}},1057:function(t,e,a){t.exports={}},1058:function(t,e,a){"use strict";a.r(e);a(11),a(34),a(4);var s={props:{value:{type:[Object,String]},options:{type:Array,required:!0}},model:{prop:"value",event:"onValueChange"},data:function data(){return{dropdownIsVisible:!1}},computed:{filteredOptions:function filteredOptions(){var t=this;return this.options.filter((function(e){return JSON.stringify(e)!==JSON.stringify(t.value)}))}},methods:{onVisibility:function onVisibility(t){this.dropdownIsVisible=t},selectOption:function selectOption(t){this.$emit("onValueChange",t),this.dropdownIsVisible=!1}}},n=(a(1103),a(26)),i=Object(n.a)(s,(function render(){var t,e,a,s=this,n=s._self._c;return s.options.length?n("BaseDropdown",{staticClass:"selector",attrs:{visible:s.dropdownIsVisible},on:{visibility:s.onVisibility}},[n("template",{slot:"dropdown-header"},[s._v("\n    "+s._s(null!==(t=null!==(e=null===(a=s.value)||void 0===a?void 0:a.name)&&void 0!==e?e:s.value)&&void 0!==t?t:s.$t("datasetCreation.select"))+"\n    "),n("svgicon",{attrs:{name:"chevron-down",height:"8"}})],1),s._v(" "),n("template",{slot:"dropdown-content"},[s._t("optionsIntro"),s._v(" "),n("ul",{staticClass:"selector__options"},s._l(s.filteredOptions,(function(t,e){var a;return n("li",{key:e,class:t===s.value?"selector__option--selected":"selector__option",on:{click:function click(e){return s.selectOption(t)}}},[s._v("\n        "+s._s(null!==(a=null==t?void 0:t.name)&&void 0!==a?a:t)+"\n      ")])})),0)],2)],2):s._e()}),[],!1,null,"561883d2",null);e.default=i.exports;installComponents(i,{BaseDropdown:a(780).default})},1103:function(t,e,a){"use strict";a(973)},1106:function(t,e,a){"use strict";a(976)},1123:function(t,e,a){t.exports={}},1131:function(t,e,a){"use strict";a.r(e);var s={props:{value:{type:String,required:!0},placeholder:{type:String,default:""}},model:{prop:"value",event:"on-value-change"},methods:{onInput:function onInput(t){this.$emit("on-value-change",t)}}},n=(a(1106),a(26)),i=Object(n.a)(s,(function render(){var t=this,e=t._self._c;return e("div",{staticClass:"dataset-config__input-container"},[e("input",{staticClass:"dataset-config__input",attrs:{type:"text",placeholder:t.placeholder},domProps:{value:t.value},on:{input:function input(e){return t.onInput(e.target.value)},focus:function focus(e){return t.$emit("is-focused",!0)},blur:function blur(e){return t.$emit("is-focused",!1)}}})])}),[],!1,null,"0b27347f",null);e.default=i.exports},1144:function(t,e,a){"use strict";a(1051)},1150:function(t,e,a){"use strict";a(1057)},1158:function(t,e,a){"use strict";a.r(e);a(11),a(23);var s=a(790),n=(a(10),a(4),a(62)),i=a(8),o=a(85),r=a(270),__awaiter=function(t,e,a,s){return new(a||(a=Promise))((function(n,i){function fulfilled(t){try{step(s.next(t))}catch(t){i(t)}}function rejected(t){try{step(s.throw(t))}catch(t){i(t)}}function step(t){t.done?n(t.value):function adopt(t){return t instanceof a?t:new a((function(e){e(t)}))}(t.value).then(fulfilled,rejected)}step((s=s.apply(t,e||[])).next())}))},l={components:{Validation:s.default},props:{dataset:{type:Object,required:!0},isLoading:{type:Boolean,default:!1}},watch:{firstWorkspace:{handler:function handler(t){t&&this.$set(this.dataset,"workspace",this.firstWorkspace)},deep:!0}},computed:{firstTranslatedValidation:function firstTranslatedValidation(){return[this.translatedValidations[0]]},translatedValidations:function translatedValidations(){var t=this;return this.dataset.validate().question.map((function(e){return t.$t(e)}))},firstWorkspace:function firstWorkspace(){if(this.workspaces.length&&!this.dataset.workspace)return this.workspaces[0]}},methods:{closeDialog:function closeDialog(){this.$emit("close-dialog")},createDataset:function createDataset(){this.dataset.isValid&&this.$emit("create-dataset")},selectWorkspace:function selectWorkspace(t){this.$set(this.dataset,"workspace",t)}},setup:function setup(){return function useDatasetConfigurationNameAndWorkspace(){var t=Object(o.f)([]),e=Object(i.useResolve)(r.a);return Object(n.g)((function(){return __awaiter(void 0,void 0,void 0,regeneratorRuntime.mark((function _callee(){return regeneratorRuntime.wrap((function _callee$(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e.execute();case 2:t.value=a.sent;case 3:case"end":return a.stop()}}),_callee)})))})),{workspaces:t}}()}},c=(a(1150),a(26)),d=Object(c.a)(l,(function render(){var t,e=this,a=e._self._c;return a("transition",{attrs:{name:"fade",appear:""}},[a("dialog",{directives:[{name:"click-outside",rawName:"v-click-outside",value:e.closeDialog,expression:"closeDialog"}],staticClass:"dataset-config-dialog"},[a("form",{staticClass:"dataset-config-dialog__content",on:{submit:function submit(t){return t.preventDefault(),e.createDataset.apply(null,arguments)}}},[a("h1",{staticClass:"dataset-config-dialog__title",domProps:{textContent:e._s(e.$t("datasetCreation.createDataset"))}}),e._v(" "),a("div",{staticClass:"dataset-config-dialog__row"},[a("label",{staticClass:"dataset-config-dialog__label",attrs:{for:"datasetName"},domProps:{textContent:e._s(e.$t("datasetCreation.datasetName"))}}),e._v(" "),a("DatasetConfigurationInput",{attrs:{id:"datasetName",placeholder:e.$t("datasetCreation.datasetName")},model:{value:e.dataset.name,callback:function callback(t){e.$set(e.dataset,"name",t)},expression:"dataset.name"}})],1),e._v(" "),a("div",{staticClass:"dataset-config-dialog__row"},[a("label",{staticClass:"dataset-config-dialog__label",domProps:{textContent:e._s(e.$t("datasetCreation.assignWorkspace"))}}),e._v(" "),e.workspaces.length?1===e.workspaces.length?a("span",{staticClass:"dataset-config-dialog__unique-workspace",domProps:{textContent:e._s(e.dataset.workspace.name)}}):a("DatasetConfigurationSelector",{attrs:{options:e.workspaces},model:{value:e.dataset.workspace,callback:function callback(t){e.$set(e.dataset,"workspace",t)},expression:"dataset.workspace"}}):[a("span",{staticClass:"dataset-config-dialog__unique-workspace",domProps:{textContent:e._s(e.$t("datasetCreation.none"))}}),e._v(" "),a("Validation",{attrs:{validations:[e.$t("datasetCreation.noWorkspaces")]}})]],2),e._v(" "),(null===(t=e.dataset.selectedSubset.splits)||void 0===t?void 0:t.length)>1?a("div",{staticClass:"dataset-config-dialog__row"},[a("label",{staticClass:"dataset-config-dialog__label",domProps:{textContent:e._s(e.$t("datasetCreation.selectSplit"))}}),e._v(" "),a("DatasetConfigurationSelector",{staticClass:"config-form__selector",attrs:{options:e.dataset.selectedSubset.splits},model:{value:e.dataset.selectedSubset.selectedSplit,callback:function callback(t){e.$set(e.dataset.selectedSubset,"selectedSplit",t)},expression:"dataset.selectedSubset.selectedSplit"}})],1):e._e(),e._v(" "),a("p",{staticClass:"dataset-config-dialog__info",domProps:{textContent:e._s(e.$t("datasetCreation.recordWarning"))}}),e._v(" "),a("BaseButton",{staticClass:"dataset-config-dialog__button primary full",attrs:{disabled:!e.dataset.name||!e.dataset.workspace||!e.dataset.isValid,loading:e.isLoading,type:"submit"}},[e._v(e._s(e.$t("datasetCreation.button")))]),e._v(" "),e.dataset.isValid?e._e():a("Validation",{attrs:{validations:e.firstTranslatedValidation}})],1)])])}),[],!1,null,"3b80d03e",null);e.default=d.exports;installComponents(d,{DatasetConfigurationInput:a(1131).default,Validation:a(790).default,DatasetConfigurationSelector:a(1058).default,BaseButton:a(259).default})},1166:function(t,e,a){"use strict";a.r(e);var s={props:{field:{type:Object,required:!0},availableTypes:{type:Array,required:!0}},computed:{hasNoMapping:function hasNoMapping(){return"no mapping"===this.field.type.value}},model:{prop:"type",event:"change"}},n=a(26),i=Object(n.a)(s,(function render(){var t=this;return(0,t._self._c)("DatasetConfigurationCard",{attrs:{item:t.field,"config-type":"field","available-types":t.availableTypes},on:{"is-focused":function isFocused(e){return t.$emit("is-focused",e)}}})}),[],!1,null,null,null);e.default=i.exports;installComponents(i,{DatasetConfigurationCard:a(1059).default})},1167:function(t,e,a){"use strict";a.r(e);a(997);var s={props:{options:{type:Array,required:!0}},data:function data(){return{dropdownIsVisible:!1}},methods:{onVisibility:function onVisibility(t){this.dropdownIsVisible=t},selectOption:function selectOption(t){this.$emit("add-question",t,t),this.dropdownIsVisible=!1}}},n=(a(1144),a(26)),i=Object(n.a)(s,(function render(){var t=this,e=t._self._c;return t.options.length?e("BaseDropdown",{staticClass:"add-question-selector",attrs:{visible:t.dropdownIsVisible},on:{visibility:t.onVisibility}},[e("template",{slot:"dropdown-header"},[e("BaseButton",{staticClass:"add-question-selector__button"},[e("span",{staticClass:"add-question-selector__button-icon"},[e("svgicon",{attrs:{name:"plus"}})],1)])],1),t._v(" "),e("template",{slot:"dropdown-content"},[e("ul",{staticClass:"add-question-selector__options"},t._l(t.options,(function(a){return e("li",{key:a,staticClass:"add-question-selector__option",on:{click:function click(e){return t.selectOption(a)}}},[t._v("\n        "+t._s(t.$t("config.question.".concat(a)))+"\n      ")])})),0)])],2):t._e()}),[],!1,null,"49e9106c",null);e.default=i.exports;installComponents(i,{BaseButton:a(259).default,BaseDropdown:a(780).default})},1221:function(t,e,a){"use strict";a(1123)},1234:function(t,e,a){"use strict";a.r(e);a(34),a(11),a(4);var s=a(49),n=(a(41),a(261),a(23),a(10),a(8)),i=a(85),o=a(221),r=a(194),l=a(290),c=a(65),__awaiter=function(t,e,a,s){return new(a||(a=Promise))((function(n,i){function fulfilled(t){try{step(s.next(t))}catch(t){i(t)}}function rejected(t){try{step(s.throw(t))}catch(t){i(t)}}function step(t){t.done?n(t.value):function adopt(t){return t instanceof a?t:new a((function(e){e(t)}))}(t.value).then(fulfilled,rejected)}step((s=s.apply(t,e||[])).next())}))},d={props:{dataset:{type:Object,required:!0}},data:function data(){return{isFocused:!1,visibleDatasetCreationDialog:!1}},computed:{getMaxNumberInNames:function getMaxNumberInNames(){return Math.max.apply(Math,Object(s.a)(this.dataset.selectedSubset.questions.map((function(t){var e=t.name.split("_").pop();return parseInt(e)||0}))))}},methods:{createDataset:function createDataset(){this.create(this.dataset)},generateName:function generateName(t,e){var a=this.$t("config.questionId.".concat(t));return"".concat(a,"_").concat(parseInt(e)||0)},addQuestion:function addQuestion(t){var e=this.generateName(t,this.getMaxNumberInNames+1);this.dataset.selectedSubset.addQuestion(e,{type:t})},onTypeIsChanged:function onTypeIsChanged(t,e){var a=t.split("_").pop(),s=this.dataset.selectedSubset.questions.findIndex((function(e){return e.name===t}));this.dataset.selectedSubset.removeQuestion(t);var n=this.generateName(e.value,a);this.dataset.selectedSubset.addQuestion(n,{type:e.value},-1!==s?s:void 0)}},setup:function setup(){return function useDatasetConfigurationForm(){var t=Object(i.f)(!1),e=Object(c.k)().goToFeedbackTaskAnnotationPage,a=Object(n.useResolve)(l.a);return{availableFieldTypes:o.b,availableQuestionTypes:r.b,create:function create(s){return __awaiter(void 0,void 0,void 0,regeneratorRuntime.mark((function _callee(){var n;return regeneratorRuntime.wrap((function _callee$(i){for(;;)switch(i.prev=i.next){case 0:return t.value=!0,i.prev=1,i.next=4,a.execute(s);case 4:if(n=i.sent){i.next=7;break}return i.abrupt("return");case 7:e(n);case 8:return i.prev=8,t.value=!1,i.finish(8);case 11:case"end":return i.stop()}}),_callee,null,[[1,,8,11]])})))},isLoading:t}}()}},u=(a(1221),a(26)),f=Object(u.a)(d,(function render(){var t=this,e=t._self._c;return e("section",{staticClass:"config-form"},[e("div",{staticClass:"config-form__content"},[e("div",{staticClass:"config-form__col-wrapper"},[t.dataset.selectedSubset.fields.length?e("div",{staticClass:"config-form__col"},[e("div",{staticClass:"config-form__col__header"},[t._v("\n          "+t._s(t.$t("datasetCreation.fields"))+"\n          "),t.dataset.subsets.length>1?e("div",{staticClass:"config-form__subset"},[t._v("\n            "+t._s(t.$t("datasetCreation.subset"))+":\n            "),e("DatasetConfigurationSelector",{staticClass:"config-form__selector",attrs:{options:t.dataset.subsets,value:t.dataset.selectedSubset.name},on:{onValueChange:function onValueChange(e){return t.$emit("change-subset",e)}}},[e("template",{slot:"optionsIntro"},[e("span",{staticClass:"config-form__selector__intro"},[t._v(t._s(t.$t("datasetCreation.selectSubset")))])])],2)],1):t._e()]),t._v(" "),e("div",{staticClass:"config-form__col__content"},[e("draggable",{staticClass:"config-form__draggable-area",attrs:{list:t.dataset.selectedSubset.fields,group:{name:"fields"},"ghost-class":"config-form__ghost",disabled:t.isFocused}},[e("transition-group",{staticClass:"config-form__draggable-area-wrapper",attrs:{type:"transition",css:!1}},t._l(t.dataset.selectedSubset.fields.filter((function(e){return e.name!==t.dataset.mappings.external_id})),(function(a){return e("DatasetConfigurationField",{key:a.name,attrs:{field:a,"available-types":t.availableFieldTypes.filter((function(t){return"no mapping"===t.value||t.value===a.originalType.value}))},on:{"is-focused":function isFocused(e){t.isFocused=e}}})})),1)],1)],1)]):t._e()]),t._v(" "),e("div",{staticClass:"config-form__col-wrapper"},[e("div",{staticClass:"config-form__col"},[e("div",{staticClass:"config-form__col__header"},[t._v("\n          "+t._s(t.$t("datasetCreation.questionsTitle"))+"\n          "),e("DatasetConfigurationAddQuestion",{attrs:{options:["text","label_selection","multi_label_selection","rating","ranking","span"]},on:{"add-question":function addQuestion(e){return t.addQuestion(e)}}})],1),t._v(" "),e("div",{staticClass:"config-form__col__content --questions"},[t.dataset.selectedSubset.questions.length?e("draggable",{staticClass:"config-form__draggable-area",attrs:{"ghost-class":"config-form__ghost",list:t.dataset.selectedSubset.questions,group:{name:"questions"},disabled:t.isFocused}},[e("transition-group",{staticClass:"config-form__draggable-area-wrapper",attrs:{type:"transition",css:!1}},t._l(t.dataset.selectedSubset.questions,(function(a){return e("DatasetConfigurationQuestion",{key:a.name,attrs:{selectedSubset:t.dataset.selectedSubset,question:a,"remove-is-allowed":!0,"available-types":t.availableQuestionTypes},on:{"change-type":function changeType(e){return t.onTypeIsChanged(a.name,e)},"is-focused":function isFocused(e){t.isFocused=e}}})})),1)],1):t._e()],1)]),t._v(" "),e("div",{staticClass:"config-form__button-area"},[e("BaseButton",{staticClass:"primary",on:{click:function click(e){e.preventDefault(),t.visibleDatasetCreationDialog=!t.visibleDatasetCreationDialog}}},[t._v(t._s(t.$t("datasetCreation.button")))]),t._v(" "),t.visibleDatasetCreationDialog?e("DatasetConfigurationDialog",{attrs:{dataset:t.dataset,"is-loading":t.isLoading},on:{"close-dialog":function closeDialog(e){t.visibleDatasetCreationDialog=!1},"create-dataset":t.createDataset}}):t._e()],1)])])])}),[],!1,null,"9e610b5e",null);e.default=f.exports;installComponents(f,{DatasetConfigurationSelector:a(1058).default,DatasetConfigurationField:a(1166).default,DatasetConfigurationAddQuestion:a(1167).default,DatasetConfigurationQuestion:a(1230).default,BaseButton:a(259).default,DatasetConfigurationDialog:a(1158).default})},799:function(t,e,a){a(144).register({check:{width:40,height:40,viewBox:"0 0 40 40",data:'<path pid="0" d="M16.25 23.75l-7.5-7.5L5 20l11.25 11.25L35 12.5l-3.75-3.75-15 15z" _fill="#000"/>'}})},800:function(t,e,a){t.exports={}},806:function(t,e,a){"use strict";a.r(e);a(60),a(261),a(48),a(39),a(145),a(118),a(4),a(53),a(799);var s=a(216),n=a.n(s),i={model:{prop:"areChecked",event:"change"},props:{id:{type:String},disabled:{type:Boolean,default:!1},value:{type:[String,Number,Boolean,Object],default:!1},areChecked:{type:[Array,Boolean],default:!1},decorationCircle:{type:Boolean,default:!1}},data:function data(){return{checked:this.value||!1}},computed:{classes:function classes(){return{checked:Array.isArray(this.areChecked)?Array.isArray(this.areChecked)?this.areChecked.includes(this.value):n.a.find(this.areChecked,this.value):this.checked,disabled:this.disabled,"decoration-circle":this.decorationCircle}}},watch:{value:function value(){this.checked=!!this.value},areChecked:function areChecked(t){"boolean"==typeof t&&(this.checked=t)}},methods:{toggleCheck:function toggleCheck(){if(!this.disabled)if(Array.isArray(this.areChecked)){var t=this.areChecked.slice(),e="string"==typeof this.value?t.indexOf(this.value):n.a.findIndex(t,this.value);-1!==e?t.splice(e,1):t.push(this.value),this.$emit("change",t)}else{this.checked=!this.checked;var a=this.areChecked;a=this.checked,this.$emit("change",a),this.$emit("input",a)}}}},o=(a(834),a(26)),r=Object(o.a)(i,(function render(){var t=this,e=t._self._c;return e("div",{staticClass:"checkbox",class:[t.classes],on:{click:function click(e){return e.preventDefault(),t.toggleCheck.apply(null,arguments)}}},[t.$slots.default?e("label",{staticClass:"checkbox__label",attrs:{for:t.id}},[t._t("default")],2):t._e(),t._v(" "),e("div",{staticClass:"checkbox__container",attrs:{tabindex:"0"}},[e("input",{attrs:{id:t.id,type:"checkbox",disabled:t.disabled},domProps:{value:t.value,checked:t.checked}}),t._v(" "),e("svgicon",{attrs:{color:"#fffff",width:"12",name:"check"}})],1)])}),[],!1,null,"d69d744a",null);e.default=r.exports},834:function(t,e,a){"use strict";a(800)},973:function(t,e,a){t.exports={}},976:function(t,e,a){t.exports={}},997:function(t,e,a){a(144).register({plus:{width:16,height:16,viewBox:"0 0 16 16",data:'<path pid="0" d="M8 2a.75.75 0 00-.75.75v4.5h-4.5a.75.75 0 000 1.5h4.5v4.5a.75.75 0 001.5 0v-4.5h4.5a.75.75 0 000-1.5h-4.5v-4.5A.75.75 0 008 2z" _fill="#000" fill-opacity=".87"/>'}})}}]);