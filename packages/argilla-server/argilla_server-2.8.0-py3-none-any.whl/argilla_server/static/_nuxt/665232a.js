(window.webpackJsonp=window.webpackJsonp||[]).push([[9,103,145],{1008:function(e,t,n){"use strict";n(880)},818:function(e,t,n){e.exports={}},823:function(e,t,n){n(144).register({draggable:{width:6,height:10,viewBox:"0 0 6 10",data:'<path pid="0" d="M2.55 1.625a1.125 1.125 0 11-2.25 0 1.125 1.125 0 012.25 0zM2.55 5A1.125 1.125 0 11.3 5a1.125 1.125 0 012.25 0zM1.425 9.5a1.125 1.125 0 100-2.25 1.125 1.125 0 000 2.25zM5.925 1.625a1.125 1.125 0 11-2.25 0 1.125 1.125 0 012.25 0zM4.8 6.125a1.125 1.125 0 100-2.25 1.125 1.125 0 000 2.25zM5.925 8.375a1.125 1.125 0 11-2.25 0 1.125 1.125 0 012.25 0z" _fill="#4C4EA3"/>'}})},830:function(e,t,n){e.exports={}},831:function(e,t,n){e.exports={}},832:function(e,t,n){e.exports={}},839:function(e,t,n){n(144).register({danger:{width:90,height:82,viewBox:"0 0 90 82",data:'<path pid="0" d="M53.32 5.558a9.606 9.606 0 00-16.64 0L1.303 66.836a9.606 9.606 0 008.32 14.41h70.757a9.606 9.606 0 008.319-14.41L53.319 5.558zm30.182 67.884a3.543 3.543 0 01-3.123 1.804H9.62a3.607 3.607 0 01-3.123-5.41L41.876 8.558a3.606 3.606 0 016.248 0l35.378 61.278a3.542 3.542 0 010 3.606z" _fill="#000"/><path pid="1" d="M45 54.884a3 3 0 003-3V25.43a3 3 0 10-6 0v26.456a3 3 0 003 3zM45 60.917a3.175 3.175 0 100 6.35 3.175 3.175 0 000-6.35z" _fill="#000"/>'}})},855:function(e,t,n){e.exports={}},856:function(e,t,n){e.exports={}},857:function(e,t,n){e.exports={}},858:function(e,t,n){e.exports={}},859:function(e,t,n){e.exports={}},880:function(e,t,n){e.exports={}},893:function(e,t,n){"use strict";n(818)},898:function(e,t,n){"use strict";n.r(t);n(41),n(39);var o=n(0),s={props:{option:{type:Object,required:!0},keyboards:{type:Object,default:function _default(){return{}}},visibleShortcuts:{type:Boolean,default:!0}},computed:{optionColor:function optionColor(){return this.option.color},optionVeryDarkColor:function optionVeryDarkColor(){return this.optionColor.palette.veryDark},optionDarkColor:function optionDarkColor(){return this.optionColor.palette.dark},optionLightColor:function optionLightColor(){return this.optionColor.palette.light},optionVeryLightColor:function optionVeryLightColor(){return this.optionColor.palette.veryLight}}},i=function __injectCSSVars__(){Object(o.useCssVars)((function(e,t){return{"0a55427c":e.optionDarkColor,"00f9ca34":e.optionVeryLightColor,"7ed5a644":e.optionLightColor,"0455b7d2":e.optionColor,"4a46bb34":e.optionVeryDarkColor}}))},u=s.setup;s.setup=u?function(e,t){return i(),u(e,t)}:i;var r=s,a=(n(893),n(26)),l=Object(a.a)(r,(function render(){var e=this,t=e._self._c;return t("div",{staticClass:"input-button",attrs:{role:"button","aria-label":e.option.text}},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.option.isSelected,expression:"option.isSelected"}],ref:"inputRef",attrs:{type:"checkbox",name:e.option.text,id:e.option.id,"data-keyboard":e.keyboards[e.option.id]},domProps:{checked:Array.isArray(e.option.isSelected)?e._i(e.option.isSelected,null)>-1:e.option.isSelected},on:{change:[function(t){var n=e.option.isSelected,o=t.target,s=!!o.checked;if(Array.isArray(n)){var i=e._i(n,null);o.checked?i<0&&e.$set(e.option,"isSelected",n.concat([null])):i>-1&&e.$set(e.option,"isSelected",n.slice(0,i).concat(n.slice(i+1)))}else e.$set(e.option,"isSelected",s)},function(t){return e.$emit("on-selected")}],focus:function focus(t){return e.$emit("on-focus")},keydown:function keydown(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"tab",9,t.key,"Tab")?null:e.$emit("on-expand-labels-on-tab")}}}),e._v(" "),t("label",{staticClass:"label-text",class:[{"label-active":e.option.isSelected},"label-".concat(e.option.id)],attrs:{for:e.option.id,title:e.option.text}},[e.visibleShortcuts?t("span",{staticClass:"key",domProps:{textContent:e._s(e.keyboards[e.option.id])}}):e._e(),e._v(" "),t("span",[e._v(e._s(e.option.text))])])])}),[],!1,null,"f172cb34",null);t.default=l.exports},917:function(e,t,n){"use strict";n(830)},918:function(e,t,n){"use strict";n(831)},919:function(e,t,n){"use strict";n(832)},932:function(e,t,n){"use strict";n.r(t);n(41),n(39),n(4),n(814),n(32);var o={name:"RatingMonoSelectionComponent",props:{options:{type:Array,required:!0},isFocused:{type:Boolean,default:function _default(){return!1}},suggestion:{type:Object}},model:{prop:"options",event:"on-change"},watch:{isFocused:{immediate:!0,handler:function handler(e){var t=this;e&&this.$nextTick((function(){var e,n=null===(e=t.$refs)||void 0===e?void 0:e.options;n.some((function(e){return e.contains(document.activeElement)}))||n[0].focus()}))}}},methods:{isSuggested:function isSuggested(e){var t;return null===(t=this.suggestion)||void 0===t?void 0:t.isSuggested(e.value)},getSuggestedInfo:function getSuggestedInfo(e){var t,n,o,s=null===(t=this.suggestion)||void 0===t?void 0:t.getSuggestion(e.value);if(s){var i=s.agent?"".concat(s.agent,": "):"",u=null!==(n=null===(o=s.score)||void 0===o?void 0:o.fixed)&&void 0!==n?n:"";return"".concat(i).concat(u)}},onSelect:function onSelect(e){var t=e.id,n=e.isSelected;this.options.forEach((function(e){e.isSelected=e.id===t&&n})),this.$emit("on-change",this.options),n&&this.$emit("on-selected")},onFocus:function onFocus(){this.$emit("on-focus")}}},s=(n(917),n(26)),i=Object(s.a)(o,(function render(){var e=this,t=e._self._c;return t("div",{staticClass:"container"},[t("div",{staticClass:"inputs-area",attrs:{role:"radiogroup","aria-label":"Label-Options"}},e._l(e.options,(function(n){return t("div",{key:n.id,staticClass:"input-button",attrs:{role:"button","aria-label":n.text},on:{keydown:function keydown(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;t.preventDefault()}}},[t("BaseTooltip",{attrs:{title:e.isSuggested(n)?e.$t("suggestion.name"):"",text:e.getSuggestedInfo(n),minimalist:""}},[t("input",{directives:[{name:"model",rawName:"v-model",value:n.isSelected,expression:"option.isSelected"}],ref:"options",refInFor:!0,attrs:{type:"checkbox",name:n.value,id:n.id},domProps:{checked:Array.isArray(n.isSelected)?e._i(n.isSelected,null)>-1:n.isSelected},on:{change:[function(t){var o=n.isSelected,s=t.target,i=!!s.checked;if(Array.isArray(o)){var u=e._i(o,null);s.checked?u<0&&e.$set(n,"isSelected",o.concat([null])):u>-1&&e.$set(n,"isSelected",o.slice(0,u).concat(o.slice(u+1)))}else e.$set(n,"isSelected",i)},function(t){return e.onSelect(n)}],focus:e.onFocus}}),e._v(" "),t("label",{staticClass:"label-text",class:{"label-active":n.isSelected},attrs:{for:n.id}},[e._v("\n          "+e._s(n.value)+"\n\n          "),e.isSuggested(n)?t("svgicon",{staticClass:"label-text__suggestion-icon",attrs:{name:"suggestion"}}):e._e()],1)])],1)})),0)])}),[],!1,null,"fae5da3c",null);t.default=i.exports;installComponents(i,{BaseTooltip:n(789).default})},933:function(e,t,n){"use strict";n.r(t);n(34),n(60),n(4),n(27),n(119),n(16),n(81);var o={data:function data(){return{timer:null,keyCode:""}},computed:{options:function options(){var e;return null===(e=this.$slots.default[0].context)||void 0===e?void 0:e.question.answer.values}},methods:{selectByKeyCode:function selectByKeyCode(e){var t=this.options.find((function(t){return t.value==e}));t&&document.getElementById(t.id).click(),this.reset()},hasJustOneCoincidence:function hasJustOneCoincidence(e){return 1==this.options.filter((function(t){return t.value.toString().startsWith(e)})).length},reset:function reset(){this.keyCode="",this.timer=null},answerRatingFor:function answerRatingFor(e){var t=this;if(this.timer&&clearTimeout(this.timer),"Tab"!=e.key)return"Space"==e.code?document.activeElement.click():(this.keyCode+=e.key,isNaN(this.keyCode)?this.reset():this.hasJustOneCoincidence(this.keyCode)?this.selectByKeyCode(this.keyCode):void(this.timer=setTimeout((function(){t.selectByKeyCode(t.keyCode)}),300)))}}},s=n(26),i=Object(s.a)(o,(function render(){var e=this;return(0,e._self._c)("div",{on:{keydown:function keydown(t){return t.preventDefault(),e.answerRatingFor.apply(null,arguments)}}},[e._t("default")],2)}),[],!1,null,null,null);t.default=i.exports},934:function(e,t,n){"use strict";n.r(t);var o=n(49),s=(n(41),n(60),n(48),n(4),n(53),n(814),n(81),n(823),{name:"DndSelectionComponent",props:{ranking:{type:Object,required:!0},suggestion:{type:Object},isFocused:{type:Boolean,default:function _default(){return!1}}},data:function data(){return{timer:null,keyCode:""}},watch:{isFocused:{immediate:!0,handler:function handler(e){var t=[].concat(Object(o.a)(this.$refs.questions||[]),Object(o.a)(this.$refs.items||[])),n=null==t?void 0:t.includes(document.activeElement);e&&!n&&this.focusOnFirstQuestionOrItem()}}},methods:{reset:function reset(){this.keyCode="",this.timer=null},isGlobalShortcut:function isGlobalShortcut(e){return"Tab"==e.key||"Enter"===e.code||"Backspace"===e.code||"ArrowLeft"===e.code||"ArrowRight"===e.code||"ArrowUp"===e.code||"ArrowDown"===e.code},rankWithKeyboard:function rankWithKeyboard(e,t){var n=this;if(this.timer&&clearTimeout(this.timer),!this.isGlobalShortcut(e))if(e.stopPropagation(),this.keyCode+=e.key,isNaN(this.keyCode))this.reset();else{var o=this.ranking.slots[this.keyCode-1];o?(this.ranking.moveQuestionToSlot(t,o),this.onMoveEnd(),this.$nextTick((function(){var e,o=null===(e=n.$refs.items)||void 0===e?void 0:e.find((function(e){return e.title==(null==t?void 0:t.text)}));null==o||o.focus()})),this.timer=setTimeout((function(){n.$nextTick((function(){n.focusOnFirstQuestionOrItem(),n.reset()}))}),300)):this.reset()}},focusOnFirstQuestionOrItem:function focusOnFirstQuestionOrItem(){var e=this;this.$nextTick((function(){var t,n=null===(t=e.$refs.questions)||void 0===t?void 0:t.find((function(t){var n;return t.title==(null===(n=e.ranking.questions[0])||void 0===n?void 0:n.text)}));if(n)n.focus();else{var o=e.$refs.items[0];null==o||o.focus()}}))},onMoveEnd:function onMoveEnd(){this.$emit("on-reorder",this.ranking)},onFocus:function onFocus(){this.$emit("on-focus")},isSuggested:function isSuggested(e){var t;return null===(t=this.suggestion)||void 0===t?void 0:t.isSuggested(e)},getSuggestedAgent:function getSuggestedAgent(e){var t;return null===(t=this.suggestion)||void 0===t||null===(t=t.getSuggestion(e))||void 0===t?void 0:t.agent},getSuggestedScore:function getSuggestedScore(e){var t;return null===(t=this.suggestion)||void 0===t||null===(t=t.getSuggestion(e))||void 0===t||null===(t=t.score)||void 0===t?void 0:t.fixed},getSuggestedRank:function getSuggestedRank(e){var t;return null===(t=this.suggestion)||void 0===t||null===(t=t.getSuggestion(e))||void 0===t?void 0:t.value.rank}}}),i=(n(918),n(26)),u=Object(i.a)(s,(function render(){var e=this,t=e._self._c;return t("div",{staticClass:"draggable"},[t("draggable",{staticClass:"draggable__questions-container",attrs:{list:e.ranking.questions,group:{name:"question"},sort:!1,role:"listbox","aria-orientation":"vertical"}},e._l(e.ranking.questions,(function(n){return t("div",{key:n.value,ref:"questions",refInFor:!0,attrs:{id:n.value,title:n.text,tabindex:"0"},on:{keydown:function keydown(t){return e.rankWithKeyboard(t,n)},focus:e.onFocus}},[t("BaseTooltip",{staticClass:"draggable__rank-card--unranked",attrs:{title:e.isSuggested(n)?e.$t("suggestion.name"):null,text:e.getSuggestedAgent(n),minimalist:""}},[t("svgicon",{attrs:{width:"6",name:"draggable",id:"".concat(n.value,"-icon"),"aria-label":"Dragging Icon"}}),e._v(" "),t("span",{staticClass:"draggable__rank-card__title",attrs:{id:"".concat(n.value,"-span")},domProps:{textContent:e._s(n.text)}}),e._v(" "),e.isSuggested(n)?t("span",{staticClass:"draggable__suggestion"},[t("span",{domProps:{textContent:e._s(e.getSuggestedRank(n))}}),e._v(" "),t("svgicon",{attrs:{name:"suggestion",width:"10",height:"10"}}),e._v(" "),e.getSuggestedScore(n)?t("span",{staticClass:"draggable__suggestion__score",domProps:{textContent:e._s(e.getSuggestedScore(n))}}):e._e()],1):e._e()],1)],1)})),0),e._v(" "),t("div",{staticClass:"draggable__slots-container"},e._l(e.ranking.slots,(function(n){var o=n.index,s=n.rank,i=n.items;return t("div",{key:o,staticClass:"draggable__slot",class:{"--active-slot":i.length}},[t("span",{staticClass:"draggable__slot-box--ranking",domProps:{textContent:e._s(s)}}),e._v(" "),t("draggable",{staticClass:"draggable__slot-box",attrs:{list:i,group:"question",sort:!1},on:{add:e.onMoveEnd,remove:e.onMoveEnd}},e._l(i,(function(n){return t("div",{key:n.value,ref:"items",refInFor:!0,attrs:{id:n.value,title:n.text,tabindex:"0"},on:{keydown:function keydown(t){return e.rankWithKeyboard(t,n)},focus:e.onFocus}},[t("BaseTooltip",{staticClass:"draggable__rank-card--ranked",attrs:{title:e.isSuggested(n)?e.$t("suggestion.name"):null,text:e.getSuggestedAgent(n),minimalist:""}},[t("svgicon",{attrs:{width:"6",name:"draggable",id:"".concat(n.value,"-icon")}}),e._v(" "),t("span",{staticClass:"draggable__rank-card__title",attrs:{id:"".concat(n.value,"-span")},domProps:{textContent:e._s(n.text)}}),e._v(" "),e.isSuggested(n)?t("span",{staticClass:"draggable__suggestion"},[t("span",{domProps:{textContent:e._s(e.getSuggestedRank(n))}}),e._v(" "),t("svgicon",{attrs:{name:"suggestion",width:"10",height:"10"}}),e._v(" "),e.getSuggestedScore(n)?t("span",{staticClass:"draggable__suggestion__score",domProps:{textContent:e._s(e.getSuggestedScore(n))}}):e._e()],1):e._e()],1)],1)})),0)],1)})),0)],1)}),[],!1,null,"10a80f2a",null);t.default=u.exports;installComponents(u,{BaseTooltip:n(789).default})},935:function(e,t,n){"use strict";n.r(t);n(41),n(34),n(60),n(48),n(39),n(118),n(4),n(53),n(119),n(32),n(81),n(783),n(969);var o={name:"EntityLabelSelectionComponent",props:{maxOptionsToShowBeforeCollapse:{type:Number},options:{type:Array,required:!0},componentId:{type:String,required:!0},isFocused:{type:Boolean,default:function _default(){return!1}},enableSpanQuestionShortcutsGlobal:{type:Boolean,default:function _default(){return!1}},visibleShortcuts:{type:Boolean,default:!0}},model:{prop:"options",event:"on-change"},data:function data(){return{isOutside:!1,searchInput:"",isExpanded:!1,timer:null,keyCode:""}},created:function created(){this.searchRef="".concat(this.componentId,"SearchFilterRef")},watch:{isFocused:{immediate:!0,handler:function handler(e){var t=this;this.isOutside=!e,e&&this.$nextTick((function(){var e,n,o=null===(e=t.$refs)||void 0===e?void 0:e.options;o.some((function(e){return e.$refs.inputRef.contains(document.activeElement)}))||(o.length>0?o[0].$refs.inputRef.focus({preventScroll:!0}):null===(n=t.$refs.searchComponentRef)||void 0===n||n.searchInputRef.focus())}))}},isOutside:function isOutside(){this.enableSpanQuestionShortcutsGlobal&&(this.isOutside?document.addEventListener("keydown",this.keyboardHandler):document.removeEventListener("keydown",this.keyboardHandler))}},computed:{keyboards:function keyboards(){return this.options.reduce((function(e,t,n){return e[t.id]=n+1,e}),{})},filteredOptions:function filteredOptions(){var e=this;return this.options.filter((function(t){return String(t.text).toLowerCase().includes(e.searchInput.toLowerCase())}))},remainingVisibleOptions:function remainingVisibleOptions(){return this.filteredOptions.slice(this.maxVisibleOptions).filter((function(e){return e.isSelected}))},visibleOptions:function visibleOptions(){return this.isExpanded?this.filteredOptions:this.filteredOptions.slice(0,this.maxVisibleOptions).concat(this.remainingVisibleOptions)},maxVisibleOptions:function maxVisibleOptions(){var e;return null!==(e=this.maxOptionsToShowBeforeCollapse)&&void 0!==e?e:this.options.length+1},numberToShowInTheCollapseButton:function numberToShowInTheCollapseButton(){return this.filteredOptions.length-this.visibleOptions.length},showCollapseButton:function showCollapseButton(){return this.filteredOptions.length>this.maxVisibleOptions},showSearch:function showSearch(){return this.options.length>=15||this.showCollapseButton},textToShowInTheCollapseButton:function textToShowInTheCollapseButton(){return this.isExpanded?this.$t("less"):"+".concat(this.numberToShowInTheCollapseButton)},iconToShowInTheCollapseButton:function iconToShowInTheCollapseButton(){return this.isExpanded?"chevron-up":"chevron-down"}},methods:{clickOutside:function clickOutside(){this.isOutside=!0},keyboardHandler:function keyboardHandler(e){var t,n=this;if((this.timer&&clearTimeout(this.timer),!("Tab"===e.key||"Enter"===e.key||"Backspace"===e.key||"ArrowLeft"===e.key||"ArrowRight"===e.key||"ArrowUp"===e.key||"ArrowDown"===e.key||e.shiftKey||e.ctrlKey||e.metaKey))&&!(document.activeElement===(null===(t=this.$refs.searchComponentRef)||void 0===t?void 0:t.searchInputRef))){var o;if(this.keyCode+=e.key,isNaN(this.keyCode))return null===(o=this.$refs.searchComponentRef)||void 0===o||o.focusInSearch(),this.reset();if(this.hasJustOneCoincidence(this.keyCode))return this.selectByKeyCode(e,this.keyCode);this.timer=setTimeout((function(){n.selectByKeyCode(e,n.keyCode)}),300)}},hasJustOneCoincidence:function hasJustOneCoincidence(e){return 1==this.$refs.options.filter((function(t){return t.$refs.inputRef.dataset.keyboard.startsWith(e)})).length},reset:function reset(){this.keyCode="",this.timer=null},selectByKeyCode:function selectByKeyCode(e,t){var n,o=null===(n=this.$refs.options.find((function(e){return e.$refs.inputRef.dataset.keyboard===t})))||void 0===n?void 0:n.$refs.inputRef;o&&(e.preventDefault(),e.stopPropagation(),o.click()),this.reset()},onSelect:function onSelect(e){var t=e.id,n=e.isSelected;this.options.forEach((function(e){e.isSelected=e.id===t&&n})),n&&this.$emit("on-selected")},toggleShowLess:function toggleShowLess(){this.isExpanded=!this.isExpanded},onFocus:function onFocus(){this.$emit("on-focus")},expandLabelsOnTab:function expandLabelsOnTab(e){this.showCollapseButton&&e===this.maxVisibleOptions-1&&(this.isExpanded=!0)}}},s=(n(919),n(26)),i=Object(s.a)(o,(function render(){var e=this,t=e._self._c;return t("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:e.clickOutside,expression:"clickOutside"}],staticClass:"container",on:{keydown:e.keyboardHandler}},[e.showSearch||e.showCollapseButton?t("div",{staticClass:"component-header"},[t("div",{staticClass:"left-header"},[e.showSearch?t("SearchLabelComponent",{ref:"searchComponentRef",attrs:{searchRef:e.searchRef,placeholder:e.$t("spanAnnotation.searchLabels")},model:{value:e.searchInput,callback:function callback(t){e.searchInput=t},expression:"searchInput"}}):e._e()],1),e._v(" "),t("div",{staticClass:"right-header"},[e.showCollapseButton?t("button",{ref:"showLessButtonRef",staticClass:"show-less-button cursor-pointer",attrs:{type:"button"},on:{click:e.toggleShowLess}},[t("span",{class:e.isExpanded?"--less":"--more",domProps:{textContent:e._s(e.textToShowInTheCollapseButton)}}),e._v(" "),t("svgicon",{attrs:{width:"18",height:"18",name:e.iconToShowInTheCollapseButton,"aria-hidden":"true"}})],1):e._e()])]):e._e(),e._v(" "),e.filteredOptions.length?t("transition-group",{key:e.searchInput,ref:"inputsAreaRef",staticClass:"inputs-area",attrs:{css:e.options.length<50,name:"shuffle",role:"group","aria-multiselectable":"multiple","aria-label":"Label-Options"}},e._l(e.visibleOptions,(function(n,o){return t("EntityLabelBadge",{key:n.id,ref:"options",refInFor:!0,attrs:{"visible-shortcuts":e.visibleShortcuts,option:n,keyboards:e.keyboards},on:{keydown:function keydown(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;t.preventDefault()},"on-selected":function onSelected(t){return e.onSelect(n)},"on-expand-labels-on-tab":function onExpandLabelsOnTab(t){return e.expandLabelsOnTab(o)},"on-focus":e.onFocus},model:{value:n.isSelected,callback:function callback(t){e.$set(n,"isSelected",t)},expression:"option.isSelected"}})})),1):e._e(),e._v(" "),e.filteredOptions.length?e._e():t("i",{staticClass:"no-result"})],1)}),[],!1,null,"8534612a",null);t.default=i.exports;installComponents(i,{SearchLabelComponent:n(803).default,EntityLabelBadge:n(898).default})},949:function(e,t,n){"use strict";n(855)},950:function(e,t,n){"use strict";n(856)},951:function(e,t,n){"use strict";n(857)},952:function(e,t,n){"use strict";n(858)},953:function(e,t,n){"use strict";n(859)},979:function(e,t,n){"use strict";n.r(t);n(11),n(34),n(261),n(44),n(23),n(118),n(4),n(20),n(32);var o={name:"QuestionsComponent",props:{questions:{type:Array,required:!0},legend:{type:String},autofocusPosition:{type:Number},isBulkMode:{type:Boolean,default:!1},visibleShortcuts:{type:Boolean,default:!0}},computed:{questionsWithLoopMovement:function questionsWithLoopMovement(){var e=this;return["singleLabel","multiLabel","rating","ranking","span"].filter((function(t){return e.$refs[t]})).map((function(t){return e.$refs[t][0].$el}))}},mounted:function mounted(){var e=this;this.questionsWithLoopMovement.forEach((function(t){t.addEventListener("keydown",e.handleKeyboardToMoveLoop(t))}))},beforeDestroy:function beforeDestroy(){var e=this;this.questionsWithLoopMovement.forEach((function(t){t.removeEventListener("keydown",e.handleKeyboardToMoveLoop(t))}))},methods:{handleKeyboardToMoveLoop:function handleKeyboardToMoveLoop(e){var t=this;return function(n){if("Tab"===n.key){var o=n.shiftKey,s=e.querySelectorAll('input[type="checkbox"], [tabindex="0"]'),i=s[0],u=s[s.length-1],r=document.activeElement===u,a=document.activeElement===i;if(!o&&r)t.focusOn(n,i);else if(o&&a)t.focusOn(n,u);else{var l=Array.from(s).findIndex((function(e){return e===document.activeElement})),c=o?s[l-1]:s[l+1];t.focusOn(n,c)}}}},focusOnFirstQuestion:function focusOnFirstQuestion(e){e.preventDefault(),this.updateQuestionAutofocus(0)},focusOnLastQuestion:function focusOnLastQuestion(e){e.preventDefault(),this.updateQuestionAutofocus(this.questions.length)},focusOn:function focusOn(e,t){e.preventDefault(),t.focus()},focusNext:function focusNext(e){this.updateQuestionAutofocus(e+1)},updateQuestionAutofocus:function updateQuestionAutofocus(e){this.$emit("on-focus",e)},checkIfQuestionIsFocused:function checkIfQuestionIsFocused(e){return this.autofocusPosition===e}},setup:function setup(e){return function useQuestionsViewModel(e){return{enableSpanQuestionShortcutsGlobal:1===e.questions.filter((function(e){return e.isSpanType})).length}}(e)}},s=(n(1008),n(26)),i=Object(s.a)(o,(function render(){var e=this,t=e._self._c;return t("div",[e.legend?t("p",{staticClass:"questions__title --body3 --light",attrs:{"aria-label":e.legend},domProps:{textContent:e._s(e.legend)}}):e._e(),e._v(" "),t("div",{staticClass:"questions",attrs:{role:"list","aria-label":"List of annotation questions"}},e._l(e.questions,(function(n,o){return t("div",{key:n.id,attrs:{"aria-label":"Question: "+n.name},on:{keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"arrow-up",void 0,t.key,void 0)?null:(t.preventDefault(),e.updateQuestionAutofocus(e.autofocusPosition-1))},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"arrow-down",void 0,t.key,void 0)?null:(t.preventDefault(),e.updateQuestionAutofocus(e.autofocusPosition+1))}]}},[n.isTextType?t("TextAreaComponent",{attrs:{question:n,isFocused:e.checkIfQuestionIsFocused(o)},on:{"on-focus":function onFocus(t){return e.updateQuestionAutofocus(o)}}}):e._e(),e._v(" "),n.isSingleLabelType?t("SingleLabelComponent",{ref:"singleLabel",refInFor:!0,attrs:{"visible-shortcuts":e.visibleShortcuts,question:n,isFocused:e.checkIfQuestionIsFocused(o)},on:{"on-focus":function onFocus(t){return e.updateQuestionAutofocus(o)},"on-user-answer":function onUserAnswer(t){return e.focusNext(o)}}}):e._e(),e._v(" "),n.isMultiLabelType?t("MultiLabelComponent",{ref:"multiLabel",refInFor:!0,attrs:{"visible-shortcuts":e.visibleShortcuts,question:n,isFocused:e.checkIfQuestionIsFocused(o)},on:{"on-focus":function onFocus(t){return e.updateQuestionAutofocus(o)}}}):e._e(),e._v(" "),n.isRatingType?t("RatingComponent",{ref:"rating",refInFor:!0,attrs:{question:n,isFocused:e.checkIfQuestionIsFocused(o)},on:{"on-focus":function onFocus(t){return e.updateQuestionAutofocus(o)},"on-user-answer":function onUserAnswer(t){return e.focusNext(o)}}}):e._e(),e._v(" "),n.isRankingType?t("RankingComponent",{ref:"ranking",refInFor:!0,attrs:{question:n,isFocused:e.checkIfQuestionIsFocused(o)},on:{"on-focus":function onFocus(t){return e.updateQuestionAutofocus(o)}}}):e._e(),e._v(" "),n.isSpanType?t("SpanComponent",{ref:"span",refInFor:!0,attrs:{"visible-shortcuts":e.visibleShortcuts,question:n,isFocused:e.checkIfQuestionIsFocused(o),enableSpanQuestionShortcutsGlobal:e.enableSpanQuestionShortcutsGlobal},on:{"on-focus":function onFocus(t){return e.updateQuestionAutofocus(o)}}}):e._e()],1)})),0)])}),[],!1,null,"8fe23c0e",null);t.default=i.exports;installComponents(i,{TextAreaComponent:n(1015).default,SingleLabelComponent:n(989).default,MultiLabelComponent:n(990).default,RatingComponent:n(991).default,RankingComponent:n(980).default,SpanComponent:n(992).default})},980:function(e,t,n){"use strict";n.r(t);n(4),n(32),n(16),n(34),n(60),n(261),n(23),n(145);var o=n(216),s=function adaptQuestionsToSlots(e){var t=e.options,n=t.map((function(e,n){var o=n+1,s=t.filter((function(e){return e.rank==o}));return{rank:o,items:s}})),s=t.filter((function(e){return Object(o.isNil)(e.rank)}));return{slots:n,questions:s,getRanking:function getRanking(e){var t;return null===(t=n.find((function(t){return t.items.some((function(t){return t.value===e.value}))})))||void 0===t?void 0:t.rank},moveQuestionToSlot:function moveQuestionToSlot(e,t){s.some((function(t){return t.value===e.value}))?function moveQuestionFromQuestionsToSlots(e,t){if(!t.items.some((function(t){return t.value===e.value}))){t.items.push(e);var n=s.findIndex((function(t){return t.value===e.value}));s.splice(n,1)}}(e,t):function moveQuestionsBetweenSlots(e,t){var o=n.find((function(t){return t.items.some((function(t){return t.value===e.value}))})),s=o.items.findIndex((function(t){return t.value===e.value}));o.items.splice(s,1),t.items.push(e)}(e,t)}}},i={name:"RankingComponent",props:{question:{type:Object,required:!0},isFocused:{type:Boolean,default:function _default(){return!1}}},computed:{options:function options(){return this.question.answer.values},ranking:function ranking(){return s({options:this.options})}},methods:{onChanged:function onChanged(e){this.options.forEach((function(t){t.rank=e.getRanking(t)}))},onFocus:function onFocus(){this.$emit("on-focus")}}},u=(n(952),n(26)),r=Object(u.a)(i,(function render(){var e=this,t=e._self._c;return t("div",{staticClass:"wrapper"},[t("QuestionHeaderComponent",{attrs:{question:e.question}}),e._v(" "),t("DndSelectionComponent",{attrs:{ranking:e.ranking,suggestion:e.question.suggestion,isFocused:e.isFocused},on:{"on-reorder":e.onChanged,"on-focus":e.onFocus}})],1)}),[],!1,null,"28f89d04",null);t.default=r.exports;installComponents(r,{QuestionHeaderComponent:n(785).default,DndSelectionComponent:n(934).default})},989:function(e,t,n){"use strict";n.r(t);n(4),n(16);var o={name:"SingleLabelComponent",props:{question:{type:Object,required:!0},isFocused:{type:Boolean,default:function _default(){return!1}},visibleShortcuts:{type:Boolean,default:!0}},methods:{onFocus:function onFocus(){this.$emit("on-focus")},onSelected:function onSelected(){this.$emit("on-user-answer")}}},s=(n(949),n(26)),i=Object(s.a)(o,(function render(){var e=this,t=e._self._c;return t("div",{staticClass:"wrapper"},[t("QuestionHeaderComponent",{attrs:{question:e.question}}),e._v(" "),t("LabelSelectionComponent",{attrs:{"visible-shortcuts":e.visibleShortcuts,componentId:e.question.id,suggestion:e.question.suggestion,maxOptionsToShowBeforeCollapse:e.question.settings.visible_options,multiple:!1,isFocused:e.isFocused},on:{"on-focus":e.onFocus,"on-selected":e.onSelected},model:{value:e.question.answer.values,callback:function callback(t){e.$set(e.question.answer,"values",t)},expression:"question.answer.values"}})],1)}),[],!1,null,"1cb272b0",null);t.default=i.exports;installComponents(i,{QuestionHeaderComponent:n(785).default,LabelSelectionComponent:n(925).default})},990:function(e,t,n){"use strict";n.r(t);n(4),n(16);var o={name:"MultiLabelComponent",props:{question:{type:Object,required:!0},isFocused:{type:Boolean,default:function _default(){return!1}},visibleShortcuts:{type:Boolean,default:!0}},methods:{onFocus:function onFocus(){this.$emit("on-focus")}}},s=(n(950),n(26)),i=Object(s.a)(o,(function render(){var e=this,t=e._self._c;return t("div",{staticClass:"wrapper"},[t("QuestionHeaderComponent",{attrs:{question:e.question}}),e._v(" "),t("LabelSelectionComponent",{attrs:{"visible-shortcuts":e.visibleShortcuts,componentId:e.question.id,suggestion:e.question.suggestion,maxOptionsToShowBeforeCollapse:e.question.settings.visible_options,suggestionFirst:e.question.settings.suggestionFirst,multiple:!0,isFocused:e.isFocused},on:{"on-focus":e.onFocus},model:{value:e.question.answer.values,callback:function callback(t){e.$set(e.question.answer,"values",t)},expression:"question.answer.values"}})],1)}),[],!1,null,"366dfbc0",null);t.default=i.exports;installComponents(i,{QuestionHeaderComponent:n(785).default,LabelSelectionComponent:n(925).default})},991:function(e,t,n){"use strict";n.r(t);n(4),n(16);var o={name:"RatingComponent",props:{question:{type:Object,required:!0},isFocused:{type:Boolean,default:function _default(){return!1}}},methods:{onFocus:function onFocus(){this.$emit("on-focus")},onSelected:function onSelected(){this.$emit("on-user-answer")}}},s=(n(951),n(26)),i=Object(s.a)(o,(function render(){var e=this,t=e._self._c;return t("RatingShortcuts",[t("div",{staticClass:"wrapper"},[t("QuestionHeaderComponent",{attrs:{question:e.question}}),e._v(" "),t("RatingMonoSelectionComponent",{ref:"ratingMonoSelectionRef",attrs:{suggestion:e.question.suggestion,isFocused:e.isFocused},on:{"on-focus":e.onFocus,"on-selected":e.onSelected},model:{value:e.question.answer.values,callback:function callback(t){e.$set(e.question.answer,"values",t)},expression:"question.answer.values"}})],1)])}),[],!1,null,"f226f736",null);t.default=i.exports;installComponents(i,{QuestionHeaderComponent:n(785).default,RatingMonoSelectionComponent:n(932).default,RatingShortcuts:n(933).default})},992:function(e,t,n){"use strict";n.r(t);n(839);var o={name:"SpanComponent",props:{question:{type:Object,required:!0},isFocused:{type:Boolean,default:function _default(){return!1}},showShortcutsHelper:{type:Boolean,default:function _default(){return!1}},enableSpanQuestionShortcutsGlobal:{type:Boolean,default:function _default(){return!1}},isBulkMode:{type:Boolean,default:function _default(){return!1}},visibleShortcuts:{type:Boolean,default:!0}},computed:{supportedSpanAnnotation:function supportedSpanAnnotation(){return!!CSS.highlights},warningMessage:function warningMessage(){if(!this.supportedSpanAnnotation)return this.$t("spanAnnotation.notSupported")}},methods:{onFocus:function onFocus(){this.$emit("on-focus")}}},s=(n(953),n(26)),i=Object(s.a)(o,(function render(){var e=this,t=e._self._c;return t("div",{staticClass:"wrapper"},[t("QuestionHeaderComponent",{attrs:{question:e.question}}),e._v(" "),e.warningMessage?t("div",{staticClass:"question__warning",attrs:{role:"status","aria-live":"polite"}},[t("svgicon",{attrs:{name:"danger",width:"16",height:"16","aria-hidden":"true"}}),e._v(" "),t("span",{domProps:{textContent:e._s(e.warningMessage)}})],1):e._e(),e._v(" "),e.supportedSpanAnnotation?t("EntityLabelSelectionComponent",{attrs:{"visible-shortcuts":e.visibleShortcuts,componentId:e.question.id,maxOptionsToShowBeforeCollapse:this.question.settings.visible_options,isFocused:e.isFocused,showShortcutsHelper:e.showShortcutsHelper,enableSpanQuestionShortcutsGlobal:e.enableSpanQuestionShortcutsGlobal},on:{"on-focus":e.onFocus},model:{value:e.question.answer.options,callback:function callback(t){e.$set(e.question.answer,"options",t)},expression:"question.answer.options"}}):e._e()],1)}),[],!1,null,"b193eb44",null);t.default=i.exports;installComponents(i,{QuestionHeaderComponent:n(785).default,EntityLabelSelectionComponent:n(935).default})}}]);