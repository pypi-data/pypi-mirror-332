(window.webpackJsonp=window.webpackJsonp||[]).push([[156,34],{1032:function(e,t,i){"use strict";i(900)},1072:function(e,t,i){"use strict";i.r(t);i(93);var n=i(31),r=i(49);i(25),i(41),i(34),i(60),i(11),i(66),i(67),i(46),i(4),i(32);function ownKeys(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(i),!0).forEach((function(t){Object(n.a)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):ownKeys(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var o={name:"SearchBarFilter",props:{value:{type:Object,required:!0},fields:{type:Array,default:function _default(){return[]}}},data:function data(){return{searchValue:"",isExpanded:!1,dropdownIsVisible:!1}},computed:{isSearchActive:function isSearchActive(){return this.searchValue.length>0||this.value.isCompleted},showDelete:function showDelete(){return this.isSearchActive},selectedField:function selectedField(){var e=this;return this.fieldList.find((function(t){return t.name===e.value.value.field}))},fieldList:function fieldList(){return[{id:"all",name:"all",title:this.$t("all")}].concat(Object(r.a)(this.fields))},filteredFields:function filteredFields(){var e=this;return this.fieldList.filter((function(t){return t.name!==e.value.value.field}))}},watch:{value:{immediate:!0,deep:!0,handler:function handler(e){this.searchValue=e.value.text}}},methods:{openOrApply:function openOrApply(){this.isExpanded&&this.isSearchActive?this.applySearch():(this.isExpanded=!this.isExpanded,this.isExpanded?this.$refs.searchRef.focus():this.$refs.searchRef.blur())},applySearch:function applySearch(){this.isSearchActive&&(this.value.value=_objectSpread(_objectSpread({},this.value.value),{},{text:this.searchValue,field:this.value.value.field}),this.$refs.searchRef.blur())},resetValue:function resetValue(){this.collapseSearch(),this.value.reset()},collapseSearch:function collapseSearch(){this.isExpanded=!1},onVisibility:function onVisibility(e){this.dropdownIsVisible=e},selectField:function selectField(e){this.value.value.field=e.name,this.dropdownIsVisible=!1,this.applySearch()}}},s=(i(1032),i(26)),a=Object(s.a)(o,(function render(){var e=this,t=e._self._c;return t("div",{staticClass:"search-area",class:{active:e.isSearchActive,expanded:e.isExpanded}},[t("BaseButton",{staticClass:"search-area__icon --search",attrs:{"data-title":e.$t("search")},on:{"on-click":e.openOrApply}},[t("svgicon",{attrs:{name:"search",width:"16",height:"16","aria-hidden":"true"}})],1),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.searchValue,expression:"searchValue",modifiers:{trim:!0}}],ref:"searchRef",staticClass:"search-area__input",attrs:{type:"text",role:"search",placeholder:e.$t("searchPlaceholder"),"aria-description":e.$t("searchPlaceholder"),autocomplete:"off"},domProps:{value:e.searchValue},on:{keydown:function keydown(e){e.stopPropagation()},keypress:function keypress(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.stopPropagation(),e.applySearch.apply(null,arguments))},input:function input(t){t.target.composing||(e.searchValue=t.target.value.trim())},blur:function blur(t){return e.$forceUpdate()}}}),e._v(" "),e.showDelete?t("BaseButton",{staticClass:"search-area__icon --close",on:{"on-click":e.resetValue}},[t("svgicon",{attrs:{name:"close",width:"12",height:"12","aria-hidden":"true"}})],1):e._e(),e._v(" "),e.fields.length>1?t("BaseDropdown",{staticClass:"search-area__fields",attrs:{visible:e.dropdownIsVisible},on:{visibility:e.onVisibility}},[t("template",{slot:"dropdown-header"},[t("span",{staticClass:"search-area__fields__header"},[t("span",{staticClass:"search-area__fields__header__text"},[e._v(e._s(e.selectedField.title))]),e._v(" "),t("svgicon",{attrs:{name:"chevron-down",height:"8","aria-hidden":"true"}})],1)]),e._v(" "),t("template",{slot:"dropdown-content"},[t("ul",{staticClass:"search-area__fields__content"},e._l(e.filteredFields,(function(i){return t("li",{key:i.id},[t("BaseButton",{on:{"on-click":function onClick(t){return e.selectField(i)}}},[e._v(e._s(i.title))])],1)})),0)])],2):e._e()],1)}),[],!1,null,"936394e0",null);t.default=a.exports;installComponents(a,{BaseButton:i(259).default,BaseDropdown:i(780).default})},780:function(e,t,i){"use strict";i.r(t);i(48),i(118),i(4);var n=i(260),r={directives:{clickOutside:i.n(n).a.directive},props:{visible:{type:Boolean,default:!1},boundary:{type:String,default:"parent",validator:function validator(e){return["parent","viewport"].includes(e)}},freezingPage:{type:Boolean,default:!1},gap:{type:Number,default:8}},data:function data(){return{dropdownTop:0,dropdownLeft:0,inViewport:!0,frozenScrollParent:null}},computed:{isViewportBoundary:function isViewportBoundary(){return"viewport"===this.boundary}},watch:{visible:function visible(){var e=this;this.$nextTick((function(){e.setViewportPosition()}))},freezingPage:function freezingPage(e){e?(this.frozenScrollParent=this.getScrollableParent(this.$refs.dropdown),this.frozenScrollParent.style.overflow="hidden"):this.frozenScrollParent.style.overflow="auto"}},methods:{onClose:function onClose(){this.$emit("visibility",!1)},onToggle:function onToggle(){this.$emit("visibility",!this.visible)},onClick:function onClick(){this.onToggle()},setViewportPosition:function setViewportPosition(){if(this.isViewportBoundary&&this.visible&&(this.inViewport=this.isInViewport(this.$refs.dropdown),this.inViewport)){var e=this.$refs.dropdown.getBoundingClientRect(),t=e.top,i=e.left,n=e.height;this.dropdownTop=t+n+this.gap,this.dropdownLeft=i}},getScrollableParent:function getScrollableParent(e){if(e){for(var t=e.parentElement;t;){if(window.getComputedStyle(t).overflow.split(" ").every((function(e){return"auto"===e||"scroll"===e})))return t;t=t.parentElement}return document.documentElement}},isInViewport:function isInViewport(e){var t=e.getBoundingClientRect(),i=e.offsetHeight,n=document.documentElement;return t.top>=i&&t.left>=0&&t.bottom<=(window.innerHeight||n.clientHeight)&&t.right<=(window.innerWidth||n.clientWidth)}},mounted:function mounted(){this.isViewportBoundary&&(window.addEventListener("resize",this.setViewportPosition),this.getScrollableParent(this.$refs.dropdown).addEventListener("scroll",this.setViewportPosition),this.setViewportPosition())},beforeDestroy:function beforeDestroy(){this.isViewportBoundary&&(window.removeEventListener("resize",this.setViewportPosition),this.getScrollableParent(this.$refs.dropdown).removeEventListener("scroll",this.setViewportPosition))}},o=(i(782),i(26)),s=Object(o.a)(r,(function render(){var e=this,t=e._self._c;return t("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:{events:["mousedown"],handler:e.onClose},expression:"{\n    events: ['mousedown'],\n    handler: onClose,\n  }"}],ref:"dropdown",staticClass:"dropdown",attrs:{role:"button","aria-haspopup":"menu"}},[t("div",{staticClass:"dropdown__header",on:{click:e.onClick}},[e._t("dropdown-header")],2),e._v(" "),t("transition",{attrs:{appear:"",name:"fade"}},[e.visible&&e.inViewport?t("div",{staticClass:"dropdown__content",style:e.isViewportBoundary&&{top:"".concat(e.dropdownTop,"px"),left:"".concat(e.dropdownLeft,"px"),position:"fixed"}},[e._t("dropdown-content")],2):e._e()]),e._v(" "),e.visible&&e.freezingPage?t("div",{staticClass:"dropdown--frozen-page",on:{click:e.onClose}}):e._e()],1)}),[],!1,null,"01548482",null);t.default=s.exports},781:function(e,t,i){e.exports={}},782:function(e,t,i){"use strict";i(781)},900:function(e,t,i){e.exports={}}}]);