(window.webpackJsonp=window.webpackJsonp||[]).push([[142,38,56,97,100,113,137,138,148,182,190],{785:function(t,e,o){"use strict";o.r(e);o(25),o(35),o(81),o(822),o(824);var i={name:"QuestionHeader",props:{question:{type:Object,required:!0}},data:function data(){return{tooltipMessage:this.question.description,openTooltip:!1,timer:null}},computed:{showIcon:function showIcon(){var t;return!(null===(t=this.question.description)||void 0===t||!t.length)}},watch:{"question.description":function questionDescription(){var t=this;this.timer&&clearTimeout(this.timer),this.openTooltip=!0,this.tooltipMessage=this.question.description,this.timer=setTimeout((function(){t.openTooltip=!1}),2e3)}}},n=(o(836),o(26)),s=Object(n.a)(i,(function render(){var t=this,e=t._self._c;return e("div",{staticClass:"title-area --body1",attrs:{"aria-label":t.question.title}},[e("span",{directives:[{name:"required-field",rawName:"v-required-field",value:{show:t.question.isRequired,color:"#cf3832"},expression:"{ show: question.isRequired, color: '#cf3832' }"}],staticClass:"suggestion-info",domProps:{textContent:t._s(t.question.title)}}),t._v(" "),t.showIcon?e("BaseIconWithBadge",{directives:[{name:"tooltip",rawName:"v-tooltip",value:{content:t.tooltipMessage,open:t.openTooltip},expression:"{\n      content: tooltipMessage,\n      open: openTooltip,\n    }"}],staticClass:"icon-info",attrs:{icon:"info",id:"".concat(t.question.id,"QuestionHeader"),"show-badge":!1,iconColor:"#acacac","badge-vertical-position":"top","badge-horizontal-position":"right","badge-border-color":"white",role:"tooltip","aria-label":t.tooltipMessage}}):t._e()],1)}),[],!1,null,"753c5d0d",null);e.default=s.exports;installComponents(s,{BaseIconWithBadge:o(787).default})},787:function(t,e,o){"use strict";o.r(e);var i={props:{url:{type:String},icon:{type:String},iconColor:{type:String,default:function _default(){return"white"}},tooltip:{type:String},showBadge:{type:Boolean,default:!1},badgeVerticalPosition:{type:String},badgeHorizontalPosition:{type:String},badgeBorderColor:{type:String},badgeSize:{type:String,default:"22"}},methods:{onClickIcon:function onClickIcon(){this.$emit("click-icon")}}},n=o(26),s=Object(n.a)(i,(function render(){var t=this,e=t._self._c;return e("BaseButton",{staticClass:"icon-with-badge",attrs:{"data-title":t.tooltip,tabIndex:-1},on:{"on-click":t.onClickIcon}},[e("i",{directives:[{name:"badge",rawName:"v-badge",value:{showBadge:t.showBadge,verticalPosition:t.badgeVerticalPosition,horizontalPosition:t.badgeHorizontalPosition,borderColor:t.badgeBorderColor},expression:"{\n      showBadge: showBadge,\n      verticalPosition: badgeVerticalPosition,\n      horizontalPosition: badgeHorizontalPosition,\n      borderColor: badgeBorderColor,\n    }"}],key:t.showBadge,staticClass:"icon-wrapper"},[e("svgicon",{attrs:{name:t.icon,width:t.badgeSize,height:t.badgeSize,color:t.iconColor,"aria-label":t.icon+" icon"}})],1)])}),[],!1,null,null,null);e.default=s.exports;installComponents(s,{BaseButton:o(259).default})},789:function(t,e,o){"use strict";o.r(e);o(118);var i={data:function data(){return{showTooltip:!1,tooltipPosition:{top:0,left:0}}},props:{title:{type:String},text:{type:String},position:{type:String,default:"top"},offset:{type:Number,default:4},minimalist:{type:Boolean,default:!0}},methods:{show:function show(){this.showTooltip=!0,this.calculateTooltipPosition()},hide:function hide(){this.showTooltip=!1},calculateTooltipPosition:function calculateTooltipPosition(){var t=this.$refs.tooltipWrapper,e=this.$refs.tooltipText,o=t.getBoundingClientRect(),i=e.getBoundingClientRect();switch(this.position){case"top":this.tooltipPosition={top:o.top-i.height-this.offset,left:o.left+o.width/2-i.width/2};break;case"bottom":this.tooltipPosition={top:o.top+o.height,left:o.left+o.width/2-i.width/2};break;case"left":this.tooltipPosition={top:o.top+o.height/2-i.height/2,left:o.left-i.width-this.offset};break;case"right":this.tooltipPosition={top:o.top+o.height/2-i.height/2,left:o.right+this.offset}}}},computed:{positionClass:function positionClass(){return"position-".concat(this.position)}}},n=(o(820),o(26)),s=Object(n.a)(i,(function render(){var t=this,e=t._self._c;return t.title||t.text?e("div",{ref:"tooltipWrapper",staticClass:"tooltip",on:{mouseenter:t.show,mouseleave:t.hide}},[t._t("default"),t._v(" "),e("div",{ref:"tooltipText",class:["tooltip-content",t.positionClass,t.minimalist?"tooltip-content--minimalist":null,t.showTooltip?"tooltip-content--show":"tooltip-content--hide"],style:{top:t.tooltipPosition.top+"px",left:t.tooltipPosition.left+"px"}},[t.title?e("span",{staticClass:"tooltip__title",domProps:{innerHTML:t._s(t.title)}}):t._e(),t.text?e("span",{staticClass:"tooltip__text",domProps:{innerHTML:t._s(t.text)}}):t._e()])],2):e("div",[t._t("default")],2)}),[],!1,null,"e61af414",null);e.default=s.exports},794:function(t,e,o){t.exports={}},802:function(t,e,o){t.exports={}},809:function(t,e,o){"use strict";var i=o(13),n=o(61),s=o(45),a=/"/g,r=i("".replace);t.exports=function(t,e,o,i){var l=s(n(t)),u="<"+e;return""!==o&&(u+=" "+o+'="'+r(s(i),a,"&quot;")+'"'),u+">"+l+"</"+e+">"}},810:function(t,e,o){"use strict";var i=o(14);t.exports=function(t){return i((function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3}))}},814:function(t,e,o){"use strict";var i=o(5),n=o(809);i({target:"String",proto:!0,forced:o(810)("fixed")},{fixed:function fixed(){return n(this,"tt","","")}})},820:function(t,e,o){"use strict";o(794)},822:function(t,e,o){o(144).register({info:{width:41,height:40,viewBox:"0 0 41 40",data:'<path pid="0" d="M19 18.47a1.5 1.5 0 113 0v9a1.5 1.5 0 01-3 0v-9zM20.5 11.077a1.5 1.5 0 100 3 1.5 1.5 0 000-3z" _fill="#000"/><path pid="1" fill-rule="evenodd" clip-rule="evenodd" d="M20.5 5c-8.284 0-15 6.716-15 15 0 8.284 6.716 15 15 15 8.284 0 15-6.716 15-15 0-8.284-6.716-15-15-15zm-12 15c0 6.627 5.373 12 12 12s12-5.373 12-12-5.373-12-12-12-12 5.373-12 12z" _fill="#000"/>'}})},823:function(t,e,o){o(144).register({draggable:{width:6,height:10,viewBox:"0 0 6 10",data:'<path pid="0" d="M2.55 1.625a1.125 1.125 0 11-2.25 0 1.125 1.125 0 012.25 0zM2.55 5A1.125 1.125 0 11.3 5a1.125 1.125 0 012.25 0zM1.425 9.5a1.125 1.125 0 100-2.25 1.125 1.125 0 000 2.25zM5.925 1.625a1.125 1.125 0 11-2.25 0 1.125 1.125 0 012.25 0zM4.8 6.125a1.125 1.125 0 100-2.25 1.125 1.125 0 000 2.25zM5.925 8.375a1.125 1.125 0 11-2.25 0 1.125 1.125 0 012.25 0z" _fill="#4C4EA3"/>'}})},824:function(t,e,o){o(144).register({suggestion:{width:12,height:12,viewBox:"0 0 12 12",data:'<path pid="0" d="M11.787 6.654l-2.895-1.03-1.081-3.403A.324.324 0 007.5 2c-.143 0-.27.09-.311.221l-1.08 3.404-2.897 1.03A.313.313 0 003 6.946c0 .13.085.248.212.293l2.894 1.03 1.082 3.507A.324.324 0 007.5 12c.144 0 .271-.09.312-.224L8.893 8.27l2.895-1.029A.313.313 0 0012 6.947a.314.314 0 00-.213-.293zM4.448 1.77l-1.05-.39-.39-1.05a.444.444 0 00-.833 0l-.39 1.05-1.05.39a.445.445 0 000 .833l1.05.389.39 1.051a.445.445 0 00.833 0l.39-1.051 1.05-.389a.445.445 0 000-.834z" _fill="#fff"/>'}})},831:function(t,e,o){t.exports={}},836:function(t,e,o){"use strict";o(802)},858:function(t,e,o){t.exports={}},918:function(t,e,o){"use strict";o(831)},934:function(t,e,o){"use strict";o.r(e);var i=o(49),n=(o(41),o(60),o(48),o(4),o(53),o(814),o(81),o(823),{name:"DndSelectionComponent",props:{ranking:{type:Object,required:!0},suggestion:{type:Object},isFocused:{type:Boolean,default:function _default(){return!1}}},data:function data(){return{timer:null,keyCode:""}},watch:{isFocused:{immediate:!0,handler:function handler(t){var e=[].concat(Object(i.a)(this.$refs.questions||[]),Object(i.a)(this.$refs.items||[])),o=null==e?void 0:e.includes(document.activeElement);t&&!o&&this.focusOnFirstQuestionOrItem()}}},methods:{reset:function reset(){this.keyCode="",this.timer=null},isGlobalShortcut:function isGlobalShortcut(t){return"Tab"==t.key||"Enter"===t.code||"Backspace"===t.code||"ArrowLeft"===t.code||"ArrowRight"===t.code||"ArrowUp"===t.code||"ArrowDown"===t.code},rankWithKeyboard:function rankWithKeyboard(t,e){var o=this;if(this.timer&&clearTimeout(this.timer),!this.isGlobalShortcut(t))if(t.stopPropagation(),this.keyCode+=t.key,isNaN(this.keyCode))this.reset();else{var i=this.ranking.slots[this.keyCode-1];i?(this.ranking.moveQuestionToSlot(e,i),this.onMoveEnd(),this.$nextTick((function(){var t,i=null===(t=o.$refs.items)||void 0===t?void 0:t.find((function(t){return t.title==(null==e?void 0:e.text)}));null==i||i.focus()})),this.timer=setTimeout((function(){o.$nextTick((function(){o.focusOnFirstQuestionOrItem(),o.reset()}))}),300)):this.reset()}},focusOnFirstQuestionOrItem:function focusOnFirstQuestionOrItem(){var t=this;this.$nextTick((function(){var e,o=null===(e=t.$refs.questions)||void 0===e?void 0:e.find((function(e){var o;return e.title==(null===(o=t.ranking.questions[0])||void 0===o?void 0:o.text)}));if(o)o.focus();else{var i=t.$refs.items[0];null==i||i.focus()}}))},onMoveEnd:function onMoveEnd(){this.$emit("on-reorder",this.ranking)},onFocus:function onFocus(){this.$emit("on-focus")},isSuggested:function isSuggested(t){var e;return null===(e=this.suggestion)||void 0===e?void 0:e.isSuggested(t)},getSuggestedAgent:function getSuggestedAgent(t){var e;return null===(e=this.suggestion)||void 0===e||null===(e=e.getSuggestion(t))||void 0===e?void 0:e.agent},getSuggestedScore:function getSuggestedScore(t){var e;return null===(e=this.suggestion)||void 0===e||null===(e=e.getSuggestion(t))||void 0===e||null===(e=e.score)||void 0===e?void 0:e.fixed},getSuggestedRank:function getSuggestedRank(t){var e;return null===(e=this.suggestion)||void 0===e||null===(e=e.getSuggestion(t))||void 0===e?void 0:e.value.rank}}}),s=(o(918),o(26)),a=Object(s.a)(n,(function render(){var t=this,e=t._self._c;return e("div",{staticClass:"draggable"},[e("draggable",{staticClass:"draggable__questions-container",attrs:{list:t.ranking.questions,group:{name:"question"},sort:!1,role:"listbox","aria-orientation":"vertical"}},t._l(t.ranking.questions,(function(o){return e("div",{key:o.value,ref:"questions",refInFor:!0,attrs:{id:o.value,title:o.text,tabindex:"0"},on:{keydown:function keydown(e){return t.rankWithKeyboard(e,o)},focus:t.onFocus}},[e("BaseTooltip",{staticClass:"draggable__rank-card--unranked",attrs:{title:t.isSuggested(o)?t.$t("suggestion.name"):null,text:t.getSuggestedAgent(o),minimalist:""}},[e("svgicon",{attrs:{width:"6",name:"draggable",id:"".concat(o.value,"-icon"),"aria-label":"Dragging Icon"}}),t._v(" "),e("span",{staticClass:"draggable__rank-card__title",attrs:{id:"".concat(o.value,"-span")},domProps:{textContent:t._s(o.text)}}),t._v(" "),t.isSuggested(o)?e("span",{staticClass:"draggable__suggestion"},[e("span",{domProps:{textContent:t._s(t.getSuggestedRank(o))}}),t._v(" "),e("svgicon",{attrs:{name:"suggestion",width:"10",height:"10"}}),t._v(" "),t.getSuggestedScore(o)?e("span",{staticClass:"draggable__suggestion__score",domProps:{textContent:t._s(t.getSuggestedScore(o))}}):t._e()],1):t._e()],1)],1)})),0),t._v(" "),e("div",{staticClass:"draggable__slots-container"},t._l(t.ranking.slots,(function(o){var i=o.index,n=o.rank,s=o.items;return e("div",{key:i,staticClass:"draggable__slot",class:{"--active-slot":s.length}},[e("span",{staticClass:"draggable__slot-box--ranking",domProps:{textContent:t._s(n)}}),t._v(" "),e("draggable",{staticClass:"draggable__slot-box",attrs:{list:s,group:"question",sort:!1},on:{add:t.onMoveEnd,remove:t.onMoveEnd}},t._l(s,(function(o){return e("div",{key:o.value,ref:"items",refInFor:!0,attrs:{id:o.value,title:o.text,tabindex:"0"},on:{keydown:function keydown(e){return t.rankWithKeyboard(e,o)},focus:t.onFocus}},[e("BaseTooltip",{staticClass:"draggable__rank-card--ranked",attrs:{title:t.isSuggested(o)?t.$t("suggestion.name"):null,text:t.getSuggestedAgent(o),minimalist:""}},[e("svgicon",{attrs:{width:"6",name:"draggable",id:"".concat(o.value,"-icon")}}),t._v(" "),e("span",{staticClass:"draggable__rank-card__title",attrs:{id:"".concat(o.value,"-span")},domProps:{textContent:t._s(o.text)}}),t._v(" "),t.isSuggested(o)?e("span",{staticClass:"draggable__suggestion"},[e("span",{domProps:{textContent:t._s(t.getSuggestedRank(o))}}),t._v(" "),e("svgicon",{attrs:{name:"suggestion",width:"10",height:"10"}}),t._v(" "),t.getSuggestedScore(o)?e("span",{staticClass:"draggable__suggestion__score",domProps:{textContent:t._s(t.getSuggestedScore(o))}}):t._e()],1):t._e()],1)],1)})),0)],1)})),0)],1)}),[],!1,null,"10a80f2a",null);e.default=a.exports;installComponents(a,{BaseTooltip:o(789).default})},952:function(t,e,o){"use strict";o(858)},980:function(t,e,o){"use strict";o.r(e);o(4),o(32),o(16),o(34),o(60),o(261),o(23),o(145);var i=o(216),n=function adaptQuestionsToSlots(t){var e=t.options,o=e.map((function(t,o){var i=o+1,n=e.filter((function(t){return t.rank==i}));return{rank:i,items:n}})),n=e.filter((function(t){return Object(i.isNil)(t.rank)}));return{slots:o,questions:n,getRanking:function getRanking(t){var e;return null===(e=o.find((function(e){return e.items.some((function(e){return e.value===t.value}))})))||void 0===e?void 0:e.rank},moveQuestionToSlot:function moveQuestionToSlot(t,e){n.some((function(e){return e.value===t.value}))?function moveQuestionFromQuestionsToSlots(t,e){if(!e.items.some((function(e){return e.value===t.value}))){e.items.push(t);var o=n.findIndex((function(e){return e.value===t.value}));n.splice(o,1)}}(t,e):function moveQuestionsBetweenSlots(t,e){var i=o.find((function(e){return e.items.some((function(e){return e.value===t.value}))})),n=i.items.findIndex((function(e){return e.value===t.value}));i.items.splice(n,1),e.items.push(t)}(t,e)}}},s={name:"RankingComponent",props:{question:{type:Object,required:!0},isFocused:{type:Boolean,default:function _default(){return!1}}},computed:{options:function options(){return this.question.answer.values},ranking:function ranking(){return n({options:this.options})}},methods:{onChanged:function onChanged(t){this.options.forEach((function(e){e.rank=t.getRanking(e)}))},onFocus:function onFocus(){this.$emit("on-focus")}}},a=(o(952),o(26)),r=Object(a.a)(s,(function render(){var t=this,e=t._self._c;return e("div",{staticClass:"wrapper"},[e("QuestionHeaderComponent",{attrs:{question:t.question}}),t._v(" "),e("DndSelectionComponent",{attrs:{ranking:t.ranking,suggestion:t.question.suggestion,isFocused:t.isFocused},on:{"on-reorder":t.onChanged,"on-focus":t.onFocus}})],1)}),[],!1,null,"28f89d04",null);e.default=r.exports;installComponents(r,{QuestionHeaderComponent:o(785).default,DndSelectionComponent:o(934).default})}}]);