(window.webpackJsonp=window.webpackJsonp||[]).push([[106,38,52,202],{1028:function(e,t,o){"use strict";o(899)},1070:function(e,t,o){"use strict";o.r(t);o(11),o(799);var a="-1px",n={props:{name:String,value:Boolean,id:String,disabled:Boolean,disableAction:{type:Boolean,default:!1},type:{type:String,default:"button"}},data:function data(){return{leftPos:a,checked:Boolean(this.value)}},computed:{classes:function classes(){return{"re-checked":this.checked,"re-disabled":this.disabled}},styles:function styles(){return{transform:"translate3D(".concat(this.leftPos,", -50%, 0)")}}},watch:{checked:function checked(){this.setPosition()},value:function value(e){this.changeState(e)}},mounted:function mounted(){this.$nextTick(this.setPosition)},methods:{setPosition:function setPosition(){this.leftPos=this.checked?"".concat(70,"%"):a},changeState:function changeState(e,t){void 0!==t?(this.$emit("change",e,t),t.defaultPrevented||(this.checked=e),this.$emit("input",this.checked,t)):this.checked=e},toggle:function toggle(e){this.disabled||this.disableAction||this.changeState(!this.checked,e)}}},r=(o(1028),o(26)),i=Object(r.a)(n,(function render(){var e=this,t=e._self._c;return t("div",{staticClass:"switch",class:{disabled:!e.checked,"disable-action":e.disableAction}},[e.$slots.default?t("label",{staticClass:"switch-label",attrs:{for:e.id||e.name}},[e._t("default")],2):e._e(),e._v(" "),t("div",{staticClass:"switch-container",on:{click:function click(t){return e.toggle(t)}}},[t("div",{staticClass:"switch-thumb",style:e.styles},[t("input",{attrs:{id:e.id,type:"checkbox",name:e.name,disabled:e.disabled,tabindex:"-1"},domProps:{value:e.value}}),e._v(" "),t("button",{staticClass:"switch-holder",attrs:{type:e.type}},[t("svgicon",{attrs:{width:"10",height:"10",name:"check",color:"white"}})],1)])])])}),[],!1,null,"bd81987e",null);t.default=i.exports},1210:function(e,t,o){o(144).register({export:{width:26,height:31,viewBox:"0 0 26 31",data:'<path pid="0" d="M19.852 7.734L17.92 9.666l-3.463-3.463V22.86h-2.732V6.203L8.262 9.666 6.33 7.734l6.761-6.76 6.76 6.76z" _fill="#000" fill-opacity=".87"/><path pid="1" d="M3.53 28.242V14.583h5.463v-2.732H.798v19.123h24.586V11.85h-8.195v2.732h5.463v13.659H3.53z" _fill="#000" fill-opacity=".87"/>'}})},1211:function(e,t,o){e.exports={}},1269:function(e,t,o){"use strict";o(1211)},1323:function(e,t,o){"use strict";o.r(t);o(41),o(10),o(11),o(4),o(24);var a=o(8),n=o(0),r=o(301),i=o(9),s=o(65),__awaiter=function(e,t,o,a){return new(o||(o=Promise))((function(n,r){function fulfilled(e){try{step(a.next(e))}catch(e){r(e)}}function rejected(e){try{step(a.throw(e))}catch(e){r(e)}}function step(e){e.done?n(e.value):function adopt(e){return e instanceof o?e:new o((function(t){t(e)}))}(e.value).then(fulfilled,rejected)}step((a=a.apply(e,t||[])).next())}))},l=(o(1210),{props:{dataset:{type:Object,required:!0}},methods:{closeMiddleware:function closeMiddleware(e){return!e.target.closest(".fixed-tooltip")}},setup:function setup(e){return function useExportToHubViewModel(e){var t=e.dataset,o=Object(s.i)(),l=Object(s.d)(3e3),u=Object(s.h)(),c=u.get,d=u.set,p=Object(n.ref)(!1),v=Object(n.ref)(!1),f=Object(n.ref)({orgOrUsername:[],datasetName:[],hfToken:[]}),h=Object(n.ref)({orgOrUsername:"",datasetName:"",hfToken:"",isPrivate:!1}),b=Object(a.useResolve)(r.a),m=Object(a.useResolve)(i.g),g=function validate(){var e={orgOrUsername:[],datasetName:[],hfToken:[]};return h.value.orgOrUsername||e.orgOrUsername.push("exportToHub.validations.orgOrUsernameIsRequired"),h.value.datasetName||e.datasetName.push("exportToHub.validations.datasetNameIsRequired"),h.value.hfToken?/hf_[A-Za-z0-9]+/i.test(h.value.hfToken)||e.hfToken.push("exportToHub.validations.hfTokenInvalid"):e.hfToken.push("exportToHub.validations.hfTokenIsRequired"),e},_=Object(n.computed)((function(){var e=g();return 0===e.orgOrUsername.length&&0===e.datasetName.length&&0===e.hfToken.length})),x=function getDatasetExporting(){var e;return null!==(e=c("datasetExportJobIds"))&&void 0!==e?e:{}},w=Object(n.ref)(!!x()[t.id]),T=function verifyExportStatus(){return __awaiter(void 0,void 0,void 0,regeneratorRuntime.mark((function _callee(){var e,a,n,r,i;return regeneratorRuntime.wrap((function _callee$(s){for(;;)switch(s.prev=s.next){case 0:if(s.prev=0,e=x(),a=e[t.id]){s.next=5;break}return s.abrupt("return");case 5:return n=a.jobId,r=a.datasetName,s.next=8,m.getJobStatus(n);case 8:if(!(i=s.sent).isRunning){s.next=11;break}return s.abrupt("return");case 11:w.value=i.isRunning,delete e[t.id],d("datasetExportJobIds",e),o.notify({type:i.isFinished?"success":"danger",message:i.isFinished?"Dataset exported to Hub":"Export failed",buttonText:i.isFinished?"Go to Hub":void 0,onClick:i.isFinished?function(){window.open("https://huggingface.co/datasets/".concat(r),"_blank")}:void 0,permanent:!0}),s.next=19;break;case 17:s.prev=17,s.t0=s.catch(0);case 19:case"end":return s.stop()}}),_callee,null,[[0,17]])})))},k=function watchExportStatus(){return __awaiter(void 0,void 0,void 0,regeneratorRuntime.mark((function _callee2(){return regeneratorRuntime.wrap((function _callee2$(e){for(;;)switch(e.prev=e.next){case 0:if(!w.value){e.next=7;break}return e.next=3,l.wait();case 3:return e.next=5,T();case 5:e.next=0;break;case 7:l.stop();case 8:case"end":return e.stop()}}),_callee2)})))},C=function closeDialog(){p.value=!1,v.value=!1},H=Object(n.computed)((function(){return p.value||v.value}));return Object(n.watch)(w,(function(e){e||C()})),Object(n.onBeforeMount)((function(){k()})),{isDialogVisible:H,closeDialog:C,openDialog:function openDialog(){h.value={orgOrUsername:"",datasetName:t.name,hfToken:"",isPrivate:!1},p.value=!0},openDialogOnHover:function openDialogOnHover(){w.value&&(v.value=!0)},closeDialogOnLeave:function closeDialogOnLeave(){w.value&&!p.value&&(v.value=!1)},isExporting:w,exportToHub:function exportToHub(){return __awaiter(void 0,void 0,void 0,regeneratorRuntime.mark((function _callee3(){return regeneratorRuntime.wrap((function _callee3$(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,w.value=!0,e.next=4,b.execute(t,{name:"".concat(h.value.orgOrUsername,"/").concat(h.value.datasetName),isPrivate:h.value.isPrivate,hfToken:h.value.hfToken});case 4:k(),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),C(),w.value=!1;case 11:case"end":return e.stop()}}),_callee3,null,[[0,7]])})))},exportToHubForm:h,validateForm:function validateForm(e){f.value[e]=g()[e]},errors:f,isValid:_}}(e)}}),u=(o(1269),o(26)),c=Object(u.a)(l,(function render(){var e=this,t=e._self._c;return t("div",{staticClass:"export-to-hub",on:{keydown:function keydown(e){e.stopPropagation()}}},[t("BaseButton",{staticClass:"primary export-to-hub__button",attrs:{loading:e.isExporting,disabled:e.isExporting},nativeOn:{mousedown:function mousedown(t){return t.preventDefault(),e.openDialog.apply(null,arguments)},mouseenter:function mouseenter(t){return e.openDialogOnHover.apply(null,arguments)},mouseleave:function mouseleave(t){return e.closeDialogOnLeave.apply(null,arguments)}}},[t("svgicon",{staticClass:"export-to-hub__button__icon",attrs:{name:"export"}}),e._v(" "),t("span",{staticClass:"export-to-hub__button__text"},[e._v(e._s(e.$t("button.exportToHub")))])],1),e._v(" "),t("transition",{attrs:{name:"fade",appear:""}},[e.isDialogVisible?t("dialog",{directives:[{name:"click-outside",rawName:"v-click-outside",value:{events:["mousedown"],handler:e.closeDialog,middleware:e.closeMiddleware},expression:"{\n        events: ['mousedown'],\n        handler: closeDialog,\n        middleware: closeMiddleware,\n      }"}],staticClass:"export-to-hub__dialog"},[e.isExporting?t("div",{staticClass:"export-to-hub__exporting-message"},[t("h2",{staticClass:"export-to-hub__title",domProps:{textContent:e._s(e.$t("exportToHub.exporting"))}}),e._v(" "),t("p",{staticClass:"export-to-hub__exporting-message__warning",domProps:{textContent:e._s(e.$t("exportToHub.exportingWarning"))}}),e._v(" "),t("p",{staticClass:"export-to-hub__exporting-message__name",domProps:{textContent:e._s("".concat(e.exportToHubForm.orgOrUsername,"/").concat(e.exportToHubForm.datasetName))}}),e._v(" "),t("p",{staticClass:"export-to-hub__exporting-message__private",domProps:{textContent:e._s(e.exportToHubForm.isPrivate?e.$t("exportToHub.private"):e.$t("exportToHub.public"))}})]):t("form",{staticClass:"export-to-hub__form",on:{submit:function submit(t){return t.preventDefault(),e.exportToHub.apply(null,arguments)}}},[t("h2",{staticClass:"export-to-hub__title",domProps:{textContent:e._s(e.$t("exportToHub.dialogTitle"))}}),e._v(" "),t("div",{staticClass:"export-to-hub__form__dataset"},[t("div",{staticClass:"export-to-hub__form__group --small"},[t("div",{staticClass:"export-to-hub__label"},[t("label",{attrs:{for:"owner"},domProps:{textContent:e._s(e.$t("owner"))}}),e._v(" "),t("BaseIconWithBadge",{directives:[{name:"tooltip",rawName:"v-tooltip",value:{content:e.$t("exportToHub.ownerTooltip")},expression:"{\n                  content: $t('exportToHub.ownerTooltip'),\n                }"}],staticClass:"export-to-hub__label__info",attrs:{icon:"info","icon-color":"var(--fg-tertiary)",role:"tooltip","aria-label":e.$t("exportToHub.ownerTooltip")}})],1),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.exportToHubForm.orgOrUsername,expression:"exportToHubForm.orgOrUsername"}],staticClass:"input",attrs:{id:"owner",type:"text",placeholder:e.$t("owner"),"aria-required":"true"},domProps:{value:e.exportToHubForm.orgOrUsername},on:{blur:function blur(t){return e.validateForm("orgOrUsername")},input:[function(t){t.target.composing||e.$set(e.exportToHubForm,"orgOrUsername",t.target.value)},function(t){return e.validateForm("orgOrUsername")}]}})]),e._v(" "),t("span",{staticClass:"export-to-hub__form__separator",attrs:{"aria-hidden":"true"},domProps:{textContent:e._s("/")}}),e._v(" "),t("div",{staticClass:"export-to-hub__form__group"},[t("label",{attrs:{for:"datasetName"}},[e._v("Dataset name")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.exportToHubForm.datasetName,expression:"exportToHubForm.datasetName"}],staticClass:"input",attrs:{id:"datasetName",type:"text",placeholder:e.$t("datasetCreation.datasetName"),"aria-required":"true"},domProps:{value:e.exportToHubForm.datasetName},on:{blur:function blur(t){return e.validateForm("datasetName")},input:[function(t){t.target.composing||e.$set(e.exportToHubForm,"datasetName",t.target.value)},function(t){return e.validateForm("datasetName")}]}})])]),e._v(" "),t("div",{staticClass:"export-to-hub__form__group"},[t("div",{staticClass:"export-to-hub__label"},[t("label",{attrs:{for:"hfToken"},domProps:{textContent:e._s(e.$t("hfToken"))}}),e._v(" "),t("BaseIconWithBadge",{directives:[{name:"tooltip",rawName:"v-tooltip",value:{content:e.$t("exportToHub.tokenTooltip")},expression:"{\n                content: $t('exportToHub.tokenTooltip'),\n              }"}],staticClass:"export-to-hub__label__info",attrs:{icon:"info","icon-color":"var(--fg-tertiary)",role:"tooltip","aria-label":e.$t("exportToHub.tokenTooltip")}})],1),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.exportToHubForm.hfToken,expression:"exportToHubForm.hfToken"}],staticClass:"input",attrs:{id:"hfToken",type:"password",autocomplete:"one-time-code",placeholder:e.$t("hfToken"),"aria-required":"true"},domProps:{value:e.exportToHubForm.hfToken},on:{blur:function blur(t){return e.validateForm("hfToken")},input:[function(t){t.target.composing||e.$set(e.exportToHubForm,"hfToken",t.target.value)},function(t){return e.validateForm("hfToken")}]}})]),e._v(" "),t("div",{staticClass:"export-to-hub__form__group"},[t("BaseSwitch",{staticClass:"export-to-hub__form__switch",model:{value:e.exportToHubForm.isPrivate,callback:function callback(t){e.$set(e.exportToHubForm,"isPrivate",t)},expression:"exportToHubForm.isPrivate"}},[e._v(e._s(e.$t("private")))])],1),e._v(" "),t("span",e._l(e.errors,(function(e,o){return t("Validation",{key:o,attrs:{validations:e}})})),1),e._v(" "),t("BaseButton",{staticClass:"primary full-width export-to-hub__form__button",attrs:{type:"submit",disabled:!e.isValid}},[e._v("\n          "+e._s(e.$t("button.exportToHub"))+"\n        ")])],1)]):e._e()])],1)}),[],!1,null,"5db637ca",null);t.default=c.exports;installComponents(c,{BaseButton:o(259).default,BaseIconWithBadge:o(787).default,BaseSwitch:o(1070).default,Validation:o(790).default})},787:function(e,t,o){"use strict";o.r(t);var a={props:{url:{type:String},icon:{type:String},iconColor:{type:String,default:function _default(){return"white"}},tooltip:{type:String},showBadge:{type:Boolean,default:!1},badgeVerticalPosition:{type:String},badgeHorizontalPosition:{type:String},badgeBorderColor:{type:String},badgeSize:{type:String,default:"22"}},methods:{onClickIcon:function onClickIcon(){this.$emit("click-icon")}}},n=o(26),r=Object(n.a)(a,(function render(){var e=this,t=e._self._c;return t("BaseButton",{staticClass:"icon-with-badge",attrs:{"data-title":e.tooltip,tabIndex:-1},on:{"on-click":e.onClickIcon}},[t("i",{directives:[{name:"badge",rawName:"v-badge",value:{showBadge:e.showBadge,verticalPosition:e.badgeVerticalPosition,horizontalPosition:e.badgeHorizontalPosition,borderColor:e.badgeBorderColor},expression:"{\n      showBadge: showBadge,\n      verticalPosition: badgeVerticalPosition,\n      horizontalPosition: badgeHorizontalPosition,\n      borderColor: badgeBorderColor,\n    }"}],key:e.showBadge,staticClass:"icon-wrapper"},[t("svgicon",{attrs:{name:e.icon,width:e.badgeSize,height:e.badgeSize,color:e.iconColor,"aria-label":e.icon+" icon"}})],1)])}),[],!1,null,null,null);t.default=r.exports;installComponents(r,{BaseButton:o(259).default})},788:function(e,t,o){e.exports={}},790:function(e,t,o){"use strict";o.r(t);var a={props:{validations:{type:Array,required:!0}}},n=(o(808),o(26)),r=Object(n.a)(a,(function render(){var e=this,t=e._self._c;return t("div",{class:e.validations.length?"--has-error":null,attrs:{role:"alert"}},[e._t("default"),e._v(" "),e.validations.length?e._l(e.validations,(function(o){return t("span",{key:o,staticClass:"--error-message",domProps:{innerHTML:e._s(e.$t(o))}})})):e._e()],2)}),[],!1,null,"fb7ba698",null);t.default=r.exports},799:function(e,t,o){o(144).register({check:{width:40,height:40,viewBox:"0 0 40 40",data:'<path pid="0" d="M16.25 23.75l-7.5-7.5L5 20l11.25 11.25L35 12.5l-3.75-3.75-15 15z" _fill="#000"/>'}})},808:function(e,t,o){"use strict";o(788)},899:function(e,t,o){e.exports={}}}]);