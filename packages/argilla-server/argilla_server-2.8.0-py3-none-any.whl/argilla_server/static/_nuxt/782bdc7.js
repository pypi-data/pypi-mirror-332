(window.webpackJsonp=window.webpackJsonp||[]).push([[211,214],{1060:function(e,t,a){"use strict";var i=a(5),r=a(1157),n=a(54),s=a(63),u=a(86),o=a(218);i({target:"Array",proto:!0},{flatMap:function flatMap(e){var t,a=s(this),i=u(a);return n(e),(t=o(a,0)).length=r(t,a,a,i,0,1,e,arguments.length>1?arguments[1]:void 0),t}})},1061:function(e,t,a){"use strict";a(147)("flatMap")},1118:function(e,t,a){"use strict";a.r(t),a.d(t,"useDatasetViewModel",(function(){return u}));a(11);var i=a(62),r=a(271),n=a(65),s=a(172),u=function useDatasetViewModel(){var e=Object(i.d)(!1),t=Object(i.h)(),a=Object(s.a)(),u=Object(n.m)().t,o=t.value.params.id;return{datasetId:o,isLoadingDataset:e,handleError:function handleError(e){var t="";switch(e){case r.a.ERROR_FETCHING_DATASET_INFO:t="Can't get dataset info for dataset_id: ".concat(o);break;case r.a.ERROR_FETCHING_WORKSPACE_INFO:t="Can't get workspace info for dataset_id: ".concat(o);break;default:t="There was an error on fetching dataset info and workspace info. Please try again"}a.notify({message:t,type:"danger"})},createRootBreadCrumbs:function createRootBreadCrumbs(e){return[{link:{name:"index"},name:u("breadcrumbs.home")},{link:{path:"/?workspaces=".concat(e.workspace)},name:e.workspace},{link:{path:"annotation-mode"},name:e.name}]}}}},1119:function(e,t,a){"use strict";a(1140)},1140:function(e,t,a){"use strict";var i=a(5),r=a(18),n=a(13),s=a(61),u=a(28),o=a(68),c=a(276),l=a(45),h=a(108),m=a(275),f=a(436),g=a(29),v=a(56),p=g("replace"),d=TypeError,y=n("".indexOf),C=n("".replace),k=n("".slice),b=Math.max;i({target:"String",proto:!0},{replaceAll:function replaceAll(e,t){var a,i,n,g,j,O,R,w,P,S=s(this),B=0,_=0,x="";if(!o(e)){if((a=c(e))&&(i=l(s(m(e))),!~y(i,"g")))throw new d("`.replaceAll` does not allow non-global regexes");if(n=h(e,p))return r(n,e,S,t);if(v&&a)return C(l(S),e,t)}for(g=l(S),j=l(e),(O=u(t))||(t=l(t)),R=j.length,w=b(1,R),B=y(g,j);-1!==B;)P=O?l(t(j,B,g)):f(j,g,B,[],void 0,t),x+=k(g,_,B)+P,_=B+R,B=B+w>g.length?-1:y(g,j,B+w);return _<g.length&&(x+=k(g,_)),x}})},1157:function(e,t,a){"use strict";var i=a(148),r=a(86),n=a(284),s=a(47),flattenIntoArray=function(e,t,a,u,o,c,l,h){for(var m,f,g=o,v=0,p=!!l&&s(l,h);v<u;)v in a&&(m=p?p(a[v],v,t):a[v],c>0&&i(m)?(f=r(m),g=flattenIntoArray(e,t,m,f,g,c-1)-1):(n(g+1),e[g]=m),g++),v++;return g};e.exports=flattenIntoArray},1314:function(e,t,a){"use strict";a.r(t),a.d(t,"useAnnotationModeViewModel",(function(){return P}));a(10),a(4);var i=a(62),r=a(8),n=a(1118),s=a(294),u=a(266),o=a(1),c=a(2),l=(a(76),a(43)),h=a(21),m=a(30),f=(a(41),a(118),a(24),a(96),function(){return Object(c.a)((function Criteria(){Object(o.a)(this,Criteria),this.reset()}),[{key:"isCompleted",get:function get(){return!0}},{key:"getRangeValue",value:function getRangeValue(e){var t=e.match(/ge(-?\d+(\.\d+)?)\.le(-?\d+(\.\d+)?)/);if(t)return{ge:Number(t[1]),le:Number(t[3])}}},{key:"isEqual",value:function isEqual(e){return this.urlParams===e.urlParams}}])}());function _isNativeReflectConstruct(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(_isNativeReflectConstruct=function _isNativeReflectConstruct(){return!!e})()}var g=function(e){function SimilarityCriteria(){return Object(o.a)(this,SimilarityCriteria),function _callSuper(e,t,a){return t=Object(h.a)(t),Object(l.a)(e,_isNativeReflectConstruct()?Reflect.construct(t,a||[],Object(h.a)(e).constructor):t.apply(e,a))}(this,SimilarityCriteria,arguments)}return Object(m.a)(SimilarityCriteria,e),Object(c.a)(SimilarityCriteria,[{key:"complete",value:function complete(e){if(e){var t=e.split(".");8===t.length&&(this.recordId=t[1],this.vectorName=t[3],this.limit=parseInt(t[5]),this.order=t[7])}}},{key:"withValue",value:function withValue(e){var t=e.recordId,a=e.vectorName,i=e.limit,r=e.order;(t||a||i||r)&&(this.recordId=t,this.vectorName=a,this.limit=i,this.order=r)}},{key:"isCompleted",get:function get(){return void 0!==this.recordId&&void 0!==this.vectorName&&void 0!==this.limit&&void 0!==this.order}},{key:"urlParams",get:function get(){return this.isCompleted?"record.".concat(this.recordId,".vector.").concat(this.vectorName,".limit.").concat(this.limit,".order.").concat(this.order):""}},{key:"reset",value:function reset(){this.recordId=void 0,this.vectorName=void 0,this.limit=50,this.order="most"}}])}(f),v=a(12);a(107),a(23),a(11),a(32);function SortCriteria_isNativeReflectConstruct(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(SortCriteria_isNativeReflectConstruct=function _isNativeReflectConstruct(){return!!e})()}var p=function(e){function SortCriteria(){var e;return Object(o.a)(this,SortCriteria),(e=function SortCriteria_callSuper(e,t,a){return t=Object(h.a)(t),Object(l.a)(e,SortCriteria_isNativeReflectConstruct()?Reflect.construct(t,a||[],Object(h.a)(e).constructor):t.apply(e,a))}(this,SortCriteria,arguments)).value=[],e}return Object(m.a)(SortCriteria,e),Object(c.a)(SortCriteria,[{key:"complete",value:function complete(e){var t=this;e&&e.split("~").forEach((function(e){var a=t.parseUrlParams(e);t.value.push(a)}))}},{key:"withValue",value:function withValue(e){this.value=e.value.map((function(e){return Object.assign({},e)}))}},{key:"reset",value:function reset(){this.value=[]}},{key:"isCompleted",get:function get(){return this.value.length>0}},{key:"urlParams",get:function get(){return this.isCompleted?this.value.map((function(e){var t=e.property,a=e.entity,i=e.name,r=e.order;return t?"".concat(a,".").concat(i,".").concat(t,".").concat(r):"".concat(a,".").concat(i,".").concat(r)})).join("~"):""}},{key:"parseUrlParams",value:function parseUrlParams(e){var t=e.split("."),a=Object(v.a)(t,4),i=a[0],r=a[1],n=a[2],s=a[3];return n&&s?{entity:i,name:r,order:s,property:n}:{entity:i,name:r,order:n}}}])}(f);a(39);function MetadataCriteria_isNativeReflectConstruct(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(MetadataCriteria_isNativeReflectConstruct=function _isNativeReflectConstruct(){return!!e})()}var d=function(e){function MetadataCriteria(){var e;return Object(o.a)(this,MetadataCriteria),(e=function MetadataCriteria_callSuper(e,t,a){return t=Object(h.a)(t),Object(l.a)(e,MetadataCriteria_isNativeReflectConstruct()?Reflect.construct(t,a||[],Object(h.a)(e).constructor):t.apply(e,a))}(this,MetadataCriteria,arguments)).value=[],e}return Object(m.a)(MetadataCriteria,e),Object(c.a)(MetadataCriteria,[{key:"complete",value:function complete(e){var t=this;e&&e.split("~").forEach((function(e){var a=e.split("."),i=Object(v.a)(a,1)[0],r=t.getRangeValue(e);if(r)t.value.push({name:i,value:{ge:r.ge,le:r.le}});else{var n=e.split(".").slice(1);t.value.push({name:i,value:n})}}))}},{key:"withValue",value:function withValue(e){this.value=e.value.map((function(e){return{name:e.name,value:e.value}}))}},{key:"reset",value:function reset(){this.value=[]}},{key:"isCompleted",get:function get(){return this.value.length>0}},{key:"urlParams",get:function get(){return this.isCompleted?this.value.map((function(e){var t=e.value;if("ge"in t&&"le"in t)return"".concat(e.name,".ge").concat(t.ge,".le").concat(t.le);var a=e.value;return"".concat(e.name,".").concat(a.map((function(e){return e})).join("."))})).join("~"):""}}])}(f),y=a(220);a(34),a(1060),a(1061),a(16);function ResponseCriteria_isNativeReflectConstruct(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(ResponseCriteria_isNativeReflectConstruct=function _isNativeReflectConstruct(){return!!e})()}var C=function(e){function ResponseCriteria(){var e;return Object(o.a)(this,ResponseCriteria),(e=function ResponseCriteria_callSuper(e,t,a){return t=Object(h.a)(t),Object(l.a)(e,ResponseCriteria_isNativeReflectConstruct()?Reflect.construct(t,a||[],Object(h.a)(e).constructor):t.apply(e,a))}(this,ResponseCriteria,arguments)).value=[],e}return Object(m.a)(ResponseCriteria,e),Object(c.a)(ResponseCriteria,[{key:"complete",value:function complete(e){var t=this;e&&e.split("~").forEach((function(e){var a=e.split("."),i=Object(y.a)(a),r=i[0],n=i.slice(1),s=t.getRangeValue(e);if(s)t.value.push({name:r,value:{ge:s.ge,le:s.le}});else if("operator"!==n[0]||"values"!==n[2]){var u=e.split(".").slice(1);t.value.push({name:r,value:u})}else{var o=n[1],c=n.slice(3);t.value.push({name:r,value:{operator:o,values:c}})}}))}},{key:"withValue",value:function withValue(e){this.value=e.value.map((function(e){return{name:e.name,value:e.value}}))}},{key:"reset",value:function reset(){this.value=[]}},{key:"isCompleted",get:function get(){return this.value.length>0}},{key:"urlParams",get:function get(){return this.isCompleted?this.value.map((function(e){var t=e.value;if("ge"in t&&"le"in t)return"".concat(e.name,".ge").concat(t.ge,".le").concat(t.le);var a=e.value;if("operator"in a&&a)return"".concat(e.name,".operator.").concat(a.operator,".values.").concat(a.values.join("."));var i=e.value;return"".concat(e.name,".").concat(i.join("."))})).join("~"):""}},{key:"or",get:function get(){return this.isCompleted?this.value.filter((function(e){return"and"!==e.value.operator})).map((function(e){var t=e.value,a=t.operator,i=t.values;return a?{name:e.name,value:i}:{name:e.name,value:e.value}})):[]}},{key:"and",get:function get(){return this.isCompleted?this.value.filter((function(e){return"and"===e.value.operator})).flatMap((function(e){return e.value.values.map((function(t){return{name:e.name,value:t}}))})):[]}}])}(f);a(60);function SuggestionCriteria_isNativeReflectConstruct(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(SuggestionCriteria_isNativeReflectConstruct=function _isNativeReflectConstruct(){return!!e})()}var k=function(e){function SuggestionCriteria(){var e;return Object(o.a)(this,SuggestionCriteria),(e=function SuggestionCriteria_callSuper(e,t,a){return t=Object(h.a)(t),Object(l.a)(e,SuggestionCriteria_isNativeReflectConstruct()?Reflect.construct(t,a||[],Object(h.a)(e).constructor):t.apply(e,a))}(this,SuggestionCriteria,arguments)).value=[],e}return Object(m.a)(SuggestionCriteria,e),Object(c.a)(SuggestionCriteria,[{key:"complete",value:function complete(e){var t=this;e&&e.split("~").forEach((function(e){var a=e.split("."),i=Object(y.a)(a),r=i[0],n=i[1],s=i.slice(2);if("score"===n||"value"===n){var u=t.getRangeValue(e);if(u){var o={name:n,value:{ge:u.ge,le:u.le}};return t.addConfiguration(r,o)}}if("value"===n){var c="operator"===s[0]?s[1]:void 0,l={name:n,value:{values:c?s.slice(3):s.slice(1)}};return c&&(l.value=Object.assign(Object.assign({},l.value),{operator:c})),t.addConfiguration(r,l)}if("agent"===n){var h={name:n,value:s};return t.addConfiguration(r,h)}}))}},{key:"withValue",value:function withValue(e){this.value=e.value.map((function(e){return{name:e.name,value:e.value}}))}},{key:"reset",value:function reset(){this.value=[]}},{key:"isCompleted",get:function get(){return this.value.length>0}},{key:"urlParams",get:function get(){return this.isCompleted?this.value.flatMap((function(e){return e.value.map((function(t){var a=t.value;if("ge"in a&&"le"in a)return"".concat(e.name,".").concat(t.name,".ge").concat(a.ge,".le").concat(a.le);var i=t.value;if("operator"in i&&i)return"".concat(e.name,".").concat(t.name,".operator.").concat(i.operator,".values.").concat(i.values.join("."));if(i.hasOwnProperty("values")&&i.values)return"".concat(e.name,".").concat(t.name,".values.").concat(i.values.join("."));var r=t.value;return"".concat(e.name,".").concat(t.name,".").concat(r.join("."))}))})).join("~"):""}},{key:"or",get:function get(){return this.isCompleted?this.value.filter((function(e){return e.value.some((function(e){return"and"!==e.value.operator}))})).flatMap((function(e){return e.value.map((function(t){return{question:{name:e.name},configuration:{name:t.name,value:t.value}}}))})):[]}},{key:"and",get:function get(){return this.isCompleted?this.value.filter((function(e){return e.value.some((function(e){return"and"===e.value.operator}))})).flatMap((function(e){return e.value.filter((function(e){return"value"===e.name})).flatMap((function(t){return t.value.values.map((function(a){return{question:{name:e.name},configuration:{name:t.name,value:a}}}))}))})):[]}},{key:"addConfiguration",value:function addConfiguration(e,t){var a=this.value.find((function(t){return t.name===e}));a?a.value.push(t):this.value.push({name:e,value:[t]})}}])}(f);a(48),a(27),a(53);function PageCriteria_isNativeReflectConstruct(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(PageCriteria_isNativeReflectConstruct=function _isNativeReflectConstruct(){return!!e})()}var b=function(e){function PageCriteria(){var e;return Object(o.a)(this,PageCriteria),(e=function PageCriteria_callSuper(e,t,a){return t=Object(h.a)(t),Object(l.a)(e,PageCriteria_isNativeReflectConstruct()?Reflect.construct(t,a||[],Object(h.a)(e).constructor):t.apply(e,a))}(this,PageCriteria)).options=[10,25,50,100],e.mode="focus",e.reset(),e}return Object(m.a)(PageCriteria,e),Object(c.a)(PageCriteria,[{key:"server",get:function get(){return Object.assign({},this._server)}},{key:"next",get:function get(){return this.isBulkMode?this.client.page+this.client.many:this.client.page+1}},{key:"previous",get:function get(){return this.isBulkMode?Math.max(this.client.page-this.client.many,1):this.client.page-1}},{key:"isBulkMode",get:function get(){return"bulk"===this.mode}},{key:"isFocusMode",get:function get(){return"focus"===this.mode}},{key:"urlParams",get:function get(){return this.isFocusMode?this.client.page.toString():"".concat(this.client.page,"~").concat(this.client.many)}},{key:"buffer",get:function get(){return this.isBulkMode?this.client.many:this.client.many/2}},{key:"withValue",value:function withValue(e){var t=e.client,a=e.mode;this.client={page:t.page,many:t.many},this.mode=a}},{key:"complete",value:function complete(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").split("~").filter((function(e){return!isNaN(Number(e))&&""!==e}));if(0!==e.length)if(2===e.length){var t=Object(v.a)(e,2),a=t[0],i=t[1];if(!this.options.includes(Number(i)))return;this.client={page:Number(a),many:Number(i)},this.mode="bulk"}else{var r=Object(v.a)(e,1)[0];this.client={page:Number(r),many:10}}}},{key:"reset",value:function reset(){this.client={page:1,many:10},this._server={from:this.client.page,many:this.client.many}}},{key:"synchronizePagination",value:function synchronizePagination(e){this._server=Object.assign({},e)}},{key:"goTo",value:function goTo(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.client.many;this.client={page:e,many:t}}},{key:"goToFirst",value:function goToFirst(e){this.goTo(1,e)}},{key:"isFirstPage",value:function isFirstPage(){return 1===this.client.page}},{key:"bulkMode",value:function bulkMode(){this.mode="bulk",this.reset()}},{key:"focusMode",value:function focusMode(){this.mode="focus",this.reset()}}])}(f);a(75),a(1119);function SearchTextCriteria_isNativeReflectConstruct(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(SearchTextCriteria_isNativeReflectConstruct=function _isNativeReflectConstruct(){return!!e})()}var j=function(e){function SearchTextCriteria(){var e;return Object(o.a)(this,SearchTextCriteria),(e=function SearchTextCriteria_callSuper(e,t,a){return t=Object(h.a)(t),Object(l.a)(e,SearchTextCriteria_isNativeReflectConstruct()?Reflect.construct(t,a||[],Object(h.a)(e).constructor):t.apply(e,a))}(this,SearchTextCriteria)).reset(),e}return Object(m.a)(SearchTextCriteria,e),Object(c.a)(SearchTextCriteria,[{key:"complete",value:function complete(e){var t=this;if(e){var a=e.split("~");if(a.length>2){var i=a.reverse(),r=Object(y.a)(i),n=r[0],s=r.slice(1);return this.setValue(s.reverse().join("~"),n)}var u=Object(v.a)(a,2),o=u[0],c=u[1];this.setValue(o.split("").map((function(e,a){return t.itWasConvertedToUnderscore(o,e,a)?" ":e})).join(""),c)}}},{key:"withValue",value:function withValue(e){this.setValue(e.value.text,e.value.field)}},{key:"reset",value:function reset(){this.setValue("","all")}},{key:"isCompleted",get:function get(){return this.value.text.length>0}},{key:"urlParams",get:function get(){var e;return this.isCompleted?((null===(e=this.value.field)||void 0===e?void 0:e.length)||(this.value.field="all"),"".concat(this.value.text.replaceAll(" ","_"),"~").concat(this.value.field)):""}},{key:"isFilteringByField",get:function get(){return"all"!==this.value.field}},{key:"setValue",value:function setValue(e,t){this.value={text:null!=e?e:"",field:null!=t?t:"all"}}},{key:"itWasConvertedToUnderscore",value:function itWasConvertedToUnderscore(e,t,a){return"_"===t&&!!e[a+1]&&"_"!==e[a+1]&&!!e[a-1]&&"_"!==e[a-1]}}])}(f),O=function(){return Object(c.a)((function CommittedRecordCriteria(e){Object(o.a)(this,CommittedRecordCriteria);var t=new b,a=new j,i=new g,r=new d,n=new p,s=new C,u=new k;t.withValue(e.page),a.withValue(e.searchText),r.withValue(e.metadata),n.withValue(e.sortBy),u.withValue(e.suggestion),s.withValue(e.response),i.withValue(e.similaritySearch),this.status=e.status,this.searchText=a,this.page=t,this.metadata=r,this.sortBy=n,this.response=s,this.suggestion=u,this.similaritySearch=i}),[{key:"isPending",get:function get(){return"pending"===this.status}}])}(),R=function(){function RecordCriteria(e,t,a,i,r,n,s,u,c){Object(o.a)(this,RecordCriteria),this.datasetId=e,this.status=a,this.isChangingAutomatically=!1,this.page=new b,this.searchText=new j,this.metadata=new d,this.sortBy=new p,this.response=new C,this.suggestion=new k,this.similaritySearch=new g,this.complete(t,a,i,r,n,s,u,c),this.commit()}return Object(c.a)(RecordCriteria,[{key:"isFilteringByText",get:function get(){return this.searchText.isCompleted}},{key:"isFilteringBySimilarity",get:function get(){return this.similaritySearch.isCompleted}},{key:"isFilteringByResponse",get:function get(){return this.response.isCompleted}},{key:"isFilteringBySuggestion",get:function get(){return this.suggestion.isCompleted}},{key:"isFilteringByMetadata",get:function get(){return this.metadata.isCompleted}},{key:"isSortingBy",get:function get(){return this.sortBy.isCompleted}},{key:"isFilteringByAdvanceSearch",get:function get(){return this.isFilteringByText||this.isFilteringByMetadata||this.isFilteringBySimilarity||this.isFilteringByResponse||this.isFilteringBySuggestion||this.isSortingBy}},{key:"isFilteredByText",get:function get(){return this.committed.searchText.isCompleted}},{key:"isFilteredByMetadata",get:function get(){return this.committed.metadata.isCompleted}},{key:"isFilteredByResponse",get:function get(){return this.committed.response.isCompleted}},{key:"isFilteredBySuggestion",get:function get(){return this.committed.suggestion.isCompleted}},{key:"isSortedBy",get:function get(){return this.committed.sortBy.isCompleted}},{key:"isFilteredBySimilarity",get:function get(){return this.committed.similaritySearch.isCompleted}},{key:"isComingToBulkMode",get:function get(){return(!this.previous||this.previous.page.isFocusMode)&&this.committed.page.isBulkMode}},{key:"hasChanges",get:function get(){return this.areDifferent(this,this.committed)}},{key:"isPaginatingForward",get:function get(){var e;return this.page.client.page>(null===(e=this.previous)||void 0===e?void 0:e.page.client.page)}},{key:"isPaginatingBackward",get:function get(){var e;return this.page.client.page<(null===(e=this.previous)||void 0===e?void 0:e.page.client.page)}},{key:"complete",value:function complete(e,t,a,i,r,n,s,u){this.isChangingAutomatically=!0,this.status=null!=t?t:"pending",this.page.complete(e),this.searchText.complete(a),this.metadata.complete(i),this.sortBy.complete(r),this.response.complete(n),this.suggestion.complete(s),this.similaritySearch.complete(u)}},{key:"commit",value:function commit(){this.committed&&(this.previous=new O(this.committed)),this.committed=new O(this),this.areDifferent(this.committed,this.previous)||(this.previous=null),this.isChangingAutomatically=!1}},{key:"rollback",value:function rollback(){this.status=this.committed.status,this.page.withValue(this.committed.page),this.searchText.withValue(this.committed.searchText),this.metadata.withValue(this.committed.metadata),this.sortBy.withValue(this.committed.sortBy),this.response.withValue(this.committed.response),this.suggestion.withValue(this.committed.suggestion),this.similaritySearch.withValue(this.committed.similaritySearch)}},{key:"reset",value:function reset(){this.page.reset(),this.metadata.reset(),this.sortBy.reset(),this.response.reset(),this.suggestion.reset()}},{key:"clone",value:function clone(){return new RecordCriteria(this.datasetId,this.page.urlParams,this.status,this.searchText.urlParams,this.metadata.urlParams,this.sortBy.urlParams,this.response.urlParams,this.suggestion.urlParams,this.similaritySearch.urlParams)}},{key:"queuePage",get:function get(){return this.isFilteringBySimilarity?this.page.server.from:this.page.client.page}},{key:"nextPage",value:function nextPage(){this.page.goTo(this.committed.page.next)}},{key:"previousPage",value:function previousPage(){this.page.goTo(this.committed.page.previous)}},{key:"areDifferent",value:function areDifferent(e,t){return!!e&&(!!t&&(t.status!==e.status||(!e.searchText.isEqual(t.searchText)||(!e.page.isEqual(t.page)||(!e.searchText.isEqual(t.searchText)||(!e.metadata.isEqual(t.metadata)||(!e.sortBy.isEqual(t.sortBy)||(!e.response.isEqual(t.response)||(!e.suggestion.isEqual(t.suggestion)||!e.similaritySearch.isEqual(t.similaritySearch))))))))))}}])}(),w=a(65),__awaiter=function(e,t,a,i){return new(a||(a=Promise))((function(r,n){function fulfilled(e){try{step(i.next(e))}catch(e){n(e)}}function rejected(e){try{step(i.throw(e))}catch(e){n(e)}}function step(e){e.done?r(e.value):function adopt(e){return e instanceof a?e:new a((function(t){t(e)}))}(e.value).then(fulfilled,rejected)}step((i=i.apply(e,t||[])).next())}))},P=function useAnnotationModeViewModel(){var e=Object(i.i)(),t=Object(w.k)(),a=Object(w.n)().user,o=Object(u.a)().state,c=Object(r.useResolve)(s.a),l=Object(n.useDatasetViewModel)(),h=l.datasetId,m=l.isLoadingDataset,f=l.handleError,g=l.createRootBreadCrumbs,v=Object(i.a)((function(){return g(o)})),p=Object(i.d)(new R(h,t.getQueryParams("page"),t.getQueryParams("status"),t.getQueryParams("search"),t.getQueryParams("metadata"),t.getQueryParams("sort"),t.getQueryParams("response"),t.getQueryParams("suggestion"),t.getQueryParams("similarity")));t.watchBrowserNavigation((function(){p.value.complete(t.getQueryParams("page"),t.getQueryParams("status"),t.getQueryParams("search"),t.getQueryParams("metadata"),t.getQueryParams("sort"),t.getQueryParams("response"),t.getQueryParams("suggestion"),t.getQueryParams("similarity"))}));return Object(i.c)((function(){!function loadDataset(){__awaiter(void 0,void 0,void 0,regeneratorRuntime.mark((function _callee2(){return regeneratorRuntime.wrap((function _callee2$(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,m.value=!0,t.next=4,c.execute(h);case 4:t.next=10;break;case 6:t.prev=6,t.t0=t.catch(0),f(t.t0.response),e.push("/");case 10:return t.prev=10,m.value=!1,t.finish(10);case 13:case"end":return t.stop()}}),_callee2,null,[[0,6,10,13]])})))}()})),{isLoadingDataset:m,recordCriteria:p,dataset:o,datasetId:h,breadcrumbs:v,updateQueryParams:function updateQueryParams(){return __awaiter(void 0,void 0,void 0,regeneratorRuntime.mark((function _callee(){return regeneratorRuntime.wrap((function _callee$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.setQueryParams({key:"page",value:p.value.committed.page.urlParams},{key:"status",value:p.value.committed.status},{key:"search",value:p.value.committed.searchText.urlParams},{key:"metadata",value:p.value.committed.metadata.urlParams},{key:"sort",value:p.value.committed.sortBy.urlParams},{key:"response",value:p.value.committed.response.urlParams},{key:"suggestion",value:p.value.committed.suggestion.urlParams},{key:"similarity",value:p.value.committed.similaritySearch.urlParams});case 2:case"end":return e.stop()}}),_callee)})))},user:a}}}}]);