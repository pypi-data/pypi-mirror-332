import{Q as M,x as T,w as I,Z as b,B as m,U as d,bF as N,S as i,a9 as o,W as u,R as p,a0 as l,a4 as t,b0 as S,ao as y,ab as n,b1 as v,ca as E,Y as C,aB as U,bG as D}from"./index-Dgb2Jv0W.js";import{E as R}from"./EditConfig-lZy34s6t.js";import{V as F}from"./VTextField-ERCRwdIS.js";import{V as G}from"./VSwitch-DM3Rm0eZ.js";import{a as O}from"./VBtn-DuScqEn1.js";import"./VForm-D3vVGrIr.js";import"./VCheckboxBtn-CmCi1_nS.js";import"./VExpansionPanels-BtLgc7tU.js";import"./VAlert-D-qqP7Pv.js";import"./VSlider-D58wYNEc.js";import"./VVirtualScroll-Dsnd1ROl.js";import"./VDialog-YxDgK53D.js";import"./VSpacer-BOxMbL4y.js";/* empty css              */import"./_plugin-vue_export-helper-DlAUqK2U.js";const j={key:0,style:{"margin-left":"-5px","margin-right":"-5px"}},le=M({__name:"EditPlayer",props:{playerId:{}},setup(P){const g=D(),e=T(),f=P;I(()=>f.playerId,async a=>{a&&(e.value=await t.getPlayerConfig(a))},{immediate:!0});const B=async function(a){a.enabled=e.value.enabled,a.name=e.value.name||null,t.savePlayerConfig(f.playerId,a),g.push({name:"playersettings"})},w=function(){g.push(`/settings/editplayer/${f.playerId}/dsp`)};return(a,r)=>(i(),b("section",null,[m(N,null,{default:d(()=>{var _,V,k;return[e.value&&l(t).getProviderManifest(e.value.provider).domain in l(t).providerManifests?(i(),b("div",j,[m(S,null,{default:d(()=>{var s;return[y(n(a.$t("settings.config_player",[e.value.name||((s=l(t).players[e.value.player_id])==null?void 0:s.name)||e.value.default_name])),1)]}),_:1}),m(v,null,{default:d(()=>[u("b",null,n(a.$t("settings.player_id"))+": ",1),y(n(e.value.player_id),1)]),_:1}),m(v,null,{default:d(()=>{var s,$;return[u("b",null,n(a.$t("settings.player_provider"))+": ",1),y(n((s=l(t).getProviderManifest(e.value.provider))==null?void 0:s.name)+" ",1),($=l(t).getProviderManifest(e.value.provider))!=null&&$.documentation?(i(),b("a",{key:0,onClick:r[0]||(r[0]=L=>{var c;return l(E)((c=l(t).getProviderManifest(e.value.provider))==null?void 0:c.documentation)})}," ["+n(a.$t("settings.check_docs"))+"]",1)):o("",!0)]}),_:1}),l(t).players[e.value.player_id]?(i(),p(v,{key:0},{default:d(()=>[u("b",null,n(a.$t("settings.player_model"))+": ",1),y(n(l(t).players[e.value.player_id].device_info.manufacturer)+" / "+n(l(t).players[e.value.player_id].device_info.model),1)]),_:1})):o("",!0),(_=l(t).players[e.value.player_id])!=null&&_.device_info.ip_address?(i(),p(v,{key:1},{default:d(()=>[u("b",null,n(a.$t("settings.player_address"))+": ",1),y(n(l(t).players[e.value.player_id].device_info.ip_address),1)]),_:1})):o("",!0),l(t).players[e.value.player_id]?(i(),p(v,{key:2},{default:d(()=>[u("b",null,n(a.$t("settings.player_type_label"))+": ",1),y(n(a.$t(`player_type.${l(t).players[e.value.player_id].type}`)),1)]),_:1})):o("",!0),r[3]||(r[3]=u("br",null,null,-1)),m(C),r[4]||(r[4]=u("br",null,null,-1)),r[5]||(r[5]=u("br",null,null,-1)),"name"in e.value?(i(),p(F,{key:3,modelValue:e.value.name,"onUpdate:modelValue":r[1]||(r[1]=s=>e.value.name=s),placeholder:(V=e.value)==null?void 0:V.name,label:a.$t("settings.player_name"),variant:"outlined",clearable:"",class:"configcolumnleft",style:{"margin-right":"25px"}},null,8,["modelValue","placeholder","label"])):o("",!0),"enabled"in e.value?(i(),p(G,{key:4,modelValue:e.value.enabled,"onUpdate:modelValue":r[2]||(r[2]=s=>e.value.enabled=s),label:a.$t("settings.enable_player"),color:"primary",disabled:(k=l(t).getProviderManifest(e.value.provider))==null?void 0:k.builtin},null,8,["modelValue","label","disabled"])):o("",!0),l(t).players[e.value.player_id]&&l(t).players[e.value.player_id].type!==l(U).GROUP?(i(),p(O,{key:5,onClick:w},{default:d(()=>[y(n(a.$t("open_dsp_settings")),1)]),_:1})):o("",!0)])):o("",!0),r[6]||(r[6]=u("br",null,null,-1)),m(C),e.value?(i(),p(R,{key:1,disabled:!e.value.enabled,"config-entries":Object.values(e.value.values),onSubmit:B},null,8,["disabled","config-entries"])):o("",!0)]}),_:1})]))}});export{le as default};
