# from kt_base.FileUtils import FileUtils
# from kt_text.MarkdownConverter import MarkdownConverter
from kt_base.CommonUtils import CommonUtils

print(CommonUtils.generate_uuid())
markdown_text = """
     # keytop数据分析报告\n###### 2024-09\n\n## 总结\n本次分析的停车场为1个，之江饭店停车场。整体来看，车场在临停管理和抵扣管理方面存在一些问题。具体表现在：\n- 异常放行金额占比为1.00%，接近警戒线，需要关注。\n- 临停异常放行数据中，出场匹配不到入场车辆占比为0.08%，未超过1%，设备运行正常。\n- 人为操作异常笔数较少，没有发现明显的设备或操作问题。\n- 月租车位占比为41.25%，未超出总车位数，但免费车位占比高达36.97%，需进一步优化。\n- 抵扣金额占整体临停应收金额较大，主要抵扣来源为商户券和西软酒店对接，部分车牌抵扣次数较多。\n\n## 一、临停部分\n### 1. 异常放行和跟车放行损失情况\n#### 1.1 整体分析\n- **临停总应收金额**：469,535元\n- **异常放行总金额**：4,710元\n- **异常放行占比**：1.00%\n- **跟车放行总金额**：0元\n- **跟车放行占比**：0.00%\n- **总损失金额**：4,710元\n- **总损失占比**：1.00%\n\n异常放行和跟车放行损失金额占比加起来为1.00%，接近警戒线，但尚未超过1%。整体来看，管理处于合格状态，但需关注异常放行的情况。\n\n### 2. 临停异常放行数据\n#### 2.1 出场匹配不到入场车辆占比\n- **车场名字**：之江饭店停车场\n- **出场车辆数**：15,403辆\n- **出场匹配不到入场车辆数**：13辆\n- **不匹配占比**：0.08%\n- **是否超过1%**：否\n\n出场匹配不到入场车辆占比为0.08%，未超过1%，设备运行正常。\n\n### 3. 人为操作异常\n#### 3.1 人为操作异常笔数\n- **总人为操作笔数**：1笔\n- **异常操作记录**：\n  - **车场**：之江饭店停车场\n  - **操作人员**：无\n  - **操作类型**：无\n  - **异常笔数**：1笔\n\n人为操作异常笔数较少，仅为1笔，未发现明显的设备或操作问题。\n\n## 二、月租数据分析\n### 1. 月租车位数超出总车位数情况\n- **车场名称**：之江饭店停车场\n- **月租车位数**：165个\n- **总车位数**：400个\n- **月租车位占比**：41.25%\n- **占比是否超过100%**：否\n\n之江饭店停车场的月租车位数未超出总车位数，占比为41.25%。\n\n### 2. 免费套餐情况\n- **车场名称**：之江饭店停车场\n- **免费车位数**：61个\n- **收费车位数**：104个\n- **免费车位占比**：36.97%\n\n之江饭店停车场的免费车位占比为36.97%，超过15%，可能存在月租管理问题。\n\n## 三、抵扣数据分析\n### 1. 抵扣金额占比情况\n- **所有车场抵扣订单总数**：8,239笔\n- **所有车场抵扣金额**：357,340元\n- **所有车场抵扣金额占比**：0%\n\n抵扣金额占整体临停应收金额较大，具体情况如下：\n\n### 2. 各个抵扣来源的抵扣金额及占比情况\n- **主要抵扣来源**：\n  - **抵扣来源**：商户券\n  - **抵扣金额**：279,310元\n  - **抵扣金额占比**：0%\n  - **抵扣来源**：西软酒店对接\n  - **抵扣金额**：64,510元\n  - **抵扣金额占比**：0%\n  - **抵扣来源**：开迈斯新能源科技\n  - **抵扣金额**：13,470元\n  - **抵扣金额占比**：0%\n\n主要抵扣来源为商户券和西软酒店对接。\n\n### 3. 减免金额较多的商户\n- **减免停车金额较多的商户**：\n  - **车场**：之江饭店停车场\n  - **商户**：朗达科技\n  - **分摊收入**：686元\n  - **减免停车金额**：980元\n  - **盈亏金额**：-294元\n  - **商户**：杭州壳研\n  - **分摊收入**：161元\n  - **减免停车金额**：160元\n  - **盈亏金额**：1元\n\n减免金额较多的商户有朗达科技和杭州壳研。\n\n### 4. 抵扣异常的车牌\n- **抵扣超过15次的车牌**：\n  | 车场 | 车牌号 | 抵扣次数 |\n  | --- | --- | --- |\n  | 之江饭店停车场 | 浙ACQ433 | 27 |\n  | 之江饭店停车场 | 浙ABE1207 | 20 |\n  | 之江饭店停车场 | 浙ABA3323 | 17 |\n  | 之江饭店停车场 | 浙A2T926 | 17 |\n  | 之江饭店停车场 | 浙ABP9590 | 16 |\n\n抵扣次数较多的车牌前5名如上表所示。
    """
#style = FileUtils.read_file("")
#print(MarkdownConverter(markdown_text).to_pdf(style))