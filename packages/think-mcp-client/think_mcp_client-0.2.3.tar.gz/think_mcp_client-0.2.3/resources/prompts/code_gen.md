---
description: 【代码重构方案】解决项目代码复用问题，通过将原代码重构成 Python 包，实现 MCP 客户端基础功能和 CLI 交互逻辑的分离，达到模块化、便捷使用的效果。
name: code_gen
---
帮我对这个项目做一下重构，这个项目本来是另一个项目的额一部分代码，但是我发现他可以单独的被调用，所以我想把它单独拎出来，重构成一个 python 包，发布到 pypi 上，方便以后便捷使用。我想重构成以下两大类：
1. mcp client base 类负责维护和 MCP 服务器的连接，主要是通过函数接口实现的；
2. 而 mcp client cli 类继承自 mcp client base 类，但是特殊的实现了 CLI 交互的一些逻辑。

重构时的注意事项：
1. 因为我这些代码是实际可以跑的，所以我希望你尽量复用这些代码；
2. 可以根据实际的功能修改恰当的名字等；
3. 有些包注意从 think_llm_client  引入，复用已经有的功能；
4. 从 think_mcp_host 引入的包不用管，你要在你自身这里实现，要不然循环调用了。

请仔细认真，开始吧！ 