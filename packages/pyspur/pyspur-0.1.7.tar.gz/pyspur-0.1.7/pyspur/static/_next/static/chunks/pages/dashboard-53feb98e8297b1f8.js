(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[724],{87100:(e,r,t)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard",function(){return t(21681)}])},21681:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>K});var s=t(74848),a=t(96540),l=t(8640),n=t(77528),o=t(55456),i=t(59639),c=t(72748),d=t(97151),u=t(65468),m=t(29080),x=t(76208),h=t(69231),f=t(23825),p=t(22424),w=t(33016),g=t(15445),j=t(98536),b=t(64030),y=(e,r)=>(0,b.Gv)(e)?e instanceof Array?[...e]:e[r]:e,v=t(37399),N=t(13368),k=t.n(N),S=t(86715),E=t(71468),C=t(81924),I=t(90407),P=t(28624),_=t(5147);function D(e){let{title:r,description:t,features:a,onUse:l}=e;return(0,s.jsxs)(I.Z,{className:"relative w-full",children:[(0,s.jsxs)(P.U,{className:"relative min-h-[180px] bg-gradient-to-br from-content1 to-default-100/50 p-6",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold mb-2",children:r}),(0,s.jsx)("p",{className:"text-default-500 text-sm mb-3",children:t}),a&&a.length>0&&(0,s.jsx)("ul",{className:"list-disc pl-5 mb-2",children:a.map((e,r)=>(0,s.jsxs)("li",{className:"flex items-center text-sm",children:[(0,s.jsx)(v.In,{icon:"solar:check-circle-linear",className:"text-green-500 mr-2"}),e]},r))})]}),(0,s.jsx)(_.Z,{className:"border-t-1 border-default-100 justify-end py-2 px-4",children:(0,s.jsx)(c.T,{color:"primary",variant:"flat",onPress:l,startContent:(0,s.jsx)(v.In,{icon:"lucide:copy",width:16}),children:"Use Template"})})]})}var R=t(88344),T=t(83785),O=t(60550),A=t(53171),L=t(85202),z=t(99881);function F(e){let{isOpen:r,onClose:t}=e,a=(0,E.wA)(),l=()=>{a((0,z.L)()),t()};return(0,s.jsx)(R.Y,{isOpen:r,onClose:l,children:(0,s.jsxs)(T.g,{children:[(0,s.jsx)(O.c,{children:"Welcome to PySpur! \uD83D\uDC4B"}),(0,s.jsxs)(A.h,{children:[(0,s.jsx)("p",{children:"PySpur is your platform for building and managing AI workflows."}),(0,s.jsx)("p",{children:"Get started by:"}),(0,s.jsxs)("ul",{className:"list-disc pl-6",children:[(0,s.jsx)("li",{children:"Creating a new Spur from scratch"}),(0,s.jsx)("li",{children:"Using one of our templates"}),(0,s.jsx)("li",{children:"Importing an existing workflow"})]})]}),(0,s.jsx)(L.q,{children:(0,s.jsx)(c.T,{color:"primary",onPress:l,children:"Get Started"})})]})})}var q=t(49517),W=t(81945),V=t(97080),J=t(83840),U=t(13038);let B=e=>{let{isOpen:r,onClose:t,workflow:l,onSubmit:i}=e,[d,u]=(0,a.useState)("APPROVE"),[m,x]=(0,a.useState)({}),[h,f]=(0,a.useState)("");a.useEffect(()=>{var e;(null==l?void 0:null===(e=l.current_pause)||void 0===e?void 0:e.input_data)&&x(l.current_pause.input_data)},[l]);let p=(e,r)=>{let t=m[e]||"",a=r=>{x(t=>(0,o._)((0,n._)({},t),{[e]:r}))};switch(r.toLowerCase()){case"string":default:return(0,s.jsx)(q.r,{label:e,placeholder:"Enter ".concat(e),value:t,onChange:e=>a(e.target.value)},e);case"number":return(0,s.jsx)(q.r,{type:"number",label:e,placeholder:"Enter ".concat(e),value:t,onChange:e=>a(Number(e.target.value))},e);case"boolean":return(0,s.jsxs)(W.d,{label:e,placeholder:"Select ".concat(e),value:t,onChange:e=>a("true"===e.target.value),children:[(0,s.jsx)(V.y,{value:"true",children:"True"},"true"),(0,s.jsx)(V.y,{value:"false",children:"False"},"false")]},e)}};return(0,s.jsx)(R.Y,{size:"3xl",isOpen:r,onClose:t,children:(0,s.jsxs)(T.g,{children:[(0,s.jsxs)(O.c,{className:"flex flex-col gap-1",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold",children:"Human Input Required"}),(0,s.jsxs)("div",{className:"flex items-center gap-2 text-sm text-default-500",children:[(0,s.jsx)(j.R,{size:"sm",color:"warning",children:"Paused"}),(0,s.jsx)("span",{children:"•"}),(0,s.jsxs)("span",{children:["Workflow: ","name"in l.workflow?l.workflow.name:"Unnamed"]}),(0,s.jsx)("span",{children:"•"}),(0,s.jsxs)("span",{children:["Run ID: ",l.run.id]})]})]}),(0,s.jsx)(A.h,{children:(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("div",{className:"bg-default-100 p-4 rounded-lg",children:(0,s.jsxs)("div",{className:"flex items-start gap-3",children:[(0,s.jsx)(v.In,{icon:"lucide:alert-circle",className:"w-5 h-5 text-warning mt-0.5"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"font-medium",children:"Message"}),(0,s.jsx)("p",{className:"text-sm text-default-600",children:l.current_pause.pause_message}),(0,s.jsxs)("p",{className:"text-xs text-default-400 mt-1",children:["Paused ",(0,U.m)(new Date(l.current_pause.pause_time))," ago"]})]})]})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"font-medium mb-2",children:"Action"}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(c.T,{color:"APPROVE"===d?"success":"default",variant:"APPROVE"===d?"solid":"bordered",onPress:()=>u("APPROVE"),children:"Approve"}),(0,s.jsx)(c.T,{color:"DECLINE"===d?"danger":"default",variant:"DECLINE"===d?"solid":"bordered",onPress:()=>u("DECLINE"),children:"Decline"}),(0,s.jsx)(c.T,{color:"OVERRIDE"===d?"warning":"default",variant:"OVERRIDE"===d?"solid":"bordered",onPress:()=>u("OVERRIDE"),children:"Override"})]})]}),"DECLINE"!==d&&(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"font-medium mb-2",children:"Required Inputs"}),(0,s.jsx)("div",{className:"space-y-3",children:Object.entries((()=>{var e;let r=("definition"in l.workflow?l.workflow.definition:l.workflow).nodes.find(e=>e.id===l.current_pause.node_id);return(null==r?void 0:null===(e=r.config)||void 0===e?void 0:e.input_schema)||{}})()).map(e=>{let[r,t]=e;return p(r,t)})})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"font-medium mb-2",children:"Comments"}),(0,s.jsx)(J.P,{placeholder:"Add any comments about your decision...",value:h,onChange:e=>f(e.target.value)})]})]})}),(0,s.jsxs)(L.q,{children:[(0,s.jsx)(c.T,{variant:"bordered",onPress:t,children:"Cancel"}),(0,s.jsx)(c.T,{color:"primary",onPress:()=>{i(d,m,h),t()},children:"Submit Decision"})]})]})})};var M=t(6911),G=t(90708);let H=()=>((0,a.useEffect)(()=>{let e=document.querySelector('script[src="https://assets.calendly.com/assets/external/widget.js"]'),r=null;e||((r=document.createElement("script")).src="https://assets.calendly.com/assets/external/widget.js",r.async=!0,document.body.appendChild(r));let t=()=>{window.Calendly&&window.Calendly.initBadgeWidget({url:"https://calendly.com/d/cnf9-57m-bv3/pyspur-founders",text:"Talk to the founders",color:"#1a1a1a",textColor:"#ffffff"})};return e?t():r&&(r.onload=t),()=>{document.querySelectorAll(".calendly-badge-widget").forEach(e=>e.remove()),document.querySelectorAll(".calendly-inline-widget").forEach(e=>e.remove()),document.querySelectorAll(".calendly-overlay").forEach(e=>e.remove()),r&&document.body.contains(r)&&document.body.removeChild(r),window.Calendly&&delete window.Calendly}},[]),null),X=()=>{let e=(0,S.useRouter)(),[r,t]=(0,a.useState)([]),[l,b]=(0,a.useState)([]),[N,I]=(0,a.useState)([]),[P,_]=(0,a.useState)(!0),[R,T]=(0,a.useState)(!1),O=(0,E.d4)(e=>e.userPreferences.hasSeenWelcome),[A,L]=(0,a.useState)({}),[z,q]=(0,a.useState)(!0),[W,V]=(0,a.useState)(null),[J,X]=(0,a.useState)(1),[K,Y]=(0,a.useState)(!0),[Z,Q]=(0,a.useState)(!1),[$,ee]=(0,a.useState)([]),[er,et]=(0,a.useState)(null),[es,ea]=(0,a.useState)(!1),[el,en]=(0,a.useState)(!1),[eo,ei]=(0,a.useState)(null),[ec,ed]=(0,a.useState)("default"),[eu,em]=(0,a.useState)(!1),ex=function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default";ei(e),ed(r),em(!0),setTimeout(()=>{em(!1)},5e3)};(0,a.useEffect)(()=>{(async()=>{q(!0);try{let e=await (0,C.bg)(1),r=await Promise.all(e.map(e=>ef(e.id))).then(r=>{let t={};return e.forEach((e,s)=>{t[e.id]=r[s]||[]}),t}),s=[...e].sort((e,r)=>new Date(r.updated_at).getTime()-new Date(e.updated_at).getTime());t(s),T(!O&&0===e.length),L(r),Y(10===e.length)}catch(e){console.error("Error fetching workflows:",e)}finally{q(!1)}})()},[O]),(0,a.useEffect)(()=>{(async()=>{try{let e=await (0,C.yv)();b(e)}catch(e){console.error("Error fetching templates:",e)}})()},[]),(0,a.useEffect)(()=>{(async()=>{try{_(!0);let e=await (0,C.d5)(),r=[];for(let t of e){let e=await (0,C.CG)(t);r.push({name:t,value:e.value})}I(r)}catch(e){console.error("Error fetching API keys:",e)}finally{_(!1)}})()},[]),(0,a.useEffect)(()=>{(async()=>{en(!0);try{let e=await (0,C.v8)();ee(e)}catch(e){console.error("Error fetching paused workflows:",e)}finally{en(!1)}})()},[]);let eh=e=>new Date(e).toLocaleString(void 0,{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),ef=async e=>{try{return(await (0,C.ML)(e)).slice(0,5)}catch(e){console.error("Error fetching workflow runs:",e)}},ep=r=>{e.push({pathname:"/workflows/".concat(r.id)})},ew=async()=>{try{let r="New Spur ".concat(new Date().toLocaleString()),t=await (0,C.mw)({name:r,description:""});e.push("/workflows/".concat(t.id))}catch(e){console.error("Error creating new workflow:",e)}},eg=async()=>{try{let r=document.createElement("input");r.type="file",r.accept="application/json",r.onchange=async r=>{var t;let s=r.target,a=null===(t=s.files)||void 0===t?void 0:t[0];if(!a){alert("No file selected. Please try again.");return}let l=new FileReader;l.onload=async r=>{try{var t;let s=null===(t=r.target)||void 0===t?void 0:t.result;if("string"!=typeof s)return;let a=JSON.parse(s),l={name:"Imported Spur ".concat(new Date().toLocaleString()),description:a.description,definition:a.definition},n=await (0,C.mw)(l);e.push("/workflows/".concat(n.id))}catch(e){console.error("Error processing the JSON file:",e),alert("Failed to import workflow. Please ensure the file is a valid JSON.")}},l.readAsText(a)},r.click()}catch(e){console.error("Error importing workflow:",e)}},ej=async r=>{try{let t=await (0,C.B)(r);e.push("/workflows/".concat(t.id))}catch(e){console.error("Error using template:",e)}},eb=async e=>{if(window.confirm('Are you sure you want to delete workflow "'.concat(e.name,'"?')))try{await (0,C.L6)(e.id),t(r=>r.filter(r=>r.id!==e.id))}catch(e){console.error("Error deleting workflow:",e),alert("Failed to delete workflow. Please try again.")}},ey=async e=>{try{let r=await (0,C.Fj)(e.id);t(e=>[r,...e]),V(r.id),setTimeout(()=>{V(null)},2e3)}catch(e){console.error("Error duplicating workflow:",e),alert("Failed to duplicate workflow. Please try again.")}},ev=e=>{window.open("/trace/".concat(e),"_blank")},eN=async()=>{Q(!0);try{let e=J+1,r=await (0,C.bg)(e);if(r.length>0){let s=await Promise.all(r.map(e=>ef(e.id))).then(e=>{let t={};return r.forEach((r,s)=>{t[r.id]=e[s]||[]}),t});t(e=>[...e,...r].sort((e,r)=>new Date(r.updated_at).getTime()-new Date(e.updated_at).getTime())),L(e=>(0,n._)({},e,s)),X(e),Y(10===r.length)}else Y(!1)}catch(e){console.error("Error loading more workflows:",e)}finally{Q(!1)}},ek=async(e,r,t)=>{if(er)try{console.log("Selected workflow:",er),console.log("Input data:",r);let s=er.run.id,a=er.run.workflow_id;if(console.log("Workflow ID:",a),console.log("Run ID:",s),s)try{await (0,C.ir)(s,{inputs:r,user_id:"current-user",action:e,comments:t}),ex("Workflow resumed with action: ".concat(e),"success"),ea(!1),et(null)}catch(e){console.error("Error resuming workflow:",e),ex("Failed to resume workflow","danger")}else console.error("Cannot resume workflow: Run ID is missing or invalid"),ex("Cannot resume workflow: missing run ID","danger");let l=await (0,C.v8)();ee(l)}catch(e){console.error("Error submitting human input:",e),ex("Error submitting human input","danger")}},eS=async(e,r)=>{try{let t=e.run.id;if(t){let e={inputs:{},user_id:"current-user",action:r,comments:"Quick ".concat(r.toLowerCase()," from dashboard")};await (0,C.ir)(t,e),ex("Workflow ".concat(r.toLowerCase(),"d successfully"),"success");let s=await (0,C.v8)();ee(s)}else console.error("Cannot perform action: Run ID is missing or invalid"),ex("Cannot perform action: missing run ID","danger")}catch(e){console.error("Error performing ".concat(r," action:"),e),ex("Failed to ".concat(r.toLowerCase()," workflow"),"danger")}},eE=async e=>{try{let r=e.run.id;if(r){if(window.confirm("Are you sure you want to cancel this workflow? This action cannot be undone.")){await (0,C.mF)(r),ex("Workflow canceled successfully","success");let e=await (0,C.v8)();ee(e)}}else console.error("Cannot cancel workflow: Run ID is missing or invalid"),ex("Cannot cancel workflow: missing run ID","danger")}catch(e){console.error("Error canceling workflow:",e),ex("Failed to cancel workflow","danger")}},eC=(0,a.useCallback)(r=>{let t=r[0];if(!t)return;let s=new FileReader;s.onload=async r=>{try{var t;let s=null===(t=r.target)||void 0===t?void 0:t.result;if("string"!=typeof s)return;let a=JSON.parse(s),l={name:"Imported Spur ".concat(new Date().toLocaleString()),description:a.description,definition:a.definition},n=await (0,C.mw)(l);e.push("/workflows/".concat(n.id))}catch(e){console.error("Error processing dropped JSON file:",e),alert("Failed to import workflow. Please ensure the file is a valid JSON.")}},s.readAsText(t)},[e]),{getRootProps:eI,getInputProps:eP,isDragActive:e_}=(0,M.VB)({onDrop:eC,accept:{"application/json":[".json"]},noClick:!0,noKeyboard:!0});return(0,s.jsxs)("div",(0,o._)((0,n._)({},eI()),{className:"relative flex flex-col gap-2 max-w-7xl w-full mx-auto pt-2 px-6",children:[(0,s.jsx)("input",(0,n._)({},eP())),e_&&(0,s.jsxs)("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-primary/10 backdrop-blur-sm border-2 border-dashed border-primary rounded-lg z-50 transition-all duration-300 animate-in fade-in",children:[(0,s.jsx)(G.A,{className:"w-16 h-16 text-primary mb-4"}),(0,s.jsx)("p",{className:"text-primary text-xl font-bold",children:"Drop workflow JSON file here"}),(0,s.jsx)("p",{className:"text-primary/80 text-sm mt-2",children:"Release to import your workflow"})]}),(0,s.jsx)(k(),{children:(0,s.jsx)("link",{href:"https://assets.calendly.com/assets/external/widget.css",rel:"stylesheet"})}),eu&&eo&&(0,s.jsx)(i.B,{className:"mb-4",variant:"solid",color:ec,onClose:()=>em(!1),children:eo}),(0,s.jsx)(H,{}),(0,s.jsx)(F,{isOpen:R,onClose:()=>T(!1)}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("header",{className:"mb-6 flex w-full items-center flex-col gap-2",children:[!P&&(0===N.length||N.every(e=>!e.value||""===e.value))&&(0,s.jsx)("div",{className:"w-full",children:(0,s.jsx)(i.B,{variant:"bordered",className:"mb-2",startContent:(0,s.jsx)(v.In,{icon:"lucide:alert-triangle",width:16}),children:"No API keys have been set. Please configure your API keys in the settings to use the application."})}),(0,s.jsxs)("div",{className:"flex w-full items-center",children:[(0,s.jsxs)("div",{className:"flex flex-col max-w-fit",id:"dashboard-title",children:[(0,s.jsx)("h1",{className:"text-lg font-bold text-default-900 lg:text-2xl",children:"Dashboard"}),(0,s.jsx)("p",{className:"text-small text-default-400 lg:text-medium",children:"Manage your spurs"})]}),(0,s.jsxs)("div",{className:"ml-auto flex items-center gap-2",id:"new-workflow-entries",children:[(0,s.jsx)(c.T,{className:"bg-foreground text-background dark:bg-foreground/90 dark:text-background/90",startContent:(0,s.jsx)(v.In,{className:"flex-none text-background/60",icon:"lucide:plus",width:16}),onPress:ew,children:"New Spur"}),(0,s.jsx)(c.T,{className:"bg-foreground text-background dark:bg-foreground/90 dark:text-background/90",startContent:(0,s.jsx)(v.In,{className:"flex-none text-background/60",icon:"lucide:upload",width:16}),onPress:eg,children:"Import Spur (or drop JSON file)"})]})]})]}),(0,s.jsxs)(d.D,{defaultExpandedKeys:new Set(["workflows","templates","human-tasks"]),selectionMode:"multiple",children:[(0,s.jsx)(u.R,{"aria-label":"Recent Spurs",title:(0,s.jsx)("h3",{className:"text-xl font-semibold",children:"Recent Spurs"}),children:z?(0,s.jsx)("div",{className:"flex justify-center p-4",children:(0,s.jsx)(m.o,{size:"lg"})}):r.length>0?(0,s.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,s.jsxs)(x.j,{"aria-label":"Saved Workflows",isHeaderSticky:!0,children:[(0,s.jsx)(h.X,{columns:[{key:"id",label:"ID"},{key:"name",label:"Name"},{key:"action",label:"Action"},{key:"recentRuns",label:"Recent Runs"},{key:"updated_at",label:"Last Modified"}],children:e=>(0,s.jsx)(f.e,{children:e.label},e.key)}),(0,s.jsx)(p.E,{items:r,children:e=>(0,s.jsx)(w.s,{className:"transition-colors duration-200 hover:bg-primary-50 dark:hover:bg-primary-800/10 ".concat(W===e.id?"bg-primary-50 dark:bg-primary-800/10":""),children:r=>{var t;return(0,s.jsx)(g.w,{children:"action"===r?(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(v.In,{icon:"solar:pen-bold",className:"cursor-pointer text-default-400",height:18,width:18,onClick:()=>ep(e),"aria-label":"Edit"}),(0,s.jsx)(v.In,{icon:"solar:copy-bold",className:"cursor-pointer text-default-400",height:18,width:18,onClick:()=>ey(e),"aria-label":"Duplicate"}),(0,s.jsx)(v.In,{icon:"solar:trash-bin-trash-bold",className:"cursor-pointer text-default-400",height:18,width:18,onClick:()=>eb(e),"aria-label":"Delete"})]}):"recentRuns"===r?(0,s.jsx)("div",{className:"flex flex-wrap gap-2",children:null===(t=A[e.id])||void 0===t?void 0:t.map(e=>(0,s.jsx)(j.R,{size:"sm",variant:"flat",className:"cursor-pointer",onClick:()=>ev(e.id),children:e.id},e.id))}):"name"===r?(0,s.jsx)(j.R,{size:"sm",variant:"flat",className:"cursor-pointer",onClick:()=>ep(e),children:e.name}):"updated_at"===r?(0,s.jsx)("span",{className:"text-default-500",children:eh(y(e,r))}):y(e,r)})}},e.id)})]}),K&&(0,s.jsx)("div",{className:"flex justify-center mt-4",children:(0,s.jsx)(c.T,{variant:"flat",onPress:eN,isLoading:Z,startContent:!Z&&(0,s.jsx)(v.In,{icon:"lucide:plus",width:16}),children:Z?"Loading...":"Load More"})})]}):(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center p-12 my-8 bg-background rounded-xl border-border border shadow-sm",children:[(0,s.jsxs)("div",{className:"max-w-2xl text-center mb-12",children:[(0,s.jsx)("h3",{className:"text-2xl font-semibold mb-4 text-foreground flex items-center justify-center gap-2",children:"Welcome to PySpur!"}),(0,s.jsx)("p",{className:"text-lg text-muted-foreground",children:"Looks like you haven't created any spurs yet - let's get you started on your journey!"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 w-full max-w-4xl",children:[(0,s.jsxs)("div",{className:"flex flex-col items-center p-6 bg-background hover:bg-accent/5 rounded-xl border-border border transition-all hover:shadow-md cursor-pointer",onClick:ew,children:[(0,s.jsx)("div",{className:"rounded-full bg-background p-4 mb-4 border border-border",children:(0,s.jsx)(v.In,{icon:"lucide:plus",className:"w-8 h-8 text-foreground"})}),(0,s.jsx)("h4",{className:"text-lg font-medium mb-3 text-foreground",children:"Create New"}),(0,s.jsx)("p",{className:"text-medium text-center text-muted-foreground",children:'Start fresh with your own creation using the "New Spur" button above'})]}),(0,s.jsxs)("div",{className:"flex flex-col items-center p-6 bg-background hover:bg-accent/5 rounded-xl border-border border transition-all hover:shadow-md cursor-pointer",onClick:eg,children:[(0,s.jsx)("div",{className:"rounded-full bg-background p-4 mb-4 border border-border",children:(0,s.jsx)(v.In,{icon:"lucide:upload",className:"w-8 h-8 text-foreground"})}),(0,s.jsx)("h4",{className:"text-lg font-medium mb-3 text-foreground",children:"Import Existing"}),(0,s.jsx)("p",{className:"text-medium text-center text-muted-foreground",children:'Have a spur saved as JSON? Use the "Import Spur" button to bring it in'})]}),(0,s.jsxs)("div",{className:"flex flex-col items-center p-6 bg-background hover:bg-accent/5 rounded-xl border-border border transition-all hover:shadow-md cursor-pointer",onClick:()=>{let e=document.querySelector('[aria-label="Spur Templates"]');null==e||e.scrollIntoView({behavior:"smooth"})},children:[(0,s.jsx)("div",{className:"rounded-full bg-background p-4 mb-4 border border-border",children:(0,s.jsx)(v.In,{icon:"lucide:layout-grid",className:"w-8 h-8 text-foreground"})}),(0,s.jsx)("h4",{className:"text-lg font-medium mb-3 text-foreground",children:"Use Template"}),(0,s.jsx)("p",{className:"text-medium text-center text-muted-foreground",children:"Get started quickly with our ready-to-go templates in the section below"})]})]})]})},"workflows"),(0,s.jsx)(u.R,{"aria-label":"Human Tasks",title:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("h3",{className:"text-xl font-semibold",children:"Spurs Awaiting Human Approval"}),$.length>0&&(0,s.jsx)(j.R,{color:"warning",variant:"flat",size:"sm",children:$.length})]}),children:el?(0,s.jsx)("div",{className:"flex justify-center p-4",children:(0,s.jsx)(m.o,{size:"lg"})}):$.length>0?(0,s.jsx)("div",{className:"space-y-4",children:$.map(e=>(0,s.jsxs)("div",{className:"flex items-center justify-between p-4 bg-content2 rounded-lg border border-border",children:[(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,s.jsx)("h4",{className:"font-medium",children:e.workflow.name}),(0,s.jsx)(j.R,{size:"sm",color:"warning",children:"Paused"})]}),(0,s.jsx)("p",{className:"text-sm text-default-500 mb-2",children:e.current_pause.pause_message}),(0,s.jsxs)("div",{className:"flex items-center gap-4 text-xs text-default-400",children:[(0,s.jsxs)("span",{children:["Run ID: ",e.run.id]}),(0,s.jsx)("span",{children:"•"}),(0,s.jsxs)("span",{children:["Paused ",(0,U.m)(new Date(e.current_pause.pause_time),{addSuffix:!0})]})]})]}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(c.T,{color:"success",variant:"flat",onPress:()=>eS(e,"APPROVE"),startContent:(0,s.jsx)(v.In,{icon:"lucide:check",width:16}),isIconOnly:!0,size:"sm","aria-label":"Approve"}),(0,s.jsx)(c.T,{color:"danger",variant:"flat",onPress:()=>eS(e,"DECLINE"),startContent:(0,s.jsx)(v.In,{icon:"lucide:x",width:16}),isIconOnly:!0,size:"sm","aria-label":"Decline"}),(0,s.jsx)(c.T,{color:"primary",variant:"bordered",onPress:()=>{et(e),ea(!0)},startContent:(0,s.jsx)(v.In,{icon:"lucide:more-horizontal",width:16}),isIconOnly:!0,size:"sm","aria-label":"Details"}),(0,s.jsx)(c.T,{color:"default",variant:"light",onPress:()=>eE(e),startContent:(0,s.jsx)(v.In,{icon:"lucide:trash-2",width:16}),isIconOnly:!0,size:"sm","aria-label":"Cancel Workflow"})]})]},e.run.id))}):(0,s.jsx)("div",{className:"flex flex-col items-center justify-center p-8 text-center",children:(0,s.jsx)("p",{className:"text-muted-foreground",children:"No tasks currently requiring human approval."})})},"human-tasks"),(0,s.jsx)(u.R,{"aria-label":"Spur Templates",title:(0,s.jsx)("h3",{className:"text-xl font-semibold mb-4",children:"Spur Templates"}),children:(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-1 px-1 mb-8",children:l.map(e=>(0,s.jsx)(D,{title:e.name,description:e.description,features:e.features,onUse:()=>ej(e)},e.file_name))})},"templates")]})]}),er&&(0,s.jsx)(B,{isOpen:es,onClose:()=>{ea(!1),et(null)},workflow:er,onSubmit:ek})]}))},K=()=>(0,s.jsxs)("div",{className:"App relative",children:[(0,s.jsx)(l.A,{activePage:"dashboard"}),(0,s.jsx)(X,{})]})}},e=>{var r=r=>e(e.s=r);e.O(0,[998,872,83,657,640,636,593,792],()=>r(87100)),_N_E=e.O()}]);